var KA=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var A$=KA((_a,ka)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var fi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Um={exports:{}},hc={};var Sx;function WA(){if(Sx)return hc;Sx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var d in i)d!=="key"&&(l[d]=i[d])}else l=i;return i=l.ref,{$$typeof:t,type:s,key:c,ref:i!==void 0?i:null,props:l}}return hc.Fragment=e,hc.jsx=n,hc.jsxs=n,hc}var Nx;function XA(){return Nx||(Nx=1,Um.exports=WA()),Um.exports}var f=XA(),qm={exports:{}},Ye={};var Tx;function ZA(){if(Tx)return Ye;Tx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,C={};function R(M,Y,X){this.props=M,this.context=Y,this.refs=C,this.updater=X||N}R.prototype.isReactComponent={},R.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},R.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function E(){}E.prototype=R.prototype;function D(M,Y,X){this.props=M,this.context=Y,this.refs=C,this.updater=X||N}var I=D.prototype=new E;I.constructor=D,_(I,R.prototype),I.isPureReactComponent=!0;var P=Array.isArray;function U(){}var z={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function W(M,Y,X){var ie=X.ref;return{$$typeof:t,type:M,key:Y,ref:ie!==void 0?ie:null,props:X}}function se(M,Y){return W(M.type,Y,M.props)}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function F(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(X){return Y[X]})}var q=/\/+/g;function Z(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?F(""+M.key):Y.toString(36)}function re(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(U,U):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function A(M,Y,X,ie,me){var ge=typeof M;(ge==="undefined"||ge==="boolean")&&(M=null);var xe=!1;if(M===null)xe=!0;else switch(ge){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(M.$$typeof){case t:case e:xe=!0;break;case y:return xe=M._init,A(xe(M._payload),Y,X,ie,me)}}if(xe)return me=me(M),xe=ie===""?"."+Z(M,0):ie,P(me)?(X="",xe!=null&&(X=xe.replace(q,"$&/")+"/"),A(me,Y,X,"",function(oe){return oe})):me!=null&&(k(me)&&(me=se(me,X+(me.key==null||M&&M.key===me.key?"":(""+me.key).replace(q,"$&/")+"/")+xe)),Y.push(me)),1;xe=0;var Ce=ie===""?".":ie+":";if(P(M))for(var ee=0;ee<M.length;ee++)ie=M[ee],ge=Ce+Z(ie,ee),xe+=A(ie,Y,X,ge,me);else if(ee=w(M),typeof ee=="function")for(M=ee.call(M),ee=0;!(ie=M.next()).done;)ie=ie.value,ge=Ce+Z(ie,ee++),xe+=A(ie,Y,X,ge,me);else if(ge==="object"){if(typeof M.then=="function")return A(re(M),Y,X,ie,me);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return xe}function B(M,Y,X){if(M==null)return M;var ie=[],me=0;return A(M,ie,"","",function(ge){return Y.call(X,ge,me++)}),ie}function V(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(X){(M._status===0||M._status===-1)&&(M._status=1,M._result=X)},function(X){(M._status===0||M._status===-1)&&(M._status=2,M._result=X)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var le=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ue={map:B,forEach:function(M,Y,X){B(M,function(){Y.apply(this,arguments)},X)},count:function(M){var Y=0;return B(M,function(){Y++}),Y},toArray:function(M){return B(M,function(Y){return Y})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ye.Activity=b,Ye.Children=ue,Ye.Component=R,Ye.Fragment=n,Ye.Profiler=i,Ye.PureComponent=D,Ye.StrictMode=s,Ye.Suspense=h,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(M){return z.H.useMemoCache(M)}},Ye.cache=function(M){return function(){return M.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(M,Y,X){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ie=_({},M.props),me=M.key;if(Y!=null)for(ge in Y.key!==void 0&&(me=""+Y.key),Y)!L.call(Y,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&Y.ref===void 0||(ie[ge]=Y[ge]);var ge=arguments.length-2;if(ge===1)ie.children=X;else if(1<ge){for(var xe=Array(ge),Ce=0;Ce<ge;Ce++)xe[Ce]=arguments[Ce+2];ie.children=xe}return W(M.type,me,ie)},Ye.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Ye.createElement=function(M,Y,X){var ie,me={},ge=null;if(Y!=null)for(ie in Y.key!==void 0&&(ge=""+Y.key),Y)L.call(Y,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(me[ie]=Y[ie]);var xe=arguments.length-2;if(xe===1)me.children=X;else if(1<xe){for(var Ce=Array(xe),ee=0;ee<xe;ee++)Ce[ee]=arguments[ee+2];me.children=Ce}if(M&&M.defaultProps)for(ie in xe=M.defaultProps,xe)me[ie]===void 0&&(me[ie]=xe[ie]);return W(M,ge,me)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(M){return{$$typeof:d,render:M}},Ye.isValidElement=k,Ye.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:V}},Ye.memo=function(M,Y){return{$$typeof:m,type:M,compare:Y===void 0?null:Y}},Ye.startTransition=function(M){var Y=z.T,X={};z.T=X;try{var ie=M(),me=z.S;me!==null&&me(X,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(U,le)}catch(ge){le(ge)}finally{Y!==null&&X.types!==null&&(Y.types=X.types),z.T=Y}},Ye.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Ye.use=function(M){return z.H.use(M)},Ye.useActionState=function(M,Y,X){return z.H.useActionState(M,Y,X)},Ye.useCallback=function(M,Y){return z.H.useCallback(M,Y)},Ye.useContext=function(M){return z.H.useContext(M)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(M,Y){return z.H.useDeferredValue(M,Y)},Ye.useEffect=function(M,Y){return z.H.useEffect(M,Y)},Ye.useEffectEvent=function(M){return z.H.useEffectEvent(M)},Ye.useId=function(){return z.H.useId()},Ye.useImperativeHandle=function(M,Y,X){return z.H.useImperativeHandle(M,Y,X)},Ye.useInsertionEffect=function(M,Y){return z.H.useInsertionEffect(M,Y)},Ye.useLayoutEffect=function(M,Y){return z.H.useLayoutEffect(M,Y)},Ye.useMemo=function(M,Y){return z.H.useMemo(M,Y)},Ye.useOptimistic=function(M,Y){return z.H.useOptimistic(M,Y)},Ye.useReducer=function(M,Y,X){return z.H.useReducer(M,Y,X)},Ye.useRef=function(M){return z.H.useRef(M)},Ye.useState=function(M){return z.H.useState(M)},Ye.useSyncExternalStore=function(M,Y,X){return z.H.useSyncExternalStore(M,Y,X)},Ye.useTransition=function(){return z.H.useTransition()},Ye.version="19.2.3",Ye}var Ex;function Nf(){return Ex||(Ex=1,qm.exports=ZA()),qm.exports}var T=Nf();const fa=Sf(T);var $m={exports:{}},mc={},Vm={exports:{}},Hm={};var Cx;function QA(){return Cx||(Cx=1,(function(t){function e(A,B){var V=A.length;A.push(B);e:for(;0<V;){var le=V-1>>>1,ue=A[le];if(0<i(ue,B))A[le]=B,A[V]=ue,V=le;else break e}}function n(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var B=A[0],V=A.pop();if(V!==B){A[0]=V;e:for(var le=0,ue=A.length,M=ue>>>1;le<M;){var Y=2*(le+1)-1,X=A[Y],ie=Y+1,me=A[ie];if(0>i(X,V))ie<ue&&0>i(me,X)?(A[le]=me,A[ie]=V,le=ie):(A[le]=X,A[Y]=V,le=Y);else if(ie<ue&&0>i(me,V))A[le]=me,A[ie]=V,le=ie;else break e}}return B}function i(A,B){var V=A.sortIndex-B.sortIndex;return V!==0?V:A.id-B.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],m=[],y=1,b=null,x=3,w=!1,N=!1,_=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function I(A){for(var B=n(m);B!==null;){if(B.callback===null)s(m);else if(B.startTime<=A)s(m),B.sortIndex=B.expirationTime,e(h,B);else break;B=n(m)}}function P(A){if(_=!1,I(A),!N)if(n(h)!==null)N=!0,U||(U=!0,F());else{var B=n(m);B!==null&&re(P,B.startTime-A)}}var U=!1,z=-1,L=5,W=-1;function se(){return C?!0:!(t.unstable_now()-W<L)}function k(){if(C=!1,U){var A=t.unstable_now();W=A;var B=!0;try{e:{N=!1,_&&(_=!1,E(z),z=-1),w=!0;var V=x;try{t:{for(I(A),b=n(h);b!==null&&!(b.expirationTime>A&&se());){var le=b.callback;if(typeof le=="function"){b.callback=null,x=b.priorityLevel;var ue=le(b.expirationTime<=A);if(A=t.unstable_now(),typeof ue=="function"){b.callback=ue,I(A),B=!0;break t}b===n(h)&&s(h),I(A)}else s(h);b=n(h)}if(b!==null)B=!0;else{var M=n(m);M!==null&&re(P,M.startTime-A),B=!1}}break e}finally{b=null,x=V,w=!1}B=void 0}}finally{B?F():U=!1}}}var F;if(typeof D=="function")F=function(){D(k)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Z=q.port2;q.port1.onmessage=k,F=function(){Z.postMessage(null)}}else F=function(){R(k,0)};function re(A,B){z=R(function(){A(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(A){switch(x){case 1:case 2:case 3:var B=3;break;default:B=x}var V=x;x=B;try{return A()}finally{x=V}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(A,B){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var V=x;x=A;try{return B()}finally{x=V}},t.unstable_scheduleCallback=function(A,B,V){var le=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?le+V:le):V=le,A){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=V+ue,A={id:y++,callback:B,priorityLevel:A,startTime:V,expirationTime:ue,sortIndex:-1},V>le?(A.sortIndex=V,e(m,A),n(h)===null&&A===n(m)&&(_?(E(z),z=-1):_=!0,re(P,V-le))):(A.sortIndex=ue,e(h,A),N||w||(N=!0,U||(U=!0,F()))),A},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(A){var B=x;return function(){var V=x;x=B;try{return A.apply(this,arguments)}finally{x=V}}}})(Hm)),Hm}var Ax;function JA(){return Ax||(Ax=1,Vm.exports=QA()),Vm.exports}var Fm={exports:{}},Rn={};var jx;function ej(){if(jx)return Rn;jx=1;var t=Nf();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(h,m,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:h,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Rn.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(h,m,null,y)},Rn.flushSync=function(h){var m=c.T,y=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=m,s.p=y,s.d.f()}},Rn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(h,m))},Rn.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},Rn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var y=m.as,b=d(y,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:w}):y==="script"&&s.d.X(h,{crossOrigin:b,integrity:x,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Rn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);s.d.M(h,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(h)},Rn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,b=d(y,m.crossOrigin);s.d.L(h,y,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Rn.preloadModule=function(h,m){if(typeof h=="string")if(m){var y=d(m.as,m.crossOrigin);s.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(h)},Rn.requestFormReset=function(h){s.d.r(h)},Rn.unstable_batchedUpdates=function(h,m){return h(m)},Rn.useFormState=function(h,m,y){return c.H.useFormState(h,m,y)},Rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Rn.version="19.2.3",Rn}var _x;function Q2(){if(_x)return Fm.exports;_x=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fm.exports=ej(),Fm.exports}var kx;function tj(){if(kx)return mc;kx=1;var t=JA(),e=Nf(),n=Q2();function s(a){var r="https://react.dev/errors/"+a;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+a+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function l(a){var r=a,o=a;if(a.alternate)for(;r.return;)r=r.return;else{a=r;do r=a,(r.flags&4098)!==0&&(o=r.return),a=r.return;while(a)}return r.tag===3?o:null}function c(a){if(a.tag===13){var r=a.memoizedState;if(r===null&&(a=a.alternate,a!==null&&(r=a.memoizedState)),r!==null)return r.dehydrated}return null}function d(a){if(a.tag===31){var r=a.memoizedState;if(r===null&&(a=a.alternate,a!==null&&(r=a.memoizedState)),r!==null)return r.dehydrated}return null}function h(a){if(l(a)!==a)throw Error(s(188))}function m(a){var r=a.alternate;if(!r){if(r=l(a),r===null)throw Error(s(188));return r!==a?null:a}for(var o=a,u=r;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return h(p),a;if(g===u)return h(p),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=p,u=g;else{for(var S=!1,j=p.child;j;){if(j===o){S=!0,o=p,u=g;break}if(j===u){S=!0,u=p,o=g;break}j=j.sibling}if(!S){for(j=g.child;j;){if(j===o){S=!0,o=g,u=p;break}if(j===u){S=!0,u=g,o=p;break}j=j.sibling}if(!S)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?a:r}function y(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a;for(a=a.child;a!==null;){if(r=y(a),r!==null)return r;a=a.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),D=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=k&&a[k]||a["@@iterator"],typeof a=="function"?a:null)}var q=Symbol.for("react.client.reference");function Z(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===q?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case R:return"Profiler";case C:return"StrictMode";case P:return"Suspense";case U:return"SuspenseList";case W:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case N:return"Portal";case D:return a.displayName||"Context";case E:return(a._context.displayName||"Context")+".Consumer";case I:var r=a.render;return a=a.displayName,a||(a=r.displayName||r.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case z:return r=a.displayName||null,r!==null?r:Z(a.type)||"Memo";case L:r=a._payload,a=a._init;try{return Z(a(r))}catch{}}return null}var re=Array.isArray,A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},le=[],ue=-1;function M(a){return{current:a}}function Y(a){0>ue||(a.current=le[ue],le[ue]=null,ue--)}function X(a,r){ue++,le[ue]=a.current,a.current=r}var ie=M(null),me=M(null),ge=M(null),xe=M(null);function Ce(a,r){switch(X(ge,r),X(me,a),X(ie,null),r.nodeType){case 9:case 11:a=(a=r.documentElement)&&(a=a.namespaceURI)?Fb(a):0;break;default:if(a=r.tagName,r=r.namespaceURI)r=Fb(r),a=Gb(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Y(ie),X(ie,a)}function ee(){Y(ie),Y(me),Y(ge)}function oe(a){a.memoizedState!==null&&X(xe,a);var r=ie.current,o=Gb(r,a.type);r!==o&&(X(me,a),X(ie,o))}function pe(a){me.current===a&&(Y(ie),Y(me)),xe.current===a&&(Y(xe),cc._currentValue=V)}var ve,we;function Se(a){if(ve===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ve=r&&r[1]||"",we=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+a+we}var je=!1;function be(a,r){if(!a||je)return"";je=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ae){var te=ae}Reflect.construct(a,[],he)}else{try{he.call()}catch(ae){te=ae}a.call(he.prototype)}}else{try{throw Error()}catch(ae){te=ae}(he=a())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ae){if(ae&&te&&typeof ae.stack=="string")return[ae.stack,te.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),S=g[0],j=g[1];if(S&&j){var $=S.split(`
`),J=j.split(`
`);for(p=u=0;u<$.length&&!$[u].includes("DetermineComponentFrameRoot");)u++;for(;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;if(u===$.length||p===J.length)for(u=$.length-1,p=J.length-1;1<=u&&0<=p&&$[u]!==J[p];)p--;for(;1<=u&&0<=p;u--,p--)if($[u]!==J[p]){if(u!==1||p!==1)do if(u--,p--,0>p||$[u]!==J[p]){var ce=`
`+$[u].replace(" at new "," at ");return a.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",a.displayName)),ce}while(1<=u&&0<=p);break}}}finally{je=!1,Error.prepareStackTrace=o}return(o=a?a.displayName||a.name:"")?Se(o):""}function Ke(a,r){switch(a.tag){case 26:case 27:case 5:return Se(a.type);case 16:return Se("Lazy");case 13:return a.child!==r&&r!==null?Se("Suspense Fallback"):Se("Suspense");case 19:return Se("SuspenseList");case 0:case 15:return be(a.type,!1);case 11:return be(a.type.render,!1);case 1:return be(a.type,!0);case 31:return Se("Activity");default:return""}}function Xe(a){try{var r="",o=null;do r+=Ke(a,o),o=a,a=a.return;while(a);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ze=Object.prototype.hasOwnProperty,He=t.unstable_scheduleCallback,ot=t.unstable_cancelCallback,zt=t.unstable_shouldYield,Gt=t.unstable_requestPaint,st=t.unstable_now,Be=t.unstable_getCurrentPriorityLevel,Ge=t.unstable_ImmediatePriority,mt=t.unstable_UserBlockingPriority,Ie=t.unstable_NormalPriority,Bt=t.unstable_LowPriority,St=t.unstable_IdlePriority,Ja=t.log,zn=t.unstable_setDisableYieldValue,Bn=null,Rt=null;function bn(a){if(typeof Ja=="function"&&zn(a),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(Bn,a)}catch{}}var It=Math.clz32?Math.clz32:Cn,Ss=Math.log,es=Math.LN2;function Cn(a){return a>>>=0,a===0?32:31-(Ss(a)/es|0)|0}var pa=256,Zn=262144,An=4194304;function xn(a){var r=a&42;if(r!==0)return r;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function jn(a,r,o){var u=a.pendingLanes;if(u===0)return 0;var p=0,g=a.suspendedLanes,S=a.pingedLanes;a=a.warmLanes;var j=u&134217727;return j!==0?(u=j&~g,u!==0?p=xn(u):(S&=j,S!==0?p=xn(S):o||(o=j&~a,o!==0&&(p=xn(o))))):(j=u&~g,j!==0?p=xn(j):S!==0?p=xn(S):o||(o=u&~a,o!==0&&(p=xn(o)))),p===0?0:r!==0&&r!==p&&(r&g)===0&&(g=p&-p,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:p}function ga(a,r){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&r)===0}function Gs(a,r){switch(a){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ts(){var a=An;return An<<=1,(An&62914560)===0&&(An=4194304),a}function In(a){for(var r=[],o=0;31>o;o++)r.push(a);return r}function Qn(a,r){a.pendingLanes|=r,r!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Jn(a,r,o,u,p,g){var S=a.pendingLanes;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=o,a.entangledLanes&=o,a.errorRecoveryDisabledLanes&=o,a.shellSuspendCounter=0;var j=a.entanglements,$=a.expirationTimes,J=a.hiddenUpdates;for(o=S&~o;0<o;){var ce=31-It(o),he=1<<ce;j[ce]=0,$[ce]=-1;var te=J[ce];if(te!==null)for(J[ce]=null,ce=0;ce<te.length;ce++){var ae=te[ce];ae!==null&&(ae.lane&=-536870913)}o&=~he}u!==0&&Ns(a,u,0),g!==0&&p===0&&a.tag!==0&&(a.suspendedLanes|=g&~(S&~r))}function Ns(a,r,o){a.pendingLanes|=r,a.suspendedLanes&=~r;var u=31-It(r);a.entangledLanes|=r,a.entanglements[u]=a.entanglements[u]|1073741824|o&261930}function Or(a,r){var o=a.entangledLanes|=r;for(a=a.entanglements;o;){var u=31-It(o),p=1<<u;p&r|a[u]&r&&(a[u]|=r),o&=~p}}function Dr(a,r){var o=r&-r;return o=(o&42)!==0?1:ns(o),(o&(a.suspendedLanes|r))!==0?0:o}function ns(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ea(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ut(){var a=B.p;return a!==0?a:(a=window.event,a===void 0?32:px(a.type))}function Ys(a,r){var o=B.p;try{return B.p=a,r()}finally{B.p=o}}var mn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+mn,Xt="__reactProps$"+mn,ta="__reactContainer$"+mn,Et="__reactEvents$"+mn,Ks="__reactListeners$"+mn,Ti="__reactHandles$"+mn,Ws="__reactResources$"+mn,as="__reactMarker$"+mn;function Ts(a){delete a[Tt],delete a[Xt],delete a[Et],delete a[Ks],delete a[Ti]}function Lt(a){var r=a[Tt];if(r)return r;for(var o=a.parentNode;o;){if(r=o[ta]||o[Tt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(a=Jb(a);a!==null;){if(o=a[Tt])return o;a=Jb(a)}return r}a=o,o=a.parentNode}return null}function ya(a){if(a=a[Tt]||a[ta]){var r=a.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return a}return null}function na(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a.stateNode;throw Error(s(33))}function _n(a){var r=a[Ws];return r||(r=a[Ws]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ct(a){a[as]=!0}var Un=new Set,aa={};function sa(a,r){qn(a,r),qn(a+"Capture",r)}function qn(a,r){for(aa[a]=r,a=0;a<r.length;a++)Un.add(r[a])}var $n=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Es={},Xs={};function Ei(a){return ze.call(Xs,a)?!0:ze.call(Es,a)?!1:$n.test(a)?Xs[a]=!0:(Es[a]=!0,!1)}function Cs(a,r,o){if(Ei(r))if(o===null)a.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":a.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){a.removeAttribute(r);return}}a.setAttribute(r,""+o)}}function Zs(a,r,o){if(o===null)a.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(r);return}a.setAttribute(r,""+o)}}function ye(a,r,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttributeNS(r,o,""+u)}}function Oe(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function qe(a){var r=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function kn(a,r,o){var u=Object.getOwnPropertyDescriptor(a.constructor.prototype,r);if(!a.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,g=u.set;return Object.defineProperty(a,r,{configurable:!0,get:function(){return p.call(this)},set:function(S){o=""+S,g.call(this,S)}}),Object.defineProperty(a,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){a._valueTracker=null,delete a[r]}}}}function As(a){if(!a._valueTracker){var r=qe(a)?"checked":"value";a._valueTracker=kn(a,r,""+a[r])}}function js(a){if(!a)return!1;var r=a._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return a&&(u=qe(a)?a.checked?"true":"false":a.value),a=u,a!==o?(r.setValue(a),!0):!1}function Ma(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Al=/[\n"\\]/g;function On(a){return a.replace(Al,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ci(a,r,o,u,p,g,S,j){a.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?a.type=S:a.removeAttribute("type"),r!=null?S==="number"?(r===0&&a.value===""||a.value!=r)&&(a.value=""+Oe(r)):a.value!==""+Oe(r)&&(a.value=""+Oe(r)):S!=="submit"&&S!=="reset"||a.removeAttribute("value"),r!=null?Ai(a,S,Oe(r)):o!=null?Ai(a,S,Oe(o)):u!=null&&a.removeAttribute("value"),p==null&&g!=null&&(a.defaultChecked=!!g),p!=null&&(a.checked=p&&typeof p!="function"&&typeof p!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.name=""+Oe(j):a.removeAttribute("name")}function Mr(a,r,o,u,p,g,S,j){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(a.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){As(a);return}o=o!=null?""+Oe(o):"",r=r!=null?""+Oe(r):o,j||r===a.value||(a.value=r),a.defaultValue=r}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,a.checked=j?a.checked:!!u,a.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.name=S),As(a)}function Ai(a,r,o){r==="number"&&Ma(a.ownerDocument)===a||a.defaultValue===""+o||(a.defaultValue=""+o)}function _s(a,r,o,u){if(a=a.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<a.length;o++)p=r.hasOwnProperty("$"+a[o].value),a[o].selected!==p&&(a[o].selected=p),p&&u&&(a[o].defaultSelected=!0)}else{for(o=""+Oe(o),r=null,p=0;p<a.length;p++){if(a[p].value===o){a[p].selected=!0,u&&(a[p].defaultSelected=!0);return}r!==null||a[p].disabled||(r=a[p])}r!==null&&(r.selected=!0)}}function ks(a,r,o){if(r!=null&&(r=""+Oe(r),r!==a.value&&(a.value=r),o==null)){a.defaultValue!==r&&(a.defaultValue=r);return}a.defaultValue=o!=null?""+Oe(o):""}function ra(a,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(re(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Oe(r),a.defaultValue=o,u=a.textContent,u===o&&u!==""&&u!==null&&(a.value=u),As(a)}function Dn(a,r){if(r){var o=a.firstChild;if(o&&o===a.lastChild&&o.nodeType===3){o.nodeValue=r;return}}a.textContent=r}var ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function po(a,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?a.setProperty(r,""):r==="float"?a.cssFloat="":a[r]="":u?a.setProperty(r,o):typeof o!="number"||o===0||ss.has(r)?r==="float"?a.cssFloat=o:a[r]=(""+o).trim():a[r]=o+"px"}function ba(a,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(a=a.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="");for(var p in r)u=r[p],r.hasOwnProperty(p)&&o[p]!==u&&po(a,p,u)}else for(var g in r)r.hasOwnProperty(g)&&po(a,g,r[g])}function ji(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_l=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rr(a){return _l.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ia(){}var sn=null;function Lr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var rs=null,xa=null;function Pr(a){var r=ya(a);if(r&&(a=r.stateNode)){var o=a[Xt]||null;e:switch(a=r.stateNode,r.type){case"input":if(Ci(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=a;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+On(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==a&&u.form===a.form){var p=u[Xt]||null;if(!p)throw Error(s(90));Ci(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===a.form&&js(u)}break e;case"textarea":ks(a,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&_s(a,!!o.multiple,r,!1)}}}var Os=!1;function go(a,r,o){if(Os)return a(r,o);Os=!0;try{var u=a(r);return u}finally{if(Os=!1,(rs!==null||xa!==null)&&(Wu(),rs&&(r=rs,a=xa,xa=rs=null,Pr(r),a)))for(r=0;r<a.length;r++)Pr(a[r])}}function Ds(a,r){var o=a.stateNode;if(o===null)return null;var u=o[Xt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(a=a.type,u=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!u;break e;default:a=!1}if(a)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zr=!1;if(Vn)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){zr=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{zr=!1}var va=null,Qs=null,Br=null;function yo(){if(Br)return Br;var a,r=Qs,o=r.length,u,p="value"in va?va.value:va.textContent,g=p.length;for(a=0;a<o&&r[a]===p[a];a++);var S=o-a;for(u=1;u<=S&&r[o-u]===p[g-u];u++);return Br=p.slice(a,1<u?1-u:void 0)}function v(a){var r=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&r===13&&(a=13)):a=r,a===10&&(a=13),32<=a||a===13?a:0}function O(){return!0}function H(){return!1}function ne(a){function r(o,u,p,g,S){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var j in a)a.hasOwnProperty(j)&&(o=a[j],this[j]=o?o(g):g[j]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?O:H,this.isPropagationStopped=H,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=O)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=O)},persist:function(){},isPersistent:O}),r}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Me=ne($e),Je=b({},$e,{view:0,detail:0}),rt=ne(Je),Ot,lt,qt,rn=b({},Je,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ff,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==qt&&(qt&&a.type==="mousemove"?(Ot=a.screenX-qt.screenX,lt=a.screenY-qt.screenY):lt=Ot=0,qt=a),Ot)},movementY:function(a){return"movementY"in a?a.movementY:lt}}),$t=ne(rn),pn=b({},rn,{dataTransfer:0}),on=ne(pn),Ms=b({},Je,{relatedTarget:0}),wa=ne(Ms),Js=b({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=ne(Js),bo=b({},$e,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),xo=ne(bo),eC=b({},$e,{data:0}),W0=ne(eC),tC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sC(a){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(a):(a=aC[a])?!!r[a]:!1}function Ff(){return sC}var rC=b({},Je,{key:function(a){if(a.key){var r=tC[a.key]||a.key;if(r!=="Unidentified")return r}return a.type==="keypress"?(a=v(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?nC[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ff,charCode:function(a){return a.type==="keypress"?v(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?v(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),iC=ne(rC),oC=b({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X0=ne(oC),lC=b({},Je,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ff}),cC=ne(lC),uC=b({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),dC=ne(uC),fC=b({},rn,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),hC=ne(fC),mC=b({},$e,{newState:0,oldState:0}),pC=ne(mC),gC=[9,13,27,32],Gf=Vn&&"CompositionEvent"in window,kl=null;Vn&&"documentMode"in document&&(kl=document.documentMode);var yC=Vn&&"TextEvent"in window&&!kl,Z0=Vn&&(!Gf||kl&&8<kl&&11>=kl),Q0=" ",J0=!1;function ey(a,r){switch(a){case"keyup":return gC.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ty(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var vo=!1;function bC(a,r){switch(a){case"compositionend":return ty(r);case"keypress":return r.which!==32?null:(J0=!0,Q0);case"textInput":return a=r.data,a===Q0&&J0?null:a;default:return null}}function xC(a,r){if(vo)return a==="compositionend"||!Gf&&ey(a,r)?(a=yo(),Br=Qs=va=null,vo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Z0&&r.locale!=="ko"?null:r.data;default:return null}}var vC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ny(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r==="input"?!!vC[a.type]:r==="textarea"}function ay(a,r,o,u){rs?xa?xa.push(u):xa=[u]:rs=u,r=nd(r,"onChange"),0<r.length&&(o=new Me("onChange","change",null,o,u),a.push({event:o,listeners:r}))}var Ol=null,Dl=null;function wC(a){Ib(a,0)}function mu(a){var r=na(a);if(js(r))return a}function sy(a,r){if(a==="change")return r}var ry=!1;if(Vn){var Yf;if(Vn){var Kf="oninput"in document;if(!Kf){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),Kf=typeof iy.oninput=="function"}Yf=Kf}else Yf=!1;ry=Yf&&(!document.documentMode||9<document.documentMode)}function oy(){Ol&&(Ol.detachEvent("onpropertychange",ly),Dl=Ol=null)}function ly(a){if(a.propertyName==="value"&&mu(Dl)){var r=[];ay(r,Dl,a,Lr(a)),go(wC,r)}}function SC(a,r,o){a==="focusin"?(oy(),Ol=r,Dl=o,Ol.attachEvent("onpropertychange",ly)):a==="focusout"&&oy()}function NC(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return mu(Dl)}function TC(a,r){if(a==="click")return mu(r)}function EC(a,r){if(a==="input"||a==="change")return mu(r)}function CC(a,r){return a===r&&(a!==0||1/a===1/r)||a!==a&&r!==r}var Sa=typeof Object.is=="function"?Object.is:CC;function Ml(a,r){if(Sa(a,r))return!0;if(typeof a!="object"||a===null||typeof r!="object"||r===null)return!1;var o=Object.keys(a),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!ze.call(r,p)||!Sa(a[p],r[p]))return!1}return!0}function cy(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function uy(a,r){var o=cy(a);a=0;for(var u;o;){if(o.nodeType===3){if(u=a+o.textContent.length,a<=r&&u>=r)return{node:o,offset:r-a};a=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=cy(o)}}function dy(a,r){return a&&r?a===r?!0:a&&a.nodeType===3?!1:r&&r.nodeType===3?dy(a,r.parentNode):"contains"in a?a.contains(r):a.compareDocumentPosition?!!(a.compareDocumentPosition(r)&16):!1:!1}function fy(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var r=Ma(a.document);r instanceof a.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)a=r.contentWindow;else break;r=Ma(a.document)}return r}function Wf(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r&&(r==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||r==="textarea"||a.contentEditable==="true")}var AC=Vn&&"documentMode"in document&&11>=document.documentMode,wo=null,Xf=null,Rl=null,Zf=!1;function hy(a,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Zf||wo==null||wo!==Ma(u)||(u=wo,"selectionStart"in u&&Wf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Rl&&Ml(Rl,u)||(Rl=u,u=nd(Xf,"onSelect"),0<u.length&&(r=new Me("onSelect","select",null,r,o),a.push({event:r,listeners:u}),r.target=wo)))}function _i(a,r){var o={};return o[a.toLowerCase()]=r.toLowerCase(),o["Webkit"+a]="webkit"+r,o["Moz"+a]="moz"+r,o}var So={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},Qf={},my={};Vn&&(my=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function ki(a){if(Qf[a])return Qf[a];if(!So[a])return a;var r=So[a],o;for(o in r)if(r.hasOwnProperty(o)&&o in my)return Qf[a]=r[o];return a}var py=ki("animationend"),gy=ki("animationiteration"),yy=ki("animationstart"),jC=ki("transitionrun"),_C=ki("transitionstart"),kC=ki("transitioncancel"),by=ki("transitionend"),xy=new Map,Jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jf.push("scrollEnd");function is(a,r){xy.set(a,r),sa(r,[a])}var pu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Ra=[],No=0,eh=0;function gu(){for(var a=No,r=eh=No=0;r<a;){var o=Ra[r];Ra[r++]=null;var u=Ra[r];Ra[r++]=null;var p=Ra[r];Ra[r++]=null;var g=Ra[r];if(Ra[r++]=null,u!==null&&p!==null){var S=u.pending;S===null?p.next=p:(p.next=S.next,S.next=p),u.pending=p}g!==0&&vy(o,p,g)}}function yu(a,r,o,u){Ra[No++]=a,Ra[No++]=r,Ra[No++]=o,Ra[No++]=u,eh|=u,a.lanes|=u,a=a.alternate,a!==null&&(a.lanes|=u)}function th(a,r,o,u){return yu(a,r,o,u),bu(a)}function Oi(a,r){return yu(a,null,null,r),bu(a)}function vy(a,r,o){a.lanes|=o;var u=a.alternate;u!==null&&(u.lanes|=o);for(var p=!1,g=a.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(a=g.stateNode,a===null||a._visibility&1||(p=!0)),a=g,g=g.return;return a.tag===3?(g=a.stateNode,p&&r!==null&&(p=31-It(o),a=g.hiddenUpdates,u=a[p],u===null?a[p]=[r]:u.push(r),r.lane=o|536870912),g):null}function bu(a){if(50<nc)throw nc=0,um=null,Error(s(185));for(var r=a.return;r!==null;)a=r,r=a.return;return a.tag===3?a.stateNode:null}var To={};function OC(a,r,o,u){this.tag=a,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Na(a,r,o,u){return new OC(a,r,o,u)}function nh(a){return a=a.prototype,!(!a||!a.isReactComponent)}function er(a,r){var o=a.alternate;return o===null?(o=Na(a.tag,r,a.key,a.mode),o.elementType=a.elementType,o.type=a.type,o.stateNode=a.stateNode,o.alternate=a,a.alternate=o):(o.pendingProps=r,o.type=a.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=a.flags&65011712,o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,r=a.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=a.sibling,o.index=a.index,o.ref=a.ref,o.refCleanup=a.refCleanup,o}function wy(a,r){a.flags&=65011714;var o=a.alternate;return o===null?(a.childLanes=0,a.lanes=r,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,r=o.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a}function xu(a,r,o,u,p,g){var S=0;if(u=a,typeof a=="function")nh(a)&&(S=1);else if(typeof a=="string")S=PA(a,o,ie.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case W:return a=Na(31,o,r,p),a.elementType=W,a.lanes=g,a;case _:return Di(o.children,p,g,r);case C:S=8,p|=24;break;case R:return a=Na(12,o,r,p|2),a.elementType=R,a.lanes=g,a;case P:return a=Na(13,o,r,p),a.elementType=P,a.lanes=g,a;case U:return a=Na(19,o,r,p),a.elementType=U,a.lanes=g,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:S=10;break e;case E:S=9;break e;case I:S=11;break e;case z:S=14;break e;case L:S=16,u=null;break e}S=29,o=Error(s(130,a===null?"null":typeof a,"")),u=null}return r=Na(S,o,r,p),r.elementType=a,r.type=u,r.lanes=g,r}function Di(a,r,o,u){return a=Na(7,a,u,r),a.lanes=o,a}function ah(a,r,o){return a=Na(6,a,null,r),a.lanes=o,a}function Sy(a){var r=Na(18,null,null,0);return r.stateNode=a,r}function sh(a,r,o){return r=Na(4,a.children!==null?a.children:[],a.key,r),r.lanes=o,r.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},r}var Ny=new WeakMap;function La(a,r){if(typeof a=="object"&&a!==null){var o=Ny.get(a);return o!==void 0?o:(r={value:a,source:r,stack:Xe(r)},Ny.set(a,r),r)}return{value:a,source:r,stack:Xe(r)}}var Eo=[],Co=0,vu=null,Ll=0,Pa=[],za=0,Ir=null,Rs=1,Ls="";function tr(a,r){Eo[Co++]=Ll,Eo[Co++]=vu,vu=a,Ll=r}function Ty(a,r,o){Pa[za++]=Rs,Pa[za++]=Ls,Pa[za++]=Ir,Ir=a;var u=Rs;a=Ls;var p=32-It(u)-1;u&=~(1<<p),o+=1;var g=32-It(r)+p;if(30<g){var S=p-p%5;g=(u&(1<<S)-1).toString(32),u>>=S,p-=S,Rs=1<<32-It(r)+p|o<<p|u,Ls=g+a}else Rs=1<<g|o<<p|u,Ls=a}function rh(a){a.return!==null&&(tr(a,1),Ty(a,1,0))}function ih(a){for(;a===vu;)vu=Eo[--Co],Eo[Co]=null,Ll=Eo[--Co],Eo[Co]=null;for(;a===Ir;)Ir=Pa[--za],Pa[za]=null,Ls=Pa[--za],Pa[za]=null,Rs=Pa[--za],Pa[za]=null}function Ey(a,r){Pa[za++]=Rs,Pa[za++]=Ls,Pa[za++]=Ir,Rs=r.id,Ls=r.overflow,Ir=a}var vn=null,At=null,it=!1,Ur=null,Ba=!1,oh=Error(s(519));function qr(a){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(La(r,a)),oh}function Cy(a){var r=a.stateNode,o=a.type,u=a.memoizedProps;switch(r[Tt]=a,r[Xt]=u,o){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(o=0;o<sc.length;o++)tt(sc[o],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":tt("invalid",r),Mr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":tt("invalid",r);break;case"textarea":tt("invalid",r),ra(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Vb(r.textContent,o)?(u.popover!=null&&(tt("beforetoggle",r),tt("toggle",r)),u.onScroll!=null&&tt("scroll",r),u.onScrollEnd!=null&&tt("scrollend",r),u.onClick!=null&&(r.onclick=ia),r=!0):r=!1,r||qr(a,!0)}function Ay(a){for(vn=a.return;vn;)switch(vn.tag){case 5:case 31:case 13:Ba=!1;return;case 27:case 3:Ba=!0;return;default:vn=vn.return}}function Ao(a){if(a!==vn)return!1;if(!it)return Ay(a),it=!0,!1;var r=a.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=a.type,o=!(o!=="form"&&o!=="button")||Em(a.type,a.memoizedProps)),o=!o),o&&At&&qr(a),Ay(a),r===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));At=Qb(a)}else if(r===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));At=Qb(a)}else r===27?(r=At,ti(a.type)?(a=km,km=null,At=a):At=r):At=vn?Ua(a.stateNode.nextSibling):null;return!0}function Mi(){At=vn=null,it=!1}function lh(){var a=Ur;return a!==null&&(ua===null?ua=a:ua.push.apply(ua,a),Ur=null),a}function Pl(a){Ur===null?Ur=[a]:Ur.push(a)}var ch=M(null),Ri=null,nr=null;function $r(a,r,o){X(ch,r._currentValue),r._currentValue=o}function ar(a){a._currentValue=ch.current,Y(ch)}function uh(a,r,o){for(;a!==null;){var u=a.alternate;if((a.childLanes&r)!==r?(a.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),a===o)break;a=a.return}}function dh(a,r,o,u){var p=a.child;for(p!==null&&(p.return=a);p!==null;){var g=p.dependencies;if(g!==null){var S=p.child;g=g.firstContext;e:for(;g!==null;){var j=g;g=p;for(var $=0;$<r.length;$++)if(j.context===r[$]){g.lanes|=o,j=g.alternate,j!==null&&(j.lanes|=o),uh(g.return,o,a),u||(S=null);break e}g=j.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(s(341));S.lanes|=o,g=S.alternate,g!==null&&(g.lanes|=o),uh(S,o,a),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===a){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function jo(a,r,o,u){a=null;for(var p=r,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var j=p.type;Sa(p.pendingProps.value,S.value)||(a!==null?a.push(j):a=[j])}}else if(p===xe.current){if(S=p.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(a!==null?a.push(cc):a=[cc])}p=p.return}a!==null&&dh(r,a,o,u),r.flags|=262144}function wu(a){for(a=a.firstContext;a!==null;){if(!Sa(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Li(a){Ri=a,nr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function wn(a){return jy(Ri,a)}function Su(a,r){return Ri===null&&Li(a),jy(a,r)}function jy(a,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},nr===null){if(a===null)throw Error(s(308));nr=r,a.dependencies={lanes:0,firstContext:r},a.flags|=524288}else nr=nr.next=r;return o}var DC=typeof AbortController<"u"?AbortController:function(){var a=[],r=this.signal={aborted:!1,addEventListener:function(o,u){a.push(u)}};this.abort=function(){r.aborted=!0,a.forEach(function(o){return o()})}},MC=t.unstable_scheduleCallback,RC=t.unstable_NormalPriority,Zt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fh(){return{controller:new DC,data:new Map,refCount:0}}function zl(a){a.refCount--,a.refCount===0&&MC(RC,function(){a.controller.abort()})}var Bl=null,hh=0,_o=0,ko=null;function LC(a,r){if(Bl===null){var o=Bl=[];hh=0,_o=gm(),ko={status:"pending",value:void 0,then:function(u){o.push(u)}}}return hh++,r.then(_y,_y),r}function _y(){if(--hh===0&&Bl!==null){ko!==null&&(ko.status="fulfilled");var a=Bl;Bl=null,_o=0,ko=null;for(var r=0;r<a.length;r++)(0,a[r])()}}function PC(a,r){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return a.then(function(){u.status="fulfilled",u.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var ky=A.S;A.S=function(a,r){hb=st(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&LC(a,r),ky!==null&&ky(a,r)};var Pi=M(null);function mh(){var a=Pi.current;return a!==null?a:wt.pooledCache}function Nu(a,r){r===null?X(Pi,Pi.current):X(Pi,r.pool)}function Oy(){var a=mh();return a===null?null:{parent:Zt._currentValue,pool:a}}var Oo=Error(s(460)),ph=Error(s(474)),Tu=Error(s(542)),Eu={then:function(){}};function Dy(a){return a=a.status,a==="fulfilled"||a==="rejected"}function My(a,r,o){switch(o=a[o],o===void 0?a.push(r):o!==r&&(r.then(ia,ia),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,Ly(a),a;default:if(typeof r.status=="string")r.then(ia,ia);else{if(a=wt,a!==null&&100<a.shellSuspendCounter)throw Error(s(482));a=r,a.status="pending",a.then(function(u){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=u}},function(u){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,Ly(a),a}throw Bi=r,Oo}}function zi(a){try{var r=a._init;return r(a._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Bi=o,Oo):o}}var Bi=null;function Ry(){if(Bi===null)throw Error(s(459));var a=Bi;return Bi=null,a}function Ly(a){if(a===Oo||a===Tu)throw Error(s(483))}var Do=null,Il=0;function Cu(a){var r=Il;return Il+=1,Do===null&&(Do=[]),My(Do,a,r)}function Ul(a,r){r=r.props.ref,a.ref=r!==void 0?r:null}function Au(a,r){throw r.$$typeof===x?Error(s(525)):(a=Object.prototype.toString.call(r),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":a)))}function Py(a){function r(K,G){if(a){var Q=K.deletions;Q===null?(K.deletions=[G],K.flags|=16):Q.push(G)}}function o(K,G){if(!a)return null;for(;G!==null;)r(K,G),G=G.sibling;return null}function u(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function p(K,G){return K=er(K,G),K.index=0,K.sibling=null,K}function g(K,G,Q){return K.index=Q,a?(Q=K.alternate,Q!==null?(Q=Q.index,Q<G?(K.flags|=67108866,G):Q):(K.flags|=67108866,G)):(K.flags|=1048576,G)}function S(K){return a&&K.alternate===null&&(K.flags|=67108866),K}function j(K,G,Q,de){return G===null||G.tag!==6?(G=ah(Q,K.mode,de),G.return=K,G):(G=p(G,Q),G.return=K,G)}function $(K,G,Q,de){var Ue=Q.type;return Ue===_?ce(K,G,Q.props.children,de,Q.key):G!==null&&(G.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===L&&zi(Ue)===G.type)?(G=p(G,Q.props),Ul(G,Q),G.return=K,G):(G=xu(Q.type,Q.key,Q.props,null,K.mode,de),Ul(G,Q),G.return=K,G)}function J(K,G,Q,de){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=sh(Q,K.mode,de),G.return=K,G):(G=p(G,Q.children||[]),G.return=K,G)}function ce(K,G,Q,de,Ue){return G===null||G.tag!==7?(G=Di(Q,K.mode,de,Ue),G.return=K,G):(G=p(G,Q),G.return=K,G)}function he(K,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=ah(""+G,K.mode,Q),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return Q=xu(G.type,G.key,G.props,null,K.mode,Q),Ul(Q,G),Q.return=K,Q;case N:return G=sh(G,K.mode,Q),G.return=K,G;case L:return G=zi(G),he(K,G,Q)}if(re(G)||F(G))return G=Di(G,K.mode,Q,null),G.return=K,G;if(typeof G.then=="function")return he(K,Cu(G),Q);if(G.$$typeof===D)return he(K,Su(K,G),Q);Au(K,G)}return null}function te(K,G,Q,de){var Ue=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ue!==null?null:j(K,G,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return Q.key===Ue?$(K,G,Q,de):null;case N:return Q.key===Ue?J(K,G,Q,de):null;case L:return Q=zi(Q),te(K,G,Q,de)}if(re(Q)||F(Q))return Ue!==null?null:ce(K,G,Q,de,null);if(typeof Q.then=="function")return te(K,G,Cu(Q),de);if(Q.$$typeof===D)return te(K,G,Su(K,Q),de);Au(K,Q)}return null}function ae(K,G,Q,de,Ue){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return K=K.get(Q)||null,j(G,K,""+de,Ue);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case w:return K=K.get(de.key===null?Q:de.key)||null,$(G,K,de,Ue);case N:return K=K.get(de.key===null?Q:de.key)||null,J(G,K,de,Ue);case L:return de=zi(de),ae(K,G,Q,de,Ue)}if(re(de)||F(de))return K=K.get(Q)||null,ce(G,K,de,Ue,null);if(typeof de.then=="function")return ae(K,G,Q,Cu(de),Ue);if(de.$$typeof===D)return ae(K,G,Q,Su(G,de),Ue);Au(G,de)}return null}function Ae(K,G,Q,de){for(var Ue=null,ct=null,Re=G,Ze=G=0,at=null;Re!==null&&Ze<Q.length;Ze++){Re.index>Ze?(at=Re,Re=null):at=Re.sibling;var ut=te(K,Re,Q[Ze],de);if(ut===null){Re===null&&(Re=at);break}a&&Re&&ut.alternate===null&&r(K,Re),G=g(ut,G,Ze),ct===null?Ue=ut:ct.sibling=ut,ct=ut,Re=at}if(Ze===Q.length)return o(K,Re),it&&tr(K,Ze),Ue;if(Re===null){for(;Ze<Q.length;Ze++)Re=he(K,Q[Ze],de),Re!==null&&(G=g(Re,G,Ze),ct===null?Ue=Re:ct.sibling=Re,ct=Re);return it&&tr(K,Ze),Ue}for(Re=u(Re);Ze<Q.length;Ze++)at=ae(Re,K,Ze,Q[Ze],de),at!==null&&(a&&at.alternate!==null&&Re.delete(at.key===null?Ze:at.key),G=g(at,G,Ze),ct===null?Ue=at:ct.sibling=at,ct=at);return a&&Re.forEach(function(ii){return r(K,ii)}),it&&tr(K,Ze),Ue}function Ve(K,G,Q,de){if(Q==null)throw Error(s(151));for(var Ue=null,ct=null,Re=G,Ze=G=0,at=null,ut=Q.next();Re!==null&&!ut.done;Ze++,ut=Q.next()){Re.index>Ze?(at=Re,Re=null):at=Re.sibling;var ii=te(K,Re,ut.value,de);if(ii===null){Re===null&&(Re=at);break}a&&Re&&ii.alternate===null&&r(K,Re),G=g(ii,G,Ze),ct===null?Ue=ii:ct.sibling=ii,ct=ii,Re=at}if(ut.done)return o(K,Re),it&&tr(K,Ze),Ue;if(Re===null){for(;!ut.done;Ze++,ut=Q.next())ut=he(K,ut.value,de),ut!==null&&(G=g(ut,G,Ze),ct===null?Ue=ut:ct.sibling=ut,ct=ut);return it&&tr(K,Ze),Ue}for(Re=u(Re);!ut.done;Ze++,ut=Q.next())ut=ae(Re,K,Ze,ut.value,de),ut!==null&&(a&&ut.alternate!==null&&Re.delete(ut.key===null?Ze:ut.key),G=g(ut,G,Ze),ct===null?Ue=ut:ct.sibling=ut,ct=ut);return a&&Re.forEach(function(YA){return r(K,YA)}),it&&tr(K,Ze),Ue}function vt(K,G,Q,de){if(typeof Q=="object"&&Q!==null&&Q.type===_&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:e:{for(var Ue=Q.key;G!==null;){if(G.key===Ue){if(Ue=Q.type,Ue===_){if(G.tag===7){o(K,G.sibling),de=p(G,Q.props.children),de.return=K,K=de;break e}}else if(G.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===L&&zi(Ue)===G.type){o(K,G.sibling),de=p(G,Q.props),Ul(de,Q),de.return=K,K=de;break e}o(K,G);break}else r(K,G);G=G.sibling}Q.type===_?(de=Di(Q.props.children,K.mode,de,Q.key),de.return=K,K=de):(de=xu(Q.type,Q.key,Q.props,null,K.mode,de),Ul(de,Q),de.return=K,K=de)}return S(K);case N:e:{for(Ue=Q.key;G!==null;){if(G.key===Ue)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){o(K,G.sibling),de=p(G,Q.children||[]),de.return=K,K=de;break e}else{o(K,G);break}else r(K,G);G=G.sibling}de=sh(Q,K.mode,de),de.return=K,K=de}return S(K);case L:return Q=zi(Q),vt(K,G,Q,de)}if(re(Q))return Ae(K,G,Q,de);if(F(Q)){if(Ue=F(Q),typeof Ue!="function")throw Error(s(150));return Q=Ue.call(Q),Ve(K,G,Q,de)}if(typeof Q.then=="function")return vt(K,G,Cu(Q),de);if(Q.$$typeof===D)return vt(K,G,Su(K,Q),de);Au(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,G!==null&&G.tag===6?(o(K,G.sibling),de=p(G,Q),de.return=K,K=de):(o(K,G),de=ah(Q,K.mode,de),de.return=K,K=de),S(K)):o(K,G)}return function(K,G,Q,de){try{Il=0;var Ue=vt(K,G,Q,de);return Do=null,Ue}catch(Re){if(Re===Oo||Re===Tu)throw Re;var ct=Na(29,Re,null,K.mode);return ct.lanes=de,ct.return=K,ct}}}var Ii=Py(!0),zy=Py(!1),Vr=!1;function gh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yh(a,r){a=a.updateQueue,r.updateQueue===a&&(r.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Hr(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Fr(a,r,o){var u=a.updateQueue;if(u===null)return null;if(u=u.shared,(ft&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,r=bu(a),vy(a,null,o),r}return yu(a,u,r,o),bu(a)}function ql(a,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=a.pendingLanes,o|=u,r.lanes=o,Or(a,o)}}function bh(a,r){var o=a.updateQueue,u=a.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=S:g=g.next=S,o=o.next}while(o!==null);g===null?p=g=r:g=g.next=r}else p=g=r;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},a.updateQueue=o;return}a=o.lastBaseUpdate,a===null?o.firstBaseUpdate=r:a.next=r,o.lastBaseUpdate=r}var xh=!1;function $l(){if(xh){var a=ko;if(a!==null)throw a}}function Vl(a,r,o,u){xh=!1;var p=a.updateQueue;Vr=!1;var g=p.firstBaseUpdate,S=p.lastBaseUpdate,j=p.shared.pending;if(j!==null){p.shared.pending=null;var $=j,J=$.next;$.next=null,S===null?g=J:S.next=J,S=$;var ce=a.alternate;ce!==null&&(ce=ce.updateQueue,j=ce.lastBaseUpdate,j!==S&&(j===null?ce.firstBaseUpdate=J:j.next=J,ce.lastBaseUpdate=$))}if(g!==null){var he=p.baseState;S=0,ce=J=$=null,j=g;do{var te=j.lane&-536870913,ae=te!==j.lane;if(ae?(nt&te)===te:(u&te)===te){te!==0&&te===_o&&(xh=!0),ce!==null&&(ce=ce.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ae=a,Ve=j;te=r;var vt=o;switch(Ve.tag){case 1:if(Ae=Ve.payload,typeof Ae=="function"){he=Ae.call(vt,he,te);break e}he=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ve.payload,te=typeof Ae=="function"?Ae.call(vt,he,te):Ae,te==null)break e;he=b({},he,te);break e;case 2:Vr=!0}}te=j.callback,te!==null&&(a.flags|=64,ae&&(a.flags|=8192),ae=p.callbacks,ae===null?p.callbacks=[te]:ae.push(te))}else ae={lane:te,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ce===null?(J=ce=ae,$=he):ce=ce.next=ae,S|=te;if(j=j.next,j===null){if(j=p.shared.pending,j===null)break;ae=j,j=ae.next,ae.next=null,p.lastBaseUpdate=ae,p.shared.pending=null}}while(!0);ce===null&&($=he),p.baseState=$,p.firstBaseUpdate=J,p.lastBaseUpdate=ce,g===null&&(p.shared.lanes=0),Xr|=S,a.lanes=S,a.memoizedState=he}}function By(a,r){if(typeof a!="function")throw Error(s(191,a));a.call(r)}function Iy(a,r){var o=a.callbacks;if(o!==null)for(a.callbacks=null,a=0;a<o.length;a++)By(o[a],r)}var Mo=M(null),ju=M(0);function Uy(a,r){a=fr,X(ju,a),X(Mo,r),fr=a|r.baseLanes}function vh(){X(ju,fr),X(Mo,Mo.current)}function wh(){fr=ju.current,Y(Mo),Y(ju)}var Ta=M(null),Ia=null;function Gr(a){var r=a.alternate;X(Yt,Yt.current&1),X(Ta,a),Ia===null&&(r===null||Mo.current!==null||r.memoizedState!==null)&&(Ia=a)}function Sh(a){X(Yt,Yt.current),X(Ta,a),Ia===null&&(Ia=a)}function qy(a){a.tag===22?(X(Yt,Yt.current),X(Ta,a),Ia===null&&(Ia=a)):Yr()}function Yr(){X(Yt,Yt.current),X(Ta,Ta.current)}function Ea(a){Y(Ta),Ia===a&&(Ia=null),Y(Yt)}var Yt=M(0);function _u(a){for(var r=a;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||jm(o)||_m(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var sr=0,We=null,bt=null,Qt=null,ku=!1,Ro=!1,Ui=!1,Ou=0,Hl=0,Lo=null,zC=0;function Vt(){throw Error(s(321))}function Nh(a,r){if(r===null)return!1;for(var o=0;o<r.length&&o<a.length;o++)if(!Sa(a[o],r[o]))return!1;return!0}function Th(a,r,o,u,p,g){return sr=g,We=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,A.H=a===null||a.memoizedState===null?T1:Ih,Ui=!1,g=o(u,p),Ui=!1,Ro&&(g=Vy(r,o,u,p)),$y(a),g}function $y(a){A.H=Yl;var r=bt!==null&&bt.next!==null;if(sr=0,Qt=bt=We=null,ku=!1,Hl=0,Lo=null,r)throw Error(s(300));a===null||Jt||(a=a.dependencies,a!==null&&wu(a)&&(Jt=!0))}function Vy(a,r,o,u){We=a;var p=0;do{if(Ro&&(Lo=null),Hl=0,Ro=!1,25<=p)throw Error(s(301));if(p+=1,Qt=bt=null,a.updateQueue!=null){var g=a.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}A.H=E1,g=r(o,u)}while(Ro);return g}function BC(){var a=A.H,r=a.useState()[0];return r=typeof r.then=="function"?Fl(r):r,a=a.useState()[0],(bt!==null?bt.memoizedState:null)!==a&&(We.flags|=1024),r}function Eh(){var a=Ou!==0;return Ou=0,a}function Ch(a,r,o){r.updateQueue=a.updateQueue,r.flags&=-2053,a.lanes&=~o}function Ah(a){if(ku){for(a=a.memoizedState;a!==null;){var r=a.queue;r!==null&&(r.pending=null),a=a.next}ku=!1}sr=0,Qt=bt=We=null,Ro=!1,Hl=Ou=0,Lo=null}function Hn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?We.memoizedState=Qt=a:Qt=Qt.next=a,Qt}function Kt(){if(bt===null){var a=We.alternate;a=a!==null?a.memoizedState:null}else a=bt.next;var r=Qt===null?We.memoizedState:Qt.next;if(r!==null)Qt=r,bt=a;else{if(a===null)throw We.alternate===null?Error(s(467)):Error(s(310));bt=a,a={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Qt===null?We.memoizedState=Qt=a:Qt=Qt.next=a}return Qt}function Du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(a){var r=Hl;return Hl+=1,Lo===null&&(Lo=[]),a=My(Lo,a,r),r=We,(Qt===null?r.memoizedState:Qt.next)===null&&(r=r.alternate,A.H=r===null||r.memoizedState===null?T1:Ih),a}function Mu(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Fl(a);if(a.$$typeof===D)return wn(a)}throw Error(s(438,String(a)))}function jh(a){var r=null,o=We.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=We.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Du(),We.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(a),u=0;u<a;u++)o[u]=se;return r.index++,o}function rr(a,r){return typeof r=="function"?r(a):r}function Ru(a){var r=Kt();return _h(r,bt,a)}function _h(a,r,o){var u=a.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var p=a.baseQueue,g=u.pending;if(g!==null){if(p!==null){var S=p.next;p.next=g.next,g.next=S}r.baseQueue=p=g,u.pending=null}if(g=a.baseState,p===null)a.memoizedState=g;else{r=p.next;var j=S=null,$=null,J=r,ce=!1;do{var he=J.lane&-536870913;if(he!==J.lane?(nt&he)===he:(sr&he)===he){var te=J.revertLane;if(te===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),he===_o&&(ce=!0);else if((sr&te)===te){J=J.next,te===_o&&(ce=!0);continue}else he={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(j=$=he,S=g):$=$.next=he,We.lanes|=te,Xr|=te;he=J.action,Ui&&o(g,he),g=J.hasEagerState?J.eagerState:o(g,he)}else te={lane:he,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(j=$=te,S=g):$=$.next=te,We.lanes|=he,Xr|=he;J=J.next}while(J!==null&&J!==r);if($===null?S=g:$.next=j,!Sa(g,a.memoizedState)&&(Jt=!0,ce&&(o=ko,o!==null)))throw o;a.memoizedState=g,a.baseState=S,a.baseQueue=$,u.lastRenderedState=g}return p===null&&(u.lanes=0),[a.memoizedState,u.dispatch]}function kh(a){var r=Kt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var u=o.dispatch,p=o.pending,g=r.memoizedState;if(p!==null){o.pending=null;var S=p=p.next;do g=a(g,S.action),S=S.next;while(S!==p);Sa(g,r.memoizedState)||(Jt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function Hy(a,r,o){var u=We,p=Kt(),g=it;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var S=!Sa((bt||p).memoizedState,o);if(S&&(p.memoizedState=o,Jt=!0),p=p.queue,Mh(Yy.bind(null,u,p,a),[a]),p.getSnapshot!==r||S||Qt!==null&&Qt.memoizedState.tag&1){if(u.flags|=2048,Po(9,{destroy:void 0},Gy.bind(null,u,p,o,r),null),wt===null)throw Error(s(349));g||(sr&127)!==0||Fy(u,r,o)}return o}function Fy(a,r,o){a.flags|=16384,a={getSnapshot:r,value:o},r=We.updateQueue,r===null?(r=Du(),We.updateQueue=r,r.stores=[a]):(o=r.stores,o===null?r.stores=[a]:o.push(a))}function Gy(a,r,o,u){r.value=o,r.getSnapshot=u,Ky(r)&&Wy(a)}function Yy(a,r,o){return o(function(){Ky(r)&&Wy(a)})}function Ky(a){var r=a.getSnapshot;a=a.value;try{var o=r();return!Sa(a,o)}catch{return!0}}function Wy(a){var r=Oi(a,2);r!==null&&da(r,a,2)}function Oh(a){var r=Hn();if(typeof a=="function"){var o=a;if(a=o(),Ui){bn(!0);try{o()}finally{bn(!1)}}}return r.memoizedState=r.baseState=a,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:a},r}function Xy(a,r,o,u){return a.baseState=o,_h(a,bt,typeof u=="function"?u:rr)}function IC(a,r,o,u,p){if(zu(a))throw Error(s(485));if(a=r.action,a!==null){var g={payload:p,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};A.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,Zy(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Zy(a,r){var o=r.action,u=r.payload,p=a.state;if(r.isTransition){var g=A.T,S={};A.T=S;try{var j=o(p,u),$=A.S;$!==null&&$(S,j),Qy(a,r,j)}catch(J){Dh(a,r,J)}finally{g!==null&&S.types!==null&&(g.types=S.types),A.T=g}}else try{g=o(p,u),Qy(a,r,g)}catch(J){Dh(a,r,J)}}function Qy(a,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Jy(a,r,u)},function(u){return Dh(a,r,u)}):Jy(a,r,o)}function Jy(a,r,o){r.status="fulfilled",r.value=o,e1(r),a.state=o,r=a.pending,r!==null&&(o=r.next,o===r?a.pending=null:(o=o.next,r.next=o,Zy(a,o)))}function Dh(a,r,o){var u=a.pending;if(a.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,e1(r),r=r.next;while(r!==u)}a.action=null}function e1(a){a=a.listeners;for(var r=0;r<a.length;r++)(0,a[r])()}function t1(a,r){return r}function n1(a,r){if(it){var o=wt.formState;if(o!==null){e:{var u=We;if(it){if(At){t:{for(var p=At,g=Ba;p.nodeType!==8;){if(!g){p=null;break t}if(p=Ua(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){At=Ua(p.nextSibling),u=p.data==="F!";break e}}qr(u)}u=!1}u&&(r=o[0])}}return o=Hn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t1,lastRenderedState:r},o.queue=u,o=w1.bind(null,We,u),u.dispatch=o,u=Oh(!1),g=Bh.bind(null,We,!1,u.queue),u=Hn(),p={state:r,dispatch:null,action:a,pending:null},u.queue=p,o=IC.bind(null,We,p,g,o),p.dispatch=o,u.memoizedState=a,[r,o,!1]}function a1(a){var r=Kt();return s1(r,bt,a)}function s1(a,r,o){if(r=_h(a,r,t1)[0],a=Ru(rr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Fl(r)}catch(S){throw S===Oo?Tu:S}else u=r;r=Kt();var p=r.queue,g=p.dispatch;return o!==r.memoizedState&&(We.flags|=2048,Po(9,{destroy:void 0},UC.bind(null,p,o),null)),[u,g,a]}function UC(a,r){a.action=r}function r1(a){var r=Kt(),o=bt;if(o!==null)return s1(r,o,a);Kt(),r=r.memoizedState,o=Kt();var u=o.queue.dispatch;return o.memoizedState=a,[r,u,!1]}function Po(a,r,o,u){return a={tag:a,create:o,deps:u,inst:r,next:null},r=We.updateQueue,r===null&&(r=Du(),We.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=a.next=a:(u=o.next,o.next=a,a.next=u,r.lastEffect=a),a}function i1(){return Kt().memoizedState}function Lu(a,r,o,u){var p=Hn();We.flags|=a,p.memoizedState=Po(1|r,{destroy:void 0},o,u===void 0?null:u)}function Pu(a,r,o,u){var p=Kt();u=u===void 0?null:u;var g=p.memoizedState.inst;bt!==null&&u!==null&&Nh(u,bt.memoizedState.deps)?p.memoizedState=Po(r,g,o,u):(We.flags|=a,p.memoizedState=Po(1|r,g,o,u))}function o1(a,r){Lu(8390656,8,a,r)}function Mh(a,r){Pu(2048,8,a,r)}function qC(a){We.flags|=4;var r=We.updateQueue;if(r===null)r=Du(),We.updateQueue=r,r.events=[a];else{var o=r.events;o===null?r.events=[a]:o.push(a)}}function l1(a){var r=Kt().memoizedState;return qC({ref:r,nextImpl:a}),function(){if((ft&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function c1(a,r){return Pu(4,2,a,r)}function u1(a,r){return Pu(4,4,a,r)}function d1(a,r){if(typeof r=="function"){a=a();var o=r(a);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return a=a(),r.current=a,function(){r.current=null}}function f1(a,r,o){o=o!=null?o.concat([a]):null,Pu(4,4,d1.bind(null,r,a),o)}function Rh(){}function h1(a,r){var o=Kt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Nh(r,u[1])?u[0]:(o.memoizedState=[a,r],a)}function m1(a,r){var o=Kt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Nh(r,u[1]))return u[0];if(u=a(),Ui){bn(!0);try{a()}finally{bn(!1)}}return o.memoizedState=[u,r],u}function Lh(a,r,o){return o===void 0||(sr&1073741824)!==0&&(nt&261930)===0?a.memoizedState=r:(a.memoizedState=o,a=pb(),We.lanes|=a,Xr|=a,o)}function p1(a,r,o,u){return Sa(o,r)?o:Mo.current!==null?(a=Lh(a,o,u),Sa(a,r)||(Jt=!0),a):(sr&42)===0||(sr&1073741824)!==0&&(nt&261930)===0?(Jt=!0,a.memoizedState=o):(a=pb(),We.lanes|=a,Xr|=a,r)}function g1(a,r,o,u,p){var g=B.p;B.p=g!==0&&8>g?g:8;var S=A.T,j={};A.T=j,Bh(a,!1,r,o);try{var $=p(),J=A.S;if(J!==null&&J(j,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ce=PC($,u);Gl(a,r,ce,ja(a))}else Gl(a,r,u,ja(a))}catch(he){Gl(a,r,{then:function(){},status:"rejected",reason:he},ja())}finally{B.p=g,S!==null&&j.types!==null&&(S.types=j.types),A.T=S}}function $C(){}function Ph(a,r,o,u){if(a.tag!==5)throw Error(s(476));var p=y1(a).queue;g1(a,p,r,V,o===null?$C:function(){return b1(a),o(u)})}function y1(a){var r=a.memoizedState;if(r!==null)return r;r={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:V},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:o},next:null},a.memoizedState=r,a=a.alternate,a!==null&&(a.memoizedState=r),r}function b1(a){var r=y1(a);r.next===null&&(r=a.alternate.memoizedState),Gl(a,r.next.queue,{},ja())}function zh(){return wn(cc)}function x1(){return Kt().memoizedState}function v1(){return Kt().memoizedState}function VC(a){for(var r=a.return;r!==null;){switch(r.tag){case 24:case 3:var o=ja();a=Hr(o);var u=Fr(r,a,o);u!==null&&(da(u,r,o),ql(u,r,o)),r={cache:fh()},a.payload=r;return}r=r.return}}function HC(a,r,o){var u=ja();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},zu(a)?S1(r,o):(o=th(a,r,o,u),o!==null&&(da(o,a,u),N1(o,r,u)))}function w1(a,r,o){var u=ja();Gl(a,r,o,u)}function Gl(a,r,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(zu(a))S1(r,p);else{var g=a.alternate;if(a.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var S=r.lastRenderedState,j=g(S,o);if(p.hasEagerState=!0,p.eagerState=j,Sa(j,S))return yu(a,r,p,0),wt===null&&gu(),!1}catch{}if(o=th(a,r,p,u),o!==null)return da(o,a,u),N1(o,r,u),!0}return!1}function Bh(a,r,o,u){if(u={lane:2,revertLane:gm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},zu(a)){if(r)throw Error(s(479))}else r=th(a,o,u,2),r!==null&&da(r,a,2)}function zu(a){var r=a.alternate;return a===We||r!==null&&r===We}function S1(a,r){Ro=ku=!0;var o=a.pending;o===null?r.next=r:(r.next=o.next,o.next=r),a.pending=r}function N1(a,r,o){if((o&4194048)!==0){var u=r.lanes;u&=a.pendingLanes,o|=u,r.lanes=o,Or(a,o)}}var Yl={readContext:wn,use:Mu,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};Yl.useEffectEvent=Vt;var T1={readContext:wn,use:Mu,useCallback:function(a,r){return Hn().memoizedState=[a,r===void 0?null:r],a},useContext:wn,useEffect:o1,useImperativeHandle:function(a,r,o){o=o!=null?o.concat([a]):null,Lu(4194308,4,d1.bind(null,r,a),o)},useLayoutEffect:function(a,r){return Lu(4194308,4,a,r)},useInsertionEffect:function(a,r){Lu(4,2,a,r)},useMemo:function(a,r){var o=Hn();r=r===void 0?null:r;var u=a();if(Ui){bn(!0);try{a()}finally{bn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(a,r,o){var u=Hn();if(o!==void 0){var p=o(r);if(Ui){bn(!0);try{o(r)}finally{bn(!1)}}}else p=r;return u.memoizedState=u.baseState=p,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:p},u.queue=a,a=a.dispatch=HC.bind(null,We,a),[u.memoizedState,a]},useRef:function(a){var r=Hn();return a={current:a},r.memoizedState=a},useState:function(a){a=Oh(a);var r=a.queue,o=w1.bind(null,We,r);return r.dispatch=o,[a.memoizedState,o]},useDebugValue:Rh,useDeferredValue:function(a,r){var o=Hn();return Lh(o,a,r)},useTransition:function(){var a=Oh(!1);return a=g1.bind(null,We,a.queue,!0,!1),Hn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,r,o){var u=We,p=Hn();if(it){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),wt===null)throw Error(s(349));(nt&127)!==0||Fy(u,r,o)}p.memoizedState=o;var g={value:o,getSnapshot:r};return p.queue=g,o1(Yy.bind(null,u,g,a),[a]),u.flags|=2048,Po(9,{destroy:void 0},Gy.bind(null,u,g,o,r),null),o},useId:function(){var a=Hn(),r=wt.identifierPrefix;if(it){var o=Ls,u=Rs;o=(u&~(1<<32-It(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Ou++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=zC++,r="_"+r+"r_"+o.toString(32)+"_";return a.memoizedState=r},useHostTransitionStatus:zh,useFormState:n1,useActionState:n1,useOptimistic:function(a){var r=Hn();r.memoizedState=r.baseState=a;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Bh.bind(null,We,!0,o),o.dispatch=r,[a,r]},useMemoCache:jh,useCacheRefresh:function(){return Hn().memoizedState=VC.bind(null,We)},useEffectEvent:function(a){var r=Hn(),o={impl:a};return r.memoizedState=o,function(){if((ft&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Ih={readContext:wn,use:Mu,useCallback:h1,useContext:wn,useEffect:Mh,useImperativeHandle:f1,useInsertionEffect:c1,useLayoutEffect:u1,useMemo:m1,useReducer:Ru,useRef:i1,useState:function(){return Ru(rr)},useDebugValue:Rh,useDeferredValue:function(a,r){var o=Kt();return p1(o,bt.memoizedState,a,r)},useTransition:function(){var a=Ru(rr)[0],r=Kt().memoizedState;return[typeof a=="boolean"?a:Fl(a),r]},useSyncExternalStore:Hy,useId:x1,useHostTransitionStatus:zh,useFormState:a1,useActionState:a1,useOptimistic:function(a,r){var o=Kt();return Xy(o,bt,a,r)},useMemoCache:jh,useCacheRefresh:v1};Ih.useEffectEvent=l1;var E1={readContext:wn,use:Mu,useCallback:h1,useContext:wn,useEffect:Mh,useImperativeHandle:f1,useInsertionEffect:c1,useLayoutEffect:u1,useMemo:m1,useReducer:kh,useRef:i1,useState:function(){return kh(rr)},useDebugValue:Rh,useDeferredValue:function(a,r){var o=Kt();return bt===null?Lh(o,a,r):p1(o,bt.memoizedState,a,r)},useTransition:function(){var a=kh(rr)[0],r=Kt().memoizedState;return[typeof a=="boolean"?a:Fl(a),r]},useSyncExternalStore:Hy,useId:x1,useHostTransitionStatus:zh,useFormState:r1,useActionState:r1,useOptimistic:function(a,r){var o=Kt();return bt!==null?Xy(o,bt,a,r):(o.baseState=a,[a,o.queue.dispatch])},useMemoCache:jh,useCacheRefresh:v1};E1.useEffectEvent=l1;function Uh(a,r,o,u){r=a.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),a.memoizedState=o,a.lanes===0&&(a.updateQueue.baseState=o)}var qh={enqueueSetState:function(a,r,o){a=a._reactInternals;var u=ja(),p=Hr(u);p.payload=r,o!=null&&(p.callback=o),r=Fr(a,p,u),r!==null&&(da(r,a,u),ql(r,a,u))},enqueueReplaceState:function(a,r,o){a=a._reactInternals;var u=ja(),p=Hr(u);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Fr(a,p,u),r!==null&&(da(r,a,u),ql(r,a,u))},enqueueForceUpdate:function(a,r){a=a._reactInternals;var o=ja(),u=Hr(o);u.tag=2,r!=null&&(u.callback=r),r=Fr(a,u,o),r!==null&&(da(r,a,o),ql(r,a,o))}};function C1(a,r,o,u,p,g,S){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(u,g,S):r.prototype&&r.prototype.isPureReactComponent?!Ml(o,u)||!Ml(p,g):!0}function A1(a,r,o,u){a=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==a&&qh.enqueueReplaceState(r,r.state,null)}function qi(a,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(a=a.defaultProps){o===r&&(o=b({},o));for(var p in a)o[p]===void 0&&(o[p]=a[p])}return o}function j1(a){pu(a)}function _1(a){console.error(a)}function k1(a){pu(a)}function Bu(a,r){try{var o=a.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function O1(a,r,o){try{var u=a.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function $h(a,r,o){return o=Hr(o),o.tag=3,o.payload={element:null},o.callback=function(){Bu(a,r)},o}function D1(a){return a=Hr(a),a.tag=3,a}function M1(a,r,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;a.payload=function(){return p(g)},a.callback=function(){O1(r,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(a.callback=function(){O1(r,o,u),typeof p!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var j=u.stack;this.componentDidCatch(u.value,{componentStack:j!==null?j:""})})}function FC(a,r,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&jo(r,o,p,!0),o=Ta.current,o!==null){switch(o.tag){case 31:case 13:return Ia===null?Xu():o.alternate===null&&Ht===0&&(Ht=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Eu?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),hm(a,u,p)),!1;case 22:return o.flags|=65536,u===Eu?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),hm(a,u,p)),!1}throw Error(s(435,o.tag))}return hm(a,u,p),Xu(),!1}if(it)return r=Ta.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,u!==oh&&(a=Error(s(422),{cause:u}),Pl(La(a,o)))):(u!==oh&&(r=Error(s(423),{cause:u}),Pl(La(r,o))),a=a.current.alternate,a.flags|=65536,p&=-p,a.lanes|=p,u=La(u,o),p=$h(a.stateNode,u,p),bh(a,p),Ht!==4&&(Ht=2)),!1;var g=Error(s(520),{cause:u});if(g=La(g,o),tc===null?tc=[g]:tc.push(g),Ht!==4&&(Ht=2),r===null)return!0;u=La(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,a=p&-p,o.lanes|=a,a=$h(o.stateNode,u,a),bh(o,a),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Zr===null||!Zr.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=D1(p),M1(p,a,o,u),bh(o,p),!1}o=o.return}while(o!==null);return!1}var Vh=Error(s(461)),Jt=!1;function Sn(a,r,o,u){r.child=a===null?zy(r,null,o,u):Ii(r,a.child,o,u)}function R1(a,r,o,u,p){o=o.render;var g=r.ref;if("ref"in u){var S={};for(var j in u)j!=="ref"&&(S[j]=u[j])}else S=u;return Li(r),u=Th(a,r,o,S,g,p),j=Eh(),a!==null&&!Jt?(Ch(a,r,p),ir(a,r,p)):(it&&j&&rh(r),r.flags|=1,Sn(a,r,u,p),r.child)}function L1(a,r,o,u,p){if(a===null){var g=o.type;return typeof g=="function"&&!nh(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,P1(a,r,g,u,p)):(a=xu(o.type,null,u,r,r.mode,p),a.ref=r.ref,a.return=r,r.child=a)}if(g=a.child,!Zh(a,p)){var S=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ml,o(S,u)&&a.ref===r.ref)return ir(a,r,p)}return r.flags|=1,a=er(g,u),a.ref=r.ref,a.return=r,r.child=a}function P1(a,r,o,u,p){if(a!==null){var g=a.memoizedProps;if(Ml(g,u)&&a.ref===r.ref)if(Jt=!1,r.pendingProps=u=g,Zh(a,p))(a.flags&131072)!==0&&(Jt=!0);else return r.lanes=a.lanes,ir(a,r,p)}return Hh(a,r,o,u,p)}function z1(a,r,o,u){var p=u.children,g=a!==null?a.memoizedState:null;if(a===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,a!==null){for(u=r.child=a.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~g}else u=0,r.child=null;return B1(a,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},a!==null&&Nu(r,g!==null?g.cachePool:null),g!==null?Uy(r,g):vh(),qy(r);else return u=r.lanes=536870912,B1(a,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Nu(r,g.cachePool),Uy(r,g),Yr(),r.memoizedState=null):(a!==null&&Nu(r,null),vh(),Yr());return Sn(a,r,p,o),r.child}function Kl(a,r){return a!==null&&a.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function B1(a,r,o,u,p){var g=mh();return g=g===null?null:{parent:Zt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},a!==null&&Nu(r,null),vh(),qy(r),a!==null&&jo(a,r,u,!0),r.childLanes=p,null}function Iu(a,r){return r=qu({mode:r.mode,children:r.children},a.mode),r.ref=a.ref,a.child=r,r.return=a,r}function I1(a,r,o){return Ii(r,a.child,null,o),a=Iu(r,r.pendingProps),a.flags|=2,Ea(r),r.memoizedState=null,a}function GC(a,r,o){var u=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,a===null){if(it){if(u.mode==="hidden")return a=Iu(r,u),r.lanes=536870912,Kl(null,a);if(Sh(r),(a=At)?(a=Zb(a,Ba),a=a!==null&&a.data==="&"?a:null,a!==null&&(r.memoizedState={dehydrated:a,treeContext:Ir!==null?{id:Rs,overflow:Ls}:null,retryLane:536870912,hydrationErrors:null},o=Sy(a),o.return=r,r.child=o,vn=r,At=null)):a=null,a===null)throw qr(r);return r.lanes=536870912,null}return Iu(r,u)}var g=a.memoizedState;if(g!==null){var S=g.dehydrated;if(Sh(r),p)if(r.flags&256)r.flags&=-257,r=I1(a,r,o);else if(r.memoizedState!==null)r.child=a.child,r.flags|=128,r=null;else throw Error(s(558));else if(Jt||jo(a,r,o,!1),p=(o&a.childLanes)!==0,Jt||p){if(u=wt,u!==null&&(S=Dr(u,o),S!==0&&S!==g.retryLane))throw g.retryLane=S,Oi(a,S),da(u,a,S),Vh;Xu(),r=I1(a,r,o)}else a=g.treeContext,At=Ua(S.nextSibling),vn=r,it=!0,Ur=null,Ba=!1,a!==null&&Ey(r,a),r=Iu(r,u),r.flags|=4096;return r}return a=er(a.child,{mode:u.mode,children:u.children}),a.ref=r.ref,r.child=a,a.return=r,a}function Uu(a,r){var o=r.ref;if(o===null)a!==null&&a.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(a===null||a.ref!==o)&&(r.flags|=4194816)}}function Hh(a,r,o,u,p){return Li(r),o=Th(a,r,o,u,void 0,p),u=Eh(),a!==null&&!Jt?(Ch(a,r,p),ir(a,r,p)):(it&&u&&rh(r),r.flags|=1,Sn(a,r,o,p),r.child)}function U1(a,r,o,u,p,g){return Li(r),r.updateQueue=null,o=Vy(r,u,o,p),$y(a),u=Eh(),a!==null&&!Jt?(Ch(a,r,g),ir(a,r,g)):(it&&u&&rh(r),r.flags|=1,Sn(a,r,o,g),r.child)}function q1(a,r,o,u,p){if(Li(r),r.stateNode===null){var g=To,S=o.contextType;typeof S=="object"&&S!==null&&(g=wn(S)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=qh,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},gh(r),S=o.contextType,g.context=typeof S=="object"&&S!==null?wn(S):To,g.state=r.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Uh(r,o,S,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&qh.enqueueReplaceState(g,g.state,null),Vl(r,u,g,p),$l(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(a===null){g=r.stateNode;var j=r.memoizedProps,$=qi(o,j);g.props=$;var J=g.context,ce=o.contextType;S=To,typeof ce=="object"&&ce!==null&&(S=wn(ce));var he=o.getDerivedStateFromProps;ce=typeof he=="function"||typeof g.getSnapshotBeforeUpdate=="function",j=r.pendingProps!==j,ce||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(j||J!==S)&&A1(r,g,u,S),Vr=!1;var te=r.memoizedState;g.state=te,Vl(r,u,g,p),$l(),J=r.memoizedState,j||te!==J||Vr?(typeof he=="function"&&(Uh(r,o,he,u),J=r.memoizedState),($=Vr||C1(r,o,$,u,te,J,S))?(ce||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=J),g.props=u,g.state=J,g.context=S,u=$):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,yh(a,r),S=r.memoizedProps,ce=qi(o,S),g.props=ce,he=r.pendingProps,te=g.context,J=o.contextType,$=To,typeof J=="object"&&J!==null&&($=wn(J)),j=o.getDerivedStateFromProps,(J=typeof j=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==he||te!==$)&&A1(r,g,u,$),Vr=!1,te=r.memoizedState,g.state=te,Vl(r,u,g,p),$l();var ae=r.memoizedState;S!==he||te!==ae||Vr||a!==null&&a.dependencies!==null&&wu(a.dependencies)?(typeof j=="function"&&(Uh(r,o,j,u),ae=r.memoizedState),(ce=Vr||C1(r,o,ce,u,te,ae,$)||a!==null&&a.dependencies!==null&&wu(a.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ae,$),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ae,$)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===a.memoizedProps&&te===a.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&te===a.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ae),g.props=u,g.state=ae,g.context=$,u=ce):(typeof g.componentDidUpdate!="function"||S===a.memoizedProps&&te===a.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&te===a.memoizedState||(r.flags|=1024),u=!1)}return g=u,Uu(a,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,a!==null&&u?(r.child=Ii(r,a.child,null,p),r.child=Ii(r,null,o,p)):Sn(a,r,o,p),r.memoizedState=g.state,a=r.child):a=ir(a,r,p),a}function $1(a,r,o,u){return Mi(),r.flags|=256,Sn(a,r,o,u),r.child}var Fh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gh(a){return{baseLanes:a,cachePool:Oy()}}function Yh(a,r,o){return a=a!==null?a.childLanes&~o:0,r&&(a|=Aa),a}function V1(a,r,o){var u=r.pendingProps,p=!1,g=(r.flags&128)!==0,S;if((S=g)||(S=a!==null&&a.memoizedState===null?!1:(Yt.current&2)!==0),S&&(p=!0,r.flags&=-129),S=(r.flags&32)!==0,r.flags&=-33,a===null){if(it){if(p?Gr(r):Yr(),(a=At)?(a=Zb(a,Ba),a=a!==null&&a.data!=="&"?a:null,a!==null&&(r.memoizedState={dehydrated:a,treeContext:Ir!==null?{id:Rs,overflow:Ls}:null,retryLane:536870912,hydrationErrors:null},o=Sy(a),o.return=r,r.child=o,vn=r,At=null)):a=null,a===null)throw qr(r);return _m(a)?r.lanes=32:r.lanes=536870912,null}var j=u.children;return u=u.fallback,p?(Yr(),p=r.mode,j=qu({mode:"hidden",children:j},p),u=Di(u,p,o,null),j.return=r,u.return=r,j.sibling=u,r.child=j,u=r.child,u.memoizedState=Gh(o),u.childLanes=Yh(a,S,o),r.memoizedState=Fh,Kl(null,u)):(Gr(r),Kh(r,j))}var $=a.memoizedState;if($!==null&&(j=$.dehydrated,j!==null)){if(g)r.flags&256?(Gr(r),r.flags&=-257,r=Wh(a,r,o)):r.memoizedState!==null?(Yr(),r.child=a.child,r.flags|=128,r=null):(Yr(),j=u.fallback,p=r.mode,u=qu({mode:"visible",children:u.children},p),j=Di(j,p,o,null),j.flags|=2,u.return=r,j.return=r,u.sibling=j,r.child=u,Ii(r,a.child,null,o),u=r.child,u.memoizedState=Gh(o),u.childLanes=Yh(a,S,o),r.memoizedState=Fh,r=Kl(null,u));else if(Gr(r),_m(j)){if(S=j.nextSibling&&j.nextSibling.dataset,S)var J=S.dgst;S=J,u=Error(s(419)),u.stack="",u.digest=S,Pl({value:u,source:null,stack:null}),r=Wh(a,r,o)}else if(Jt||jo(a,r,o,!1),S=(o&a.childLanes)!==0,Jt||S){if(S=wt,S!==null&&(u=Dr(S,o),u!==0&&u!==$.retryLane))throw $.retryLane=u,Oi(a,u),da(S,a,u),Vh;jm(j)||Xu(),r=Wh(a,r,o)}else jm(j)?(r.flags|=192,r.child=a.child,r=null):(a=$.treeContext,At=Ua(j.nextSibling),vn=r,it=!0,Ur=null,Ba=!1,a!==null&&Ey(r,a),r=Kh(r,u.children),r.flags|=4096);return r}return p?(Yr(),j=u.fallback,p=r.mode,$=a.child,J=$.sibling,u=er($,{mode:"hidden",children:u.children}),u.subtreeFlags=$.subtreeFlags&65011712,J!==null?j=er(J,j):(j=Di(j,p,o,null),j.flags|=2),j.return=r,u.return=r,u.sibling=j,r.child=u,Kl(null,u),u=r.child,j=a.child.memoizedState,j===null?j=Gh(o):(p=j.cachePool,p!==null?($=Zt._currentValue,p=p.parent!==$?{parent:$,pool:$}:p):p=Oy(),j={baseLanes:j.baseLanes|o,cachePool:p}),u.memoizedState=j,u.childLanes=Yh(a,S,o),r.memoizedState=Fh,Kl(a.child,u)):(Gr(r),o=a.child,a=o.sibling,o=er(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,a!==null&&(S=r.deletions,S===null?(r.deletions=[a],r.flags|=16):S.push(a)),r.child=o,r.memoizedState=null,o)}function Kh(a,r){return r=qu({mode:"visible",children:r},a.mode),r.return=a,a.child=r}function qu(a,r){return a=Na(22,a,null,r),a.lanes=0,a}function Wh(a,r,o){return Ii(r,a.child,null,o),a=Kh(r,r.pendingProps.children),a.flags|=2,r.memoizedState=null,a}function H1(a,r,o){a.lanes|=r;var u=a.alternate;u!==null&&(u.lanes|=r),uh(a.return,r,o)}function Xh(a,r,o,u,p,g){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:g}:(S.isBackwards=r,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=o,S.tailMode=p,S.treeForkCount=g)}function F1(a,r,o){var u=r.pendingProps,p=u.revealOrder,g=u.tail;u=u.children;var S=Yt.current,j=(S&2)!==0;if(j?(S=S&1|2,r.flags|=128):S&=1,X(Yt,S),Sn(a,r,u,o),u=it?Ll:0,!j&&a!==null&&(a.flags&128)!==0)e:for(a=r.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&H1(a,o,r);else if(a.tag===19)H1(a,o,r);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(p){case"forwards":for(o=r.child,p=null;o!==null;)a=o.alternate,a!==null&&_u(a)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),Xh(r,!1,p,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(a=p.alternate,a!==null&&_u(a)===null){r.child=p;break}a=p.sibling,p.sibling=o,o=p,p=a}Xh(r,!0,o,null,g,u);break;case"together":Xh(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ir(a,r,o){if(a!==null&&(r.dependencies=a.dependencies),Xr|=r.lanes,(o&r.childLanes)===0)if(a!==null){if(jo(a,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(a!==null&&r.child!==a.child)throw Error(s(153));if(r.child!==null){for(a=r.child,o=er(a,a.pendingProps),r.child=o,o.return=r;a.sibling!==null;)a=a.sibling,o=o.sibling=er(a,a.pendingProps),o.return=r;o.sibling=null}return r.child}function Zh(a,r){return(a.lanes&r)!==0?!0:(a=a.dependencies,!!(a!==null&&wu(a)))}function YC(a,r,o){switch(r.tag){case 3:Ce(r,r.stateNode.containerInfo),$r(r,Zt,a.memoizedState.cache),Mi();break;case 27:case 5:oe(r);break;case 4:Ce(r,r.stateNode.containerInfo);break;case 10:$r(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Sh(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Gr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?V1(a,r,o):(Gr(r),a=ir(a,r,o),a!==null?a.sibling:null);Gr(r);break;case 19:var p=(a.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(jo(a,r,o,!1),u=(o&r.childLanes)!==0),p){if(u)return F1(a,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),X(Yt,Yt.current),u)break;return null;case 22:return r.lanes=0,z1(a,r,o,r.pendingProps);case 24:$r(r,Zt,a.memoizedState.cache)}return ir(a,r,o)}function G1(a,r,o){if(a!==null)if(a.memoizedProps!==r.pendingProps)Jt=!0;else{if(!Zh(a,o)&&(r.flags&128)===0)return Jt=!1,YC(a,r,o);Jt=(a.flags&131072)!==0}else Jt=!1,it&&(r.flags&1048576)!==0&&Ty(r,Ll,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(a=zi(r.elementType),r.type=a,typeof a=="function")nh(a)?(u=qi(a,u),r.tag=1,r=q1(null,r,a,u,o)):(r.tag=0,r=Hh(null,r,a,u,o));else{if(a!=null){var p=a.$$typeof;if(p===I){r.tag=11,r=R1(null,r,a,u,o);break e}else if(p===z){r.tag=14,r=L1(null,r,a,u,o);break e}}throw r=Z(a)||a,Error(s(306,r,""))}}return r;case 0:return Hh(a,r,r.type,r.pendingProps,o);case 1:return u=r.type,p=qi(u,r.pendingProps),q1(a,r,u,p,o);case 3:e:{if(Ce(r,r.stateNode.containerInfo),a===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;p=g.element,yh(a,r),Vl(r,u,null,o);var S=r.memoizedState;if(u=S.cache,$r(r,Zt,u),u!==g.cache&&dh(r,[Zt],o,!0),$l(),u=S.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:S.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=$1(a,r,u,o);break e}else if(u!==p){p=La(Error(s(424)),r),Pl(p),r=$1(a,r,u,o);break e}else for(a=r.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,At=Ua(a.firstChild),vn=r,it=!0,Ur=null,Ba=!0,o=zy(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Mi(),u===p){r=ir(a,r,o);break e}Sn(a,r,u,o)}r=r.child}return r;case 26:return Uu(a,r),a===null?(o=ax(r.type,null,r.pendingProps,null))?r.memoizedState=o:it||(o=r.type,a=r.pendingProps,u=ad(ge.current).createElement(o),u[Tt]=r,u[Xt]=a,Nn(u,o,a),Ct(u),r.stateNode=u):r.memoizedState=ax(r.type,a.memoizedProps,r.pendingProps,a.memoizedState),null;case 27:return oe(r),a===null&&it&&(u=r.stateNode=ex(r.type,r.pendingProps,ge.current),vn=r,Ba=!0,p=At,ti(r.type)?(km=p,At=Ua(u.firstChild)):At=p),Sn(a,r,r.pendingProps.children,o),Uu(a,r),a===null&&(r.flags|=4194304),r.child;case 5:return a===null&&it&&((p=u=At)&&(u=NA(u,r.type,r.pendingProps,Ba),u!==null?(r.stateNode=u,vn=r,At=Ua(u.firstChild),Ba=!1,p=!0):p=!1),p||qr(r)),oe(r),p=r.type,g=r.pendingProps,S=a!==null?a.memoizedProps:null,u=g.children,Em(p,g)?u=null:S!==null&&Em(p,S)&&(r.flags|=32),r.memoizedState!==null&&(p=Th(a,r,BC,null,null,o),cc._currentValue=p),Uu(a,r),Sn(a,r,u,o),r.child;case 6:return a===null&&it&&((a=o=At)&&(o=TA(o,r.pendingProps,Ba),o!==null?(r.stateNode=o,vn=r,At=null,a=!0):a=!1),a||qr(r)),null;case 13:return V1(a,r,o);case 4:return Ce(r,r.stateNode.containerInfo),u=r.pendingProps,a===null?r.child=Ii(r,null,u,o):Sn(a,r,u,o),r.child;case 11:return R1(a,r,r.type,r.pendingProps,o);case 7:return Sn(a,r,r.pendingProps,o),r.child;case 8:return Sn(a,r,r.pendingProps.children,o),r.child;case 12:return Sn(a,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,$r(r,r.type,u.value),Sn(a,r,u.children,o),r.child;case 9:return p=r.type._context,u=r.pendingProps.children,Li(r),p=wn(p),u=u(p),r.flags|=1,Sn(a,r,u,o),r.child;case 14:return L1(a,r,r.type,r.pendingProps,o);case 15:return P1(a,r,r.type,r.pendingProps,o);case 19:return F1(a,r,o);case 31:return GC(a,r,o);case 22:return z1(a,r,o,r.pendingProps);case 24:return Li(r),u=wn(Zt),a===null?(p=mh(),p===null&&(p=wt,g=fh(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),r.memoizedState={parent:u,cache:p},gh(r),$r(r,Zt,p)):((a.lanes&o)!==0&&(yh(a,r),Vl(r,null,null,o),$l()),p=a.memoizedState,g=r.memoizedState,p.parent!==u?(p={parent:u,cache:u},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),$r(r,Zt,u)):(u=g.cache,$r(r,Zt,u),u!==p.cache&&dh(r,[Zt],o,!0))),Sn(a,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function or(a){a.flags|=4}function Qh(a,r,o,u,p){if((r=(a.mode&32)!==0)&&(r=!1),r){if(a.flags|=16777216,(p&335544128)===p)if(a.stateNode.complete)a.flags|=8192;else if(xb())a.flags|=8192;else throw Bi=Eu,ph}else a.flags&=-16777217}function Y1(a,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!lx(r))if(xb())a.flags|=8192;else throw Bi=Eu,ph}function $u(a,r){r!==null&&(a.flags|=4),a.flags&16384&&(r=a.tag!==22?ts():536870912,a.lanes|=r,Uo|=r)}function Wl(a,r){if(!it)switch(a.tailMode){case"hidden":r=a.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?a.tail=null:o.sibling=null;break;case"collapsed":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||a.tail===null?a.tail=null:a.tail.sibling=null:u.sibling=null}}function jt(a){var r=a.alternate!==null&&a.alternate.child===a.child,o=0,u=0;if(r)for(var p=a.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=a,p=p.sibling;else for(p=a.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=a,p=p.sibling;return a.subtreeFlags|=u,a.childLanes=o,r}function KC(a,r,o){var u=r.pendingProps;switch(ih(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(r),null;case 1:return jt(r),null;case 3:return o=r.stateNode,u=null,a!==null&&(u=a.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ar(Zt),ee(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(a===null||a.child===null)&&(Ao(r)?or(r):a===null||a.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,lh())),jt(r),null;case 26:var p=r.type,g=r.memoizedState;return a===null?(or(r),g!==null?(jt(r),Y1(r,g)):(jt(r),Qh(r,p,null,u,o))):g?g!==a.memoizedState?(or(r),jt(r),Y1(r,g)):(jt(r),r.flags&=-16777217):(a=a.memoizedProps,a!==u&&or(r),jt(r),Qh(r,p,a,u,o)),null;case 27:if(pe(r),o=ge.current,p=r.type,a!==null&&r.stateNode!=null)a.memoizedProps!==u&&or(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return jt(r),null}a=ie.current,Ao(r)?Cy(r):(a=ex(p,u,o),r.stateNode=a,or(r))}return jt(r),null;case 5:if(pe(r),p=r.type,a!==null&&r.stateNode!=null)a.memoizedProps!==u&&or(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return jt(r),null}if(g=ie.current,Ao(r))Cy(r);else{var S=ad(ge.current);switch(g){case 1:g=S.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=S.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=S.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?S.createElement(p,{is:u.is}):S.createElement(p)}}g[Tt]=r,g[Xt]=u;e:for(S=r.child;S!==null;){if(S.tag===5||S.tag===6)g.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===r)break e;for(;S.sibling===null;){if(S.return===null||S.return===r)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}r.stateNode=g;e:switch(Nn(g,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&or(r)}}return jt(r),Qh(r,r.type,a===null?null:a.memoizedProps,r.pendingProps,o),null;case 6:if(a&&r.stateNode!=null)a.memoizedProps!==u&&or(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(a=ge.current,Ao(r)){if(a=r.stateNode,o=r.memoizedProps,u=null,p=vn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}a[Tt]=r,a=!!(a.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Vb(a.nodeValue,o)),a||qr(r,!0)}else a=ad(a).createTextNode(u),a[Tt]=r,r.stateNode=a}return jt(r),null;case 31:if(o=r.memoizedState,a===null||a.memoizedState!==null){if(u=Ao(r),o!==null){if(a===null){if(!u)throw Error(s(318));if(a=r.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(557));a[Tt]=r}else Mi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;jt(r),a=!1}else o=lh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=o),a=!0;if(!a)return r.flags&256?(Ea(r),r):(Ea(r),null);if((r.flags&128)!==0)throw Error(s(558))}return jt(r),null;case 13:if(u=r.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(p=Ao(r),u!==null&&u.dehydrated!==null){if(a===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Tt]=r}else Mi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;jt(r),p=!1}else p=lh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Ea(r),r):(Ea(r),null)}return Ea(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,a=a!==null&&a.memoizedState!==null,o&&(u=r.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)),o!==a&&o&&(r.child.flags|=8192),$u(r,r.updateQueue),jt(r),null);case 4:return ee(),a===null&&vm(r.stateNode.containerInfo),jt(r),null;case 10:return ar(r.type),jt(r),null;case 19:if(Y(Yt),u=r.memoizedState,u===null)return jt(r),null;if(p=(r.flags&128)!==0,g=u.rendering,g===null)if(p)Wl(u,!1);else{if(Ht!==0||a!==null&&(a.flags&128)!==0)for(a=r.child;a!==null;){if(g=_u(a),g!==null){for(r.flags|=128,Wl(u,!1),a=g.updateQueue,r.updateQueue=a,$u(r,a),r.subtreeFlags=0,a=o,o=r.child;o!==null;)wy(o,a),o=o.sibling;return X(Yt,Yt.current&1|2),it&&tr(r,u.treeForkCount),r.child}a=a.sibling}u.tail!==null&&st()>Yu&&(r.flags|=128,p=!0,Wl(u,!1),r.lanes=4194304)}else{if(!p)if(a=_u(g),a!==null){if(r.flags|=128,p=!0,a=a.updateQueue,r.updateQueue=a,$u(r,a),Wl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!it)return jt(r),null}else 2*st()-u.renderingStartTime>Yu&&o!==536870912&&(r.flags|=128,p=!0,Wl(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(a=u.last,a!==null?a.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(a=u.tail,u.rendering=a,u.tail=a.sibling,u.renderingStartTime=st(),a.sibling=null,o=Yt.current,X(Yt,p?o&1|2:o&1),it&&tr(r,u.treeForkCount),a):(jt(r),null);case 22:case 23:return Ea(r),wh(),u=r.memoizedState!==null,a!==null?a.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(jt(r),r.subtreeFlags&6&&(r.flags|=8192)):jt(r),o=r.updateQueue,o!==null&&$u(r,o.retryQueue),o=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),a!==null&&Y(Pi),null;case 24:return o=null,a!==null&&(o=a.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ar(Zt),jt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function WC(a,r){switch(ih(r),r.tag){case 1:return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 3:return ar(Zt),ee(),a=r.flags,(a&65536)!==0&&(a&128)===0?(r.flags=a&-65537|128,r):null;case 26:case 27:case 5:return pe(r),null;case 31:if(r.memoizedState!==null){if(Ea(r),r.alternate===null)throw Error(s(340));Mi()}return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 13:if(Ea(r),a=r.memoizedState,a!==null&&a.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Mi()}return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 19:return Y(Yt),null;case 4:return ee(),null;case 10:return ar(r.type),null;case 22:case 23:return Ea(r),wh(),a!==null&&Y(Pi),a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 24:return ar(Zt),null;case 25:return null;default:return null}}function K1(a,r){switch(ih(r),r.tag){case 3:ar(Zt),ee();break;case 26:case 27:case 5:pe(r);break;case 4:ee();break;case 31:r.memoizedState!==null&&Ea(r);break;case 13:Ea(r);break;case 19:Y(Yt);break;case 10:ar(r.type);break;case 22:case 23:Ea(r),wh(),a!==null&&Y(Pi);break;case 24:ar(Zt)}}function Xl(a,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&a)===a){u=void 0;var g=o.create,S=o.inst;u=g(),S.destroy=u}o=o.next}while(o!==p)}}catch(j){gt(r,r.return,j)}}function Kr(a,r,o){try{var u=r.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&a)===a){var S=u.inst,j=S.destroy;if(j!==void 0){S.destroy=void 0,p=r;var $=o,J=j;try{J()}catch(ce){gt(p,$,ce)}}}u=u.next}while(u!==g)}}catch(ce){gt(r,r.return,ce)}}function W1(a){var r=a.updateQueue;if(r!==null){var o=a.stateNode;try{Iy(r,o)}catch(u){gt(a,a.return,u)}}}function X1(a,r,o){o.props=qi(a.type,a.memoizedProps),o.state=a.memoizedState;try{o.componentWillUnmount()}catch(u){gt(a,r,u)}}function Zl(a,r){try{var o=a.ref;if(o!==null){switch(a.tag){case 26:case 27:case 5:var u=a.stateNode;break;case 30:u=a.stateNode;break;default:u=a.stateNode}typeof o=="function"?a.refCleanup=o(u):o.current=u}}catch(p){gt(a,r,p)}}function Ps(a,r){var o=a.ref,u=a.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){gt(a,r,p)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){gt(a,r,p)}else o.current=null}function Z1(a){var r=a.type,o=a.memoizedProps,u=a.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){gt(a,a.return,p)}}function Jh(a,r,o){try{var u=a.stateNode;yA(u,a.type,o,r),u[Xt]=r}catch(p){gt(a,a.return,p)}}function Q1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ti(a.type)||a.tag===4}function em(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Q1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ti(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function tm(a,r,o){var u=a.tag;if(u===5||u===6)a=a.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(a,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(a),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ia));else if(u!==4&&(u===27&&ti(a.type)&&(o=a.stateNode,r=null),a=a.child,a!==null))for(tm(a,r,o),a=a.sibling;a!==null;)tm(a,r,o),a=a.sibling}function Vu(a,r,o){var u=a.tag;if(u===5||u===6)a=a.stateNode,r?o.insertBefore(a,r):o.appendChild(a);else if(u!==4&&(u===27&&ti(a.type)&&(o=a.stateNode),a=a.child,a!==null))for(Vu(a,r,o),a=a.sibling;a!==null;)Vu(a,r,o),a=a.sibling}function J1(a){var r=a.stateNode,o=a.memoizedProps;try{for(var u=a.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Nn(r,u,o),r[Tt]=a,r[Xt]=o}catch(g){gt(a,a.return,g)}}var lr=!1,en=!1,nm=!1,eb=typeof WeakSet=="function"?WeakSet:Set,gn=null;function XC(a,r){if(a=a.containerInfo,Nm=ud,a=fy(a),Wf(a)){if("selectionStart"in a)var o={start:a.selectionStart,end:a.selectionEnd};else e:{o=(o=a.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var S=0,j=-1,$=-1,J=0,ce=0,he=a,te=null;t:for(;;){for(var ae;he!==o||p!==0&&he.nodeType!==3||(j=S+p),he!==g||u!==0&&he.nodeType!==3||($=S+u),he.nodeType===3&&(S+=he.nodeValue.length),(ae=he.firstChild)!==null;)te=he,he=ae;for(;;){if(he===a)break t;if(te===o&&++J===p&&(j=S),te===g&&++ce===u&&($=S),(ae=he.nextSibling)!==null)break;he=te,te=he.parentNode}he=ae}o=j===-1||$===-1?null:{start:j,end:$}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tm={focusedElem:a,selectionRange:o},ud=!1,gn=r;gn!==null;)if(r=gn,a=r.child,(r.subtreeFlags&1028)!==0&&a!==null)a.return=r,gn=a;else for(;gn!==null;){switch(r=gn,g=r.alternate,a=r.flags,r.tag){case 0:if((a&4)!==0&&(a=r.updateQueue,a=a!==null?a.events:null,a!==null))for(o=0;o<a.length;o++)p=a[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&g!==null){a=void 0,o=r,p=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ae=qi(o.type,p);a=u.getSnapshotBeforeUpdate(Ae,g),u.__reactInternalSnapshotBeforeUpdate=a}catch(Ve){gt(o,o.return,Ve)}}break;case 3:if((a&1024)!==0){if(a=r.stateNode.containerInfo,o=a.nodeType,o===9)Am(a);else if(o===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Am(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(s(163))}if(a=r.sibling,a!==null){a.return=r.return,gn=a;break}gn=r.return}}function tb(a,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ur(a,o),u&4&&Xl(5,o);break;case 1:if(ur(a,o),u&4)if(a=o.stateNode,r===null)try{a.componentDidMount()}catch(S){gt(o,o.return,S)}else{var p=qi(o.type,r.memoizedProps);r=r.memoizedState;try{a.componentDidUpdate(p,r,a.__reactInternalSnapshotBeforeUpdate)}catch(S){gt(o,o.return,S)}}u&64&&W1(o),u&512&&Zl(o,o.return);break;case 3:if(ur(a,o),u&64&&(a=o.updateQueue,a!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Iy(a,r)}catch(S){gt(o,o.return,S)}}break;case 27:r===null&&u&4&&J1(o);case 26:case 5:ur(a,o),r===null&&u&4&&Z1(o),u&512&&Zl(o,o.return);break;case 12:ur(a,o);break;case 31:ur(a,o),u&4&&sb(a,o);break;case 13:ur(a,o),u&4&&rb(a,o),u&64&&(a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(o=rA.bind(null,o),EA(a,o))));break;case 22:if(u=o.memoizedState!==null||lr,!u){r=r!==null&&r.memoizedState!==null||en,p=lr;var g=en;lr=u,(en=r)&&!g?dr(a,o,(o.subtreeFlags&8772)!==0):ur(a,o),lr=p,en=g}break;case 30:break;default:ur(a,o)}}function nb(a){var r=a.alternate;r!==null&&(a.alternate=null,nb(r)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(r=a.stateNode,r!==null&&Ts(r)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Dt=null,oa=!1;function cr(a,r,o){for(o=o.child;o!==null;)ab(a,r,o),o=o.sibling}function ab(a,r,o){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Bn,o)}catch{}switch(o.tag){case 26:en||Ps(o,r),cr(a,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:en||Ps(o,r);var u=Dt,p=oa;ti(o.type)&&(Dt=o.stateNode,oa=!1),cr(a,r,o),ic(o.stateNode),Dt=u,oa=p;break;case 5:en||Ps(o,r);case 6:if(u=Dt,p=oa,Dt=null,cr(a,r,o),Dt=u,oa=p,Dt!==null)if(oa)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(o.stateNode)}catch(g){gt(o,r,g)}else try{Dt.removeChild(o.stateNode)}catch(g){gt(o,r,g)}break;case 18:Dt!==null&&(oa?(a=Dt,Wb(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.stateNode),Ko(a)):Wb(Dt,o.stateNode));break;case 4:u=Dt,p=oa,Dt=o.stateNode.containerInfo,oa=!0,cr(a,r,o),Dt=u,oa=p;break;case 0:case 11:case 14:case 15:Kr(2,o,r),en||Kr(4,o,r),cr(a,r,o);break;case 1:en||(Ps(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&X1(o,r,u)),cr(a,r,o);break;case 21:cr(a,r,o);break;case 22:en=(u=en)||o.memoizedState!==null,cr(a,r,o),en=u;break;default:cr(a,r,o)}}function sb(a,r){if(r.memoizedState===null&&(a=r.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Ko(a)}catch(o){gt(r,r.return,o)}}}function rb(a,r){if(r.memoizedState===null&&(a=r.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ko(a)}catch(o){gt(r,r.return,o)}}function ZC(a){switch(a.tag){case 31:case 13:case 19:var r=a.stateNode;return r===null&&(r=a.stateNode=new eb),r;case 22:return a=a.stateNode,r=a._retryCache,r===null&&(r=a._retryCache=new eb),r;default:throw Error(s(435,a.tag))}}function Hu(a,r){var o=ZC(a);r.forEach(function(u){if(!o.has(u)){o.add(u);var p=iA.bind(null,a,u);u.then(p,p)}})}function la(a,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],g=a,S=r,j=S;e:for(;j!==null;){switch(j.tag){case 27:if(ti(j.type)){Dt=j.stateNode,oa=!1;break e}break;case 5:Dt=j.stateNode,oa=!1;break e;case 3:case 4:Dt=j.stateNode.containerInfo,oa=!0;break e}j=j.return}if(Dt===null)throw Error(s(160));ab(g,S,p),Dt=null,oa=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)ib(r,a),r=r.sibling}var os=null;function ib(a,r){var o=a.alternate,u=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:la(r,a),ca(a),u&4&&(Kr(3,a,a.return),Xl(3,a),Kr(5,a,a.return));break;case 1:la(r,a),ca(a),u&512&&(en||o===null||Ps(o,o.return)),u&64&&lr&&(a=a.updateQueue,a!==null&&(u=a.callbacks,u!==null&&(o=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=os;if(la(r,a),ca(a),u&512&&(en||o===null||Ps(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=a.memoizedState,o===null)if(u===null)if(a.stateNode===null){e:{u=a.type,o=a.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[as]||g[Tt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),Nn(g,u,o),g[Tt]=a,Ct(g),u=g;break e;case"link":var S=ix("link","href",p).get(u+(o.href||""));if(S){for(var j=0;j<S.length;j++)if(g=S[j],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(j,1);break t}}g=p.createElement(u),Nn(g,u,o),p.head.appendChild(g);break;case"meta":if(S=ix("meta","content",p).get(u+(o.content||""))){for(j=0;j<S.length;j++)if(g=S[j],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(j,1);break t}}g=p.createElement(u),Nn(g,u,o),p.head.appendChild(g);break;default:throw Error(s(468,u))}g[Tt]=a,Ct(g),u=g}a.stateNode=u}else ox(p,a.type,a.stateNode);else a.stateNode=rx(p,u,a.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?ox(p,a.type,a.stateNode):rx(p,u,a.memoizedProps)):u===null&&a.stateNode!==null&&Jh(a,a.memoizedProps,o.memoizedProps)}break;case 27:la(r,a),ca(a),u&512&&(en||o===null||Ps(o,o.return)),o!==null&&u&4&&Jh(a,a.memoizedProps,o.memoizedProps);break;case 5:if(la(r,a),ca(a),u&512&&(en||o===null||Ps(o,o.return)),a.flags&32){p=a.stateNode;try{Dn(p,"")}catch(Ae){gt(a,a.return,Ae)}}u&4&&a.stateNode!=null&&(p=a.memoizedProps,Jh(a,p,o!==null?o.memoizedProps:p)),u&1024&&(nm=!0);break;case 6:if(la(r,a),ca(a),u&4){if(a.stateNode===null)throw Error(s(162));u=a.memoizedProps,o=a.stateNode;try{o.nodeValue=u}catch(Ae){gt(a,a.return,Ae)}}break;case 3:if(id=null,p=os,os=sd(r.containerInfo),la(r,a),os=p,ca(a),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ko(r.containerInfo)}catch(Ae){gt(a,a.return,Ae)}nm&&(nm=!1,ob(a));break;case 4:u=os,os=sd(a.stateNode.containerInfo),la(r,a),ca(a),os=u;break;case 12:la(r,a),ca(a);break;case 31:la(r,a),ca(a),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,Hu(a,u)));break;case 13:la(r,a),ca(a),a.child.flags&8192&&a.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Gu=st()),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,Hu(a,u)));break;case 22:p=a.memoizedState!==null;var $=o!==null&&o.memoizedState!==null,J=lr,ce=en;if(lr=J||p,en=ce||$,la(r,a),en=ce,lr=J,ca(a),u&8192)e:for(r=a.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||$||lr||en||$i(a)),o=null,r=a;;){if(r.tag===5||r.tag===26){if(o===null){$=o=r;try{if(g=$.stateNode,p)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{j=$.stateNode;var he=$.memoizedProps.style,te=he!=null&&he.hasOwnProperty("display")?he.display:null;j.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Ae){gt($,$.return,Ae)}}}else if(r.tag===6){if(o===null){$=r;try{$.stateNode.nodeValue=p?"":$.memoizedProps}catch(Ae){gt($,$.return,Ae)}}}else if(r.tag===18){if(o===null){$=r;try{var ae=$.stateNode;p?Xb(ae,!0):Xb($.stateNode,!1)}catch(Ae){gt($,$.return,Ae)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===a)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=a.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Hu(a,o))));break;case 19:la(r,a),ca(a),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,Hu(a,u)));break;case 30:break;case 21:break;default:la(r,a),ca(a)}}function ca(a){var r=a.flags;if(r&2){try{for(var o,u=a.return;u!==null;){if(Q1(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,g=em(a);Vu(a,g,p);break;case 5:var S=o.stateNode;o.flags&32&&(Dn(S,""),o.flags&=-33);var j=em(a);Vu(a,j,S);break;case 3:case 4:var $=o.stateNode.containerInfo,J=em(a);tm(a,J,$);break;default:throw Error(s(161))}}catch(ce){gt(a,a.return,ce)}a.flags&=-3}r&4096&&(a.flags&=-4097)}function ob(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var r=a;ob(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),a=a.sibling}}function ur(a,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)tb(a,r.alternate,r),r=r.sibling}function $i(a){for(a=a.child;a!==null;){var r=a;switch(r.tag){case 0:case 11:case 14:case 15:Kr(4,r,r.return),$i(r);break;case 1:Ps(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&X1(r,r.return,o),$i(r);break;case 27:ic(r.stateNode);case 26:case 5:Ps(r,r.return),$i(r);break;case 22:r.memoizedState===null&&$i(r);break;case 30:$i(r);break;default:$i(r)}a=a.sibling}}function dr(a,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,p=a,g=r,S=g.flags;switch(g.tag){case 0:case 11:case 15:dr(p,g,o),Xl(4,g);break;case 1:if(dr(p,g,o),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(J){gt(u,u.return,J)}if(u=g,p=u.updateQueue,p!==null){var j=u.stateNode;try{var $=p.shared.hiddenCallbacks;if($!==null)for(p.shared.hiddenCallbacks=null,p=0;p<$.length;p++)By($[p],j)}catch(J){gt(u,u.return,J)}}o&&S&64&&W1(g),Zl(g,g.return);break;case 27:J1(g);case 26:case 5:dr(p,g,o),o&&u===null&&S&4&&Z1(g),Zl(g,g.return);break;case 12:dr(p,g,o);break;case 31:dr(p,g,o),o&&S&4&&sb(p,g);break;case 13:dr(p,g,o),o&&S&4&&rb(p,g);break;case 22:g.memoizedState===null&&dr(p,g,o),Zl(g,g.return);break;case 30:break;default:dr(p,g,o)}r=r.sibling}}function am(a,r){var o=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==o&&(a!=null&&a.refCount++,o!=null&&zl(o))}function sm(a,r){a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&zl(a))}function ls(a,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)lb(a,r,o,u),r=r.sibling}function lb(a,r,o,u){var p=r.flags;switch(r.tag){case 0:case 11:case 15:ls(a,r,o,u),p&2048&&Xl(9,r);break;case 1:ls(a,r,o,u);break;case 3:ls(a,r,o,u),p&2048&&(a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&zl(a)));break;case 12:if(p&2048){ls(a,r,o,u),a=r.stateNode;try{var g=r.memoizedProps,S=g.id,j=g.onPostCommit;typeof j=="function"&&j(S,r.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){gt(r,r.return,$)}}else ls(a,r,o,u);break;case 31:ls(a,r,o,u);break;case 13:ls(a,r,o,u);break;case 23:break;case 22:g=r.stateNode,S=r.alternate,r.memoizedState!==null?g._visibility&2?ls(a,r,o,u):Ql(a,r):g._visibility&2?ls(a,r,o,u):(g._visibility|=2,zo(a,r,o,u,(r.subtreeFlags&10256)!==0||!1)),p&2048&&am(S,r);break;case 24:ls(a,r,o,u),p&2048&&sm(r.alternate,r);break;default:ls(a,r,o,u)}}function zo(a,r,o,u,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=a,S=r,j=o,$=u,J=S.flags;switch(S.tag){case 0:case 11:case 15:zo(g,S,j,$,p),Xl(8,S);break;case 23:break;case 22:var ce=S.stateNode;S.memoizedState!==null?ce._visibility&2?zo(g,S,j,$,p):Ql(g,S):(ce._visibility|=2,zo(g,S,j,$,p)),p&&J&2048&&am(S.alternate,S);break;case 24:zo(g,S,j,$,p),p&&J&2048&&sm(S.alternate,S);break;default:zo(g,S,j,$,p)}r=r.sibling}}function Ql(a,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=a,u=r,p=u.flags;switch(u.tag){case 22:Ql(o,u),p&2048&&am(u.alternate,u);break;case 24:Ql(o,u),p&2048&&sm(u.alternate,u);break;default:Ql(o,u)}r=r.sibling}}var Jl=8192;function Bo(a,r,o){if(a.subtreeFlags&Jl)for(a=a.child;a!==null;)cb(a,r,o),a=a.sibling}function cb(a,r,o){switch(a.tag){case 26:Bo(a,r,o),a.flags&Jl&&a.memoizedState!==null&&zA(o,os,a.memoizedState,a.memoizedProps);break;case 5:Bo(a,r,o);break;case 3:case 4:var u=os;os=sd(a.stateNode.containerInfo),Bo(a,r,o),os=u;break;case 22:a.memoizedState===null&&(u=a.alternate,u!==null&&u.memoizedState!==null?(u=Jl,Jl=16777216,Bo(a,r,o),Jl=u):Bo(a,r,o));break;default:Bo(a,r,o)}}function ub(a){var r=a.alternate;if(r!==null&&(a=r.child,a!==null)){r.child=null;do r=a.sibling,a.sibling=null,a=r;while(a!==null)}}function ec(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];gn=u,fb(u,a)}ub(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)db(a),a=a.sibling}function db(a){switch(a.tag){case 0:case 11:case 15:ec(a),a.flags&2048&&Kr(9,a,a.return);break;case 3:ec(a);break;case 12:ec(a);break;case 22:var r=a.stateNode;a.memoizedState!==null&&r._visibility&2&&(a.return===null||a.return.tag!==13)?(r._visibility&=-3,Fu(a)):ec(a);break;default:ec(a)}}function Fu(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];gn=u,fb(u,a)}ub(a)}for(a=a.child;a!==null;){switch(r=a,r.tag){case 0:case 11:case 15:Kr(8,r,r.return),Fu(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Fu(r));break;default:Fu(r)}a=a.sibling}}function fb(a,r){for(;gn!==null;){var o=gn;switch(o.tag){case 0:case 11:case 15:Kr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:zl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,gn=u;else e:for(o=a;gn!==null;){u=gn;var p=u.sibling,g=u.return;if(nb(u),u===o){gn=null;break e}if(p!==null){p.return=g,gn=p;break e}gn=g}}}var QC={getCacheForType:function(a){var r=wn(Zt),o=r.data.get(a);return o===void 0&&(o=a(),r.data.set(a,o)),o},cacheSignal:function(){return wn(Zt).controller.signal}},JC=typeof WeakMap=="function"?WeakMap:Map,ft=0,wt=null,et=null,nt=0,pt=0,Ca=null,Wr=!1,Io=!1,rm=!1,fr=0,Ht=0,Xr=0,Vi=0,im=0,Aa=0,Uo=0,tc=null,ua=null,om=!1,Gu=0,hb=0,Yu=1/0,Ku=null,Zr=null,ln=0,Qr=null,qo=null,hr=0,lm=0,cm=null,mb=null,nc=0,um=null;function ja(){return(ft&2)!==0&&nt!==0?nt&-nt:A.T!==null?gm():Ut()}function pb(){if(Aa===0)if((nt&536870912)===0||it){var a=Zn;Zn<<=1,(Zn&3932160)===0&&(Zn=262144),Aa=a}else Aa=536870912;return a=Ta.current,a!==null&&(a.flags|=32),Aa}function da(a,r,o){(a===wt&&(pt===2||pt===9)||a.cancelPendingCommit!==null)&&($o(a,0),Jr(a,nt,Aa,!1)),Qn(a,o),((ft&2)===0||a!==wt)&&(a===wt&&((ft&2)===0&&(Vi|=o),Ht===4&&Jr(a,nt,Aa,!1)),zs(a))}function gb(a,r,o){if((ft&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&a.expiredLanes)===0||ga(a,r),p=u?nA(a,r):fm(a,r,!0),g=u;do{if(p===0){Io&&!u&&Jr(a,r,0,!1);break}else{if(o=a.current.alternate,g&&!eA(o)){p=fm(a,r,!1),g=!1;continue}if(p===2){if(g=r,a.errorRecoveryDisabledLanes&g)var S=0;else S=a.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){r=S;e:{var j=a;p=tc;var $=j.current.memoizedState.isDehydrated;if($&&($o(j,S).flags|=256),S=fm(j,S,!1),S!==2){if(rm&&!$){j.errorRecoveryDisabledLanes|=g,Vi|=g,p=4;break e}g=ua,ua=p,g!==null&&(ua===null?ua=g:ua.push.apply(ua,g))}p=S}if(g=!1,p!==2)continue}}if(p===1){$o(a,0),Jr(a,r,0,!0);break}e:{switch(u=a,g=p,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Jr(u,r,Aa,!Wr);break e;case 2:ua=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=Gu+300-st(),10<p)){if(Jr(u,r,Aa,!Wr),jn(u,0,!0)!==0)break e;hr=r,u.timeoutHandle=Yb(yb.bind(null,u,o,ua,Ku,om,r,Aa,Vi,Uo,Wr,g,"Throttled",-0,0),p);break e}yb(u,o,ua,Ku,om,r,Aa,Vi,Uo,Wr,g,null,-0,0)}}break}while(!0);zs(a)}function yb(a,r,o,u,p,g,S,j,$,J,ce,he,te,ae){if(a.timeoutHandle=-1,he=r.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ia},cb(r,g,he);var Ae=(g&62914560)===g?Gu-st():(g&4194048)===g?hb-st():0;if(Ae=BA(he,Ae),Ae!==null){hr=g,a.cancelPendingCommit=Ae(Eb.bind(null,a,r,g,o,u,p,S,j,$,ce,he,null,te,ae)),Jr(a,g,S,!J);return}}Eb(a,r,g,o,u,p,S,j,$)}function eA(a){for(var r=a;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],g=p.getSnapshot;p=p.value;try{if(!Sa(g(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Jr(a,r,o,u){r&=~im,r&=~Vi,a.suspendedLanes|=r,a.pingedLanes&=~r,u&&(a.warmLanes|=r),u=a.expirationTimes;for(var p=r;0<p;){var g=31-It(p),S=1<<g;u[g]=-1,p&=~S}o!==0&&Ns(a,o,r)}function Wu(){return(ft&6)===0?(ac(0),!1):!0}function dm(){if(et!==null){if(pt===0)var a=et.return;else a=et,nr=Ri=null,Ah(a),Do=null,Il=0,a=et;for(;a!==null;)K1(a.alternate,a),a=a.return;et=null}}function $o(a,r){var o=a.timeoutHandle;o!==-1&&(a.timeoutHandle=-1,vA(o)),o=a.cancelPendingCommit,o!==null&&(a.cancelPendingCommit=null,o()),hr=0,dm(),wt=a,et=o=er(a.current,null),nt=r,pt=0,Ca=null,Wr=!1,Io=ga(a,r),rm=!1,Uo=Aa=im=Vi=Xr=Ht=0,ua=tc=null,om=!1,(r&8)!==0&&(r|=r&32);var u=a.entangledLanes;if(u!==0)for(a=a.entanglements,u&=r;0<u;){var p=31-It(u),g=1<<p;r|=a[p],u&=~g}return fr=r,gu(),o}function bb(a,r){We=null,A.H=Yl,r===Oo||r===Tu?(r=Ry(),pt=3):r===ph?(r=Ry(),pt=4):pt=r===Vh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ca=r,et===null&&(Ht=1,Bu(a,La(r,a.current)))}function xb(){var a=Ta.current;return a===null?!0:(nt&4194048)===nt?Ia===null:(nt&62914560)===nt||(nt&536870912)!==0?a===Ia:!1}function vb(){var a=A.H;return A.H=Yl,a===null?Yl:a}function wb(){var a=A.A;return A.A=QC,a}function Xu(){Ht=4,Wr||(nt&4194048)!==nt&&Ta.current!==null||(Io=!0),(Xr&134217727)===0&&(Vi&134217727)===0||wt===null||Jr(wt,nt,Aa,!1)}function fm(a,r,o){var u=ft;ft|=2;var p=vb(),g=wb();(wt!==a||nt!==r)&&(Ku=null,$o(a,r)),r=!1;var S=Ht;e:do try{if(pt!==0&&et!==null){var j=et,$=Ca;switch(pt){case 8:dm(),S=6;break e;case 3:case 2:case 9:case 6:Ta.current===null&&(r=!0);var J=pt;if(pt=0,Ca=null,Vo(a,j,$,J),o&&Io){S=0;break e}break;default:J=pt,pt=0,Ca=null,Vo(a,j,$,J)}}tA(),S=Ht;break}catch(ce){bb(a,ce)}while(!0);return r&&a.shellSuspendCounter++,nr=Ri=null,ft=u,A.H=p,A.A=g,et===null&&(wt=null,nt=0,gu()),S}function tA(){for(;et!==null;)Sb(et)}function nA(a,r){var o=ft;ft|=2;var u=vb(),p=wb();wt!==a||nt!==r?(Ku=null,Yu=st()+500,$o(a,r)):Io=ga(a,r);e:do try{if(pt!==0&&et!==null){r=et;var g=Ca;t:switch(pt){case 1:pt=0,Ca=null,Vo(a,r,g,1);break;case 2:case 9:if(Dy(g)){pt=0,Ca=null,Nb(r);break}r=function(){pt!==2&&pt!==9||wt!==a||(pt=7),zs(a)},g.then(r,r);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:Dy(g)?(pt=0,Ca=null,Nb(r)):(pt=0,Ca=null,Vo(a,r,g,7));break;case 5:var S=null;switch(et.tag){case 26:S=et.memoizedState;case 5:case 27:var j=et;if(S?lx(S):j.stateNode.complete){pt=0,Ca=null;var $=j.sibling;if($!==null)et=$;else{var J=j.return;J!==null?(et=J,Zu(J)):et=null}break t}}pt=0,Ca=null,Vo(a,r,g,5);break;case 6:pt=0,Ca=null,Vo(a,r,g,6);break;case 8:dm(),Ht=6;break e;default:throw Error(s(462))}}aA();break}catch(ce){bb(a,ce)}while(!0);return nr=Ri=null,A.H=u,A.A=p,ft=o,et!==null?0:(wt=null,nt=0,gu(),Ht)}function aA(){for(;et!==null&&!zt();)Sb(et)}function Sb(a){var r=G1(a.alternate,a,fr);a.memoizedProps=a.pendingProps,r===null?Zu(a):et=r}function Nb(a){var r=a,o=r.alternate;switch(r.tag){case 15:case 0:r=U1(o,r,r.pendingProps,r.type,void 0,nt);break;case 11:r=U1(o,r,r.pendingProps,r.type.render,r.ref,nt);break;case 5:Ah(r);default:K1(o,r),r=et=wy(r,fr),r=G1(o,r,fr)}a.memoizedProps=a.pendingProps,r===null?Zu(a):et=r}function Vo(a,r,o,u){nr=Ri=null,Ah(r),Do=null,Il=0;var p=r.return;try{if(FC(a,p,r,o,nt)){Ht=1,Bu(a,La(o,a.current)),et=null;return}}catch(g){if(p!==null)throw et=p,g;Ht=1,Bu(a,La(o,a.current)),et=null;return}r.flags&32768?(it||u===1?a=!0:Io||(nt&536870912)!==0?a=!1:(Wr=a=!0,(u===2||u===9||u===3||u===6)&&(u=Ta.current,u!==null&&u.tag===13&&(u.flags|=16384))),Tb(r,a)):Zu(r)}function Zu(a){var r=a;do{if((r.flags&32768)!==0){Tb(r,Wr);return}a=r.return;var o=KC(r.alternate,r,fr);if(o!==null){et=o;return}if(r=r.sibling,r!==null){et=r;return}et=r=a}while(r!==null);Ht===0&&(Ht=5)}function Tb(a,r){do{var o=WC(a.alternate,a);if(o!==null){o.flags&=32767,et=o;return}if(o=a.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(a=a.sibling,a!==null)){et=a;return}et=a=o}while(a!==null);Ht=6,et=null}function Eb(a,r,o,u,p,g,S,j,$){a.cancelPendingCommit=null;do Qu();while(ln!==0);if((ft&6)!==0)throw Error(s(327));if(r!==null){if(r===a.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=eh,Jn(a,o,g,S,j,$),a===wt&&(et=wt=null,nt=0),qo=r,Qr=a,hr=o,lm=g,cm=p,mb=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,oA(Ie,function(){return kb(),null})):(a.callbackNode=null,a.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=A.T,A.T=null,p=B.p,B.p=2,S=ft,ft|=4;try{XC(a,r,o)}finally{ft=S,B.p=p,A.T=u}}ln=1,Cb(),Ab(),jb()}}function Cb(){if(ln===1){ln=0;var a=Qr,r=qo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=A.T,A.T=null;var u=B.p;B.p=2;var p=ft;ft|=4;try{ib(r,a);var g=Tm,S=fy(a.containerInfo),j=g.focusedElem,$=g.selectionRange;if(S!==j&&j&&j.ownerDocument&&dy(j.ownerDocument.documentElement,j)){if($!==null&&Wf(j)){var J=$.start,ce=$.end;if(ce===void 0&&(ce=J),"selectionStart"in j)j.selectionStart=J,j.selectionEnd=Math.min(ce,j.value.length);else{var he=j.ownerDocument||document,te=he&&he.defaultView||window;if(te.getSelection){var ae=te.getSelection(),Ae=j.textContent.length,Ve=Math.min($.start,Ae),vt=$.end===void 0?Ve:Math.min($.end,Ae);!ae.extend&&Ve>vt&&(S=vt,vt=Ve,Ve=S);var K=uy(j,Ve),G=uy(j,vt);if(K&&G&&(ae.rangeCount!==1||ae.anchorNode!==K.node||ae.anchorOffset!==K.offset||ae.focusNode!==G.node||ae.focusOffset!==G.offset)){var Q=he.createRange();Q.setStart(K.node,K.offset),ae.removeAllRanges(),Ve>vt?(ae.addRange(Q),ae.extend(G.node,G.offset)):(Q.setEnd(G.node,G.offset),ae.addRange(Q))}}}}for(he=[],ae=j;ae=ae.parentNode;)ae.nodeType===1&&he.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<he.length;j++){var de=he[j];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}ud=!!Nm,Tm=Nm=null}finally{ft=p,B.p=u,A.T=o}}a.current=r,ln=2}}function Ab(){if(ln===2){ln=0;var a=Qr,r=qo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=A.T,A.T=null;var u=B.p;B.p=2;var p=ft;ft|=4;try{tb(a,r.alternate,r)}finally{ft=p,B.p=u,A.T=o}}ln=3}}function jb(){if(ln===4||ln===3){ln=0,Gt();var a=Qr,r=qo,o=hr,u=mb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ln=5:(ln=0,qo=Qr=null,_b(a,a.pendingLanes));var p=a.pendingLanes;if(p===0&&(Zr=null),ea(o),r=r.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Bn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=A.T,p=B.p,B.p=2,A.T=null;try{for(var g=a.onRecoverableError,S=0;S<u.length;S++){var j=u[S];g(j.value,{componentStack:j.stack})}}finally{A.T=r,B.p=p}}(hr&3)!==0&&Qu(),zs(a),p=a.pendingLanes,(o&261930)!==0&&(p&42)!==0?a===um?nc++:(nc=0,um=a):nc=0,ac(0)}}function _b(a,r){(a.pooledCacheLanes&=r)===0&&(r=a.pooledCache,r!=null&&(a.pooledCache=null,zl(r)))}function Qu(){return Cb(),Ab(),jb(),kb()}function kb(){if(ln!==5)return!1;var a=Qr,r=lm;lm=0;var o=ea(hr),u=A.T,p=B.p;try{B.p=32>o?32:o,A.T=null,o=cm,cm=null;var g=Qr,S=hr;if(ln=0,qo=Qr=null,hr=0,(ft&6)!==0)throw Error(s(331));var j=ft;if(ft|=4,db(g.current),lb(g,g.current,S,o),ft=j,ac(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Bn,g)}catch{}return!0}finally{B.p=p,A.T=u,_b(a,r)}}function Ob(a,r,o){r=La(o,r),r=$h(a.stateNode,r,2),a=Fr(a,r,2),a!==null&&(Qn(a,2),zs(a))}function gt(a,r,o){if(a.tag===3)Ob(a,a,o);else for(;r!==null;){if(r.tag===3){Ob(r,a,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Zr===null||!Zr.has(u))){a=La(o,a),o=D1(2),u=Fr(r,o,2),u!==null&&(M1(o,u,r,a),Qn(u,2),zs(u));break}}r=r.return}}function hm(a,r,o){var u=a.pingCache;if(u===null){u=a.pingCache=new JC;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(o)||(rm=!0,p.add(o),a=sA.bind(null,a,r,o),r.then(a,a))}function sA(a,r,o){var u=a.pingCache;u!==null&&u.delete(r),a.pingedLanes|=a.suspendedLanes&o,a.warmLanes&=~o,wt===a&&(nt&o)===o&&(Ht===4||Ht===3&&(nt&62914560)===nt&&300>st()-Gu?(ft&2)===0&&$o(a,0):im|=o,Uo===nt&&(Uo=0)),zs(a)}function Db(a,r){r===0&&(r=ts()),a=Oi(a,r),a!==null&&(Qn(a,r),zs(a))}function rA(a){var r=a.memoizedState,o=0;r!==null&&(o=r.retryLane),Db(a,o)}function iA(a,r){var o=0;switch(a.tag){case 31:case 13:var u=a.stateNode,p=a.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=a.stateNode;break;case 22:u=a.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Db(a,o)}function oA(a,r){return He(a,r)}var Ju=null,Ho=null,mm=!1,ed=!1,pm=!1,ei=0;function zs(a){a!==Ho&&a.next===null&&(Ho===null?Ju=Ho=a:Ho=Ho.next=a),ed=!0,mm||(mm=!0,cA())}function ac(a,r){if(!pm&&ed){pm=!0;do for(var o=!1,u=Ju;u!==null;){if(a!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var S=u.suspendedLanes,j=u.pingedLanes;g=(1<<31-It(42|a)+1)-1,g&=p&~(S&~j),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Pb(u,g))}else g=nt,g=jn(u,u===wt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ga(u,g)||(o=!0,Pb(u,g));u=u.next}while(o);pm=!1}}function lA(){Mb()}function Mb(){ed=mm=!1;var a=0;ei!==0&&xA()&&(a=ei);for(var r=st(),o=null,u=Ju;u!==null;){var p=u.next,g=Rb(u,r);g===0?(u.next=null,o===null?Ju=p:o.next=p,p===null&&(Ho=o)):(o=u,(a!==0||(g&3)!==0)&&(ed=!0)),u=p}ln!==0&&ln!==5||ac(a),ei!==0&&(ei=0)}function Rb(a,r){for(var o=a.suspendedLanes,u=a.pingedLanes,p=a.expirationTimes,g=a.pendingLanes&-62914561;0<g;){var S=31-It(g),j=1<<S,$=p[S];$===-1?((j&o)===0||(j&u)!==0)&&(p[S]=Gs(j,r)):$<=r&&(a.expiredLanes|=j),g&=~j}if(r=wt,o=nt,o=jn(a,a===r?o:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),u=a.callbackNode,o===0||a===r&&(pt===2||pt===9)||a.cancelPendingCommit!==null)return u!==null&&u!==null&&ot(u),a.callbackNode=null,a.callbackPriority=0;if((o&3)===0||ga(a,o)){if(r=o&-o,r===a.callbackPriority)return r;switch(u!==null&&ot(u),ea(o)){case 2:case 8:o=mt;break;case 32:o=Ie;break;case 268435456:o=St;break;default:o=Ie}return u=Lb.bind(null,a),o=He(o,u),a.callbackPriority=r,a.callbackNode=o,r}return u!==null&&u!==null&&ot(u),a.callbackPriority=2,a.callbackNode=null,2}function Lb(a,r){if(ln!==0&&ln!==5)return a.callbackNode=null,a.callbackPriority=0,null;var o=a.callbackNode;if(Qu()&&a.callbackNode!==o)return null;var u=nt;return u=jn(a,a===wt?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),u===0?null:(gb(a,u,r),Rb(a,st()),a.callbackNode!=null&&a.callbackNode===o?Lb.bind(null,a):null)}function Pb(a,r){if(Qu())return null;gb(a,r,!0)}function cA(){wA(function(){(ft&6)!==0?He(Ge,lA):Mb()})}function gm(){if(ei===0){var a=_o;a===0&&(a=pa,pa<<=1,(pa&261888)===0&&(pa=256)),ei=a}return ei}function zb(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Rr(""+a)}function Bb(a,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,a.id&&o.setAttribute("form",a.id),r.parentNode.insertBefore(o,r),a=new FormData(a),o.parentNode.removeChild(o),a}function uA(a,r,o,u,p){if(r==="submit"&&o&&o.stateNode===p){var g=zb((p[Xt]||null).action),S=u.submitter;S&&(r=(r=S[Xt]||null)?zb(r.formAction):S.getAttribute("formAction"),r!==null&&(g=r,S=null));var j=new Me("action","action",null,u,p);a.push({event:j,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ei!==0){var $=S?Bb(p,S):new FormData(p);Ph(o,{pending:!0,data:$,method:p.method,action:g},null,$)}}else typeof g=="function"&&(j.preventDefault(),$=S?Bb(p,S):new FormData(p),Ph(o,{pending:!0,data:$,method:p.method,action:g},g,$))},currentTarget:p}]})}}for(var ym=0;ym<Jf.length;ym++){var bm=Jf[ym],dA=bm.toLowerCase(),fA=bm[0].toUpperCase()+bm.slice(1);is(dA,"on"+fA)}is(py,"onAnimationEnd"),is(gy,"onAnimationIteration"),is(yy,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(jC,"onTransitionRun"),is(_C,"onTransitionStart"),is(kC,"onTransitionCancel"),is(by,"onTransitionEnd"),qn("onMouseEnter",["mouseout","mouseover"]),qn("onMouseLeave",["mouseout","mouseover"]),qn("onPointerEnter",["pointerout","pointerover"]),qn("onPointerLeave",["pointerout","pointerover"]),sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sa("onBeforeInput",["compositionend","keypress","textInput","paste"]),sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sc));function Ib(a,r){r=(r&4)!==0;for(var o=0;o<a.length;o++){var u=a[o],p=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var S=u.length-1;0<=S;S--){var j=u[S],$=j.instance,J=j.currentTarget;if(j=j.listener,$!==g&&p.isPropagationStopped())break e;g=j,p.currentTarget=J;try{g(p)}catch(ce){pu(ce)}p.currentTarget=null,g=$}else for(S=0;S<u.length;S++){if(j=u[S],$=j.instance,J=j.currentTarget,j=j.listener,$!==g&&p.isPropagationStopped())break e;g=j,p.currentTarget=J;try{g(p)}catch(ce){pu(ce)}p.currentTarget=null,g=$}}}}function tt(a,r){var o=r[Et];o===void 0&&(o=r[Et]=new Set);var u=a+"__bubble";o.has(u)||(Ub(r,a,2,!1),o.add(u))}function xm(a,r,o){var u=0;r&&(u|=4),Ub(o,a,u,r)}var td="_reactListening"+Math.random().toString(36).slice(2);function vm(a){if(!a[td]){a[td]=!0,Un.forEach(function(o){o!=="selectionchange"&&(hA.has(o)||xm(o,!1,a),xm(o,!0,a))});var r=a.nodeType===9?a:a.ownerDocument;r===null||r[td]||(r[td]=!0,xm("selectionchange",!1,r))}}function Ub(a,r,o,u){switch(px(r)){case 2:var p=qA;break;case 8:p=$A;break;default:p=Lm}o=p.bind(null,r,o,a),p=void 0,!zr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?a.addEventListener(r,o,{capture:!0,passive:p}):a.addEventListener(r,o,!0):p!==void 0?a.addEventListener(r,o,{passive:p}):a.addEventListener(r,o,!1)}function wm(a,r,o,u,p){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var j=u.stateNode.containerInfo;if(j===p)break;if(S===4)for(S=u.return;S!==null;){var $=S.tag;if(($===3||$===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;j!==null;){if(S=Lt(j),S===null)return;if($=S.tag,$===5||$===6||$===26||$===27){u=g=S;continue e}j=j.parentNode}}u=u.return}go(function(){var J=g,ce=Lr(o),he=[];e:{var te=xy.get(a);if(te!==void 0){var ae=Me,Ae=a;switch(a){case"keypress":if(v(o)===0)break e;case"keydown":case"keyup":ae=iC;break;case"focusin":Ae="focus",ae=wa;break;case"focusout":Ae="blur",ae=wa;break;case"beforeblur":case"afterblur":ae=wa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=$t;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=cC;break;case py:case gy:case yy:ae=hu;break;case by:ae=dC;break;case"scroll":case"scrollend":ae=rt;break;case"wheel":ae=hC;break;case"copy":case"cut":case"paste":ae=xo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=X0;break;case"toggle":case"beforetoggle":ae=pC}var Ve=(r&4)!==0,vt=!Ve&&(a==="scroll"||a==="scrollend"),K=Ve?te!==null?te+"Capture":null:te;Ve=[];for(var G=J,Q;G!==null;){var de=G;if(Q=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||Q===null||K===null||(de=Ds(G,K),de!=null&&Ve.push(rc(G,de,Q))),vt)break;G=G.return}0<Ve.length&&(te=new ae(te,Ae,null,o,ce),he.push({event:te,listeners:Ve}))}}if((r&7)===0){e:{if(te=a==="mouseover"||a==="pointerover",ae=a==="mouseout"||a==="pointerout",te&&o!==sn&&(Ae=o.relatedTarget||o.fromElement)&&(Lt(Ae)||Ae[ta]))break e;if((ae||te)&&(te=ce.window===ce?ce:(te=ce.ownerDocument)?te.defaultView||te.parentWindow:window,ae?(Ae=o.relatedTarget||o.toElement,ae=J,Ae=Ae?Lt(Ae):null,Ae!==null&&(vt=l(Ae),Ve=Ae.tag,Ae!==vt||Ve!==5&&Ve!==27&&Ve!==6)&&(Ae=null)):(ae=null,Ae=J),ae!==Ae)){if(Ve=$t,de="onMouseLeave",K="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(Ve=X0,de="onPointerLeave",K="onPointerEnter",G="pointer"),vt=ae==null?te:na(ae),Q=Ae==null?te:na(Ae),te=new Ve(de,G+"leave",ae,o,ce),te.target=vt,te.relatedTarget=Q,de=null,Lt(ce)===J&&(Ve=new Ve(K,G+"enter",Ae,o,ce),Ve.target=Q,Ve.relatedTarget=vt,de=Ve),vt=de,ae&&Ae)t:{for(Ve=mA,K=ae,G=Ae,Q=0,de=K;de;de=Ve(de))Q++;de=0;for(var Ue=G;Ue;Ue=Ve(Ue))de++;for(;0<Q-de;)K=Ve(K),Q--;for(;0<de-Q;)G=Ve(G),de--;for(;Q--;){if(K===G||G!==null&&K===G.alternate){Ve=K;break t}K=Ve(K),G=Ve(G)}Ve=null}else Ve=null;ae!==null&&qb(he,te,ae,Ve,!1),Ae!==null&&vt!==null&&qb(he,vt,Ae,Ve,!0)}}e:{if(te=J?na(J):window,ae=te.nodeName&&te.nodeName.toLowerCase(),ae==="select"||ae==="input"&&te.type==="file")var ct=sy;else if(ny(te))if(ry)ct=EC;else{ct=NC;var Re=SC}else ae=te.nodeName,!ae||ae.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&ji(J.elementType)&&(ct=sy):ct=TC;if(ct&&(ct=ct(a,J))){ay(he,ct,o,ce);break e}Re&&Re(a,te,J),a==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&Ai(te,"number",te.value)}switch(Re=J?na(J):window,a){case"focusin":(ny(Re)||Re.contentEditable==="true")&&(wo=Re,Xf=J,Rl=null);break;case"focusout":Rl=Xf=wo=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,hy(he,o,ce);break;case"selectionchange":if(AC)break;case"keydown":case"keyup":hy(he,o,ce)}var Ze;if(Gf)e:{switch(a){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else vo?ey(a,o)&&(at="onCompositionEnd"):a==="keydown"&&o.keyCode===229&&(at="onCompositionStart");at&&(Z0&&o.locale!=="ko"&&(vo||at!=="onCompositionStart"?at==="onCompositionEnd"&&vo&&(Ze=yo()):(va=ce,Qs="value"in va?va.value:va.textContent,vo=!0)),Re=nd(J,at),0<Re.length&&(at=new W0(at,a,null,o,ce),he.push({event:at,listeners:Re}),Ze?at.data=Ze:(Ze=ty(o),Ze!==null&&(at.data=Ze)))),(Ze=yC?bC(a,o):xC(a,o))&&(at=nd(J,"onBeforeInput"),0<at.length&&(Re=new W0("onBeforeInput","beforeinput",null,o,ce),he.push({event:Re,listeners:at}),Re.data=Ze)),uA(he,a,J,o,ce)}Ib(he,r)})}function rc(a,r,o){return{instance:a,listener:r,currentTarget:o}}function nd(a,r){for(var o=r+"Capture",u=[];a!==null;){var p=a,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Ds(a,o),p!=null&&u.unshift(rc(a,p,g)),p=Ds(a,r),p!=null&&u.push(rc(a,p,g))),a.tag===3)return u;a=a.return}return[]}function mA(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function qb(a,r,o,u,p){for(var g=r._reactName,S=[];o!==null&&o!==u;){var j=o,$=j.alternate,J=j.stateNode;if(j=j.tag,$!==null&&$===u)break;j!==5&&j!==26&&j!==27||J===null||($=J,p?(J=Ds(o,g),J!=null&&S.unshift(rc(o,J,$))):p||(J=Ds(o,g),J!=null&&S.push(rc(o,J,$)))),o=o.return}S.length!==0&&a.push({event:r,listeners:S})}var pA=/\r\n?/g,gA=/\u0000|\uFFFD/g;function $b(a){return(typeof a=="string"?a:""+a).replace(pA,`
`).replace(gA,"")}function Vb(a,r){return r=$b(r),$b(a)===r}function xt(a,r,o,u,p,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Dn(a,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Dn(a,""+u);break;case"className":Zs(a,"class",u);break;case"tabIndex":Zs(a,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Zs(a,o,u);break;case"style":ba(a,u,g);break;case"data":if(r!=="object"){Zs(a,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){a.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){a.removeAttribute(o);break}u=Rr(""+u),a.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){a.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&xt(a,r,"name",p.name,p,null),xt(a,r,"formEncType",p.formEncType,p,null),xt(a,r,"formMethod",p.formMethod,p,null),xt(a,r,"formTarget",p.formTarget,p,null)):(xt(a,r,"encType",p.encType,p,null),xt(a,r,"method",p.method,p,null),xt(a,r,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){a.removeAttribute(o);break}u=Rr(""+u),a.setAttribute(o,u);break;case"onClick":u!=null&&(a.onclick=ia);break;case"onScroll":u!=null&&tt("scroll",a);break;case"onScrollEnd":u!=null&&tt("scrollend",a);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));a.innerHTML=o}}break;case"multiple":a.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":a.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){a.removeAttribute("xlink:href");break}o=Rr(""+u),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(o,""+u):a.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(o,""):a.removeAttribute(o);break;case"capture":case"download":u===!0?a.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(o,u):a.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?a.setAttribute(o,u):a.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?a.removeAttribute(o):a.setAttribute(o,u);break;case"popover":tt("beforetoggle",a),tt("toggle",a),Cs(a,"popover",u);break;case"xlinkActuate":ye(a,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ye(a,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ye(a,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ye(a,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ye(a,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ye(a,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ye(a,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ye(a,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ye(a,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Cs(a,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=jl.get(o)||o,Cs(a,o,u))}}function Sm(a,r,o,u,p,g){switch(o){case"style":ba(a,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));a.innerHTML=o}}break;case"children":typeof u=="string"?Dn(a,u):(typeof u=="number"||typeof u=="bigint")&&Dn(a,""+u);break;case"onScroll":u!=null&&tt("scroll",a);break;case"onScrollEnd":u!=null&&tt("scrollend",a);break;case"onClick":u!=null&&(a.onclick=ia);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!aa.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),g=a[Xt]||null,g=g!=null?g[o]:null,typeof g=="function"&&a.removeEventListener(r,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(o in a?a[o]=null:a.hasAttribute(o)&&a.removeAttribute(o)),a.addEventListener(r,u,p);break e}o in a?a[o]=u:u===!0?a.setAttribute(o,""):Cs(a,o,u)}}}function Nn(a,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",a),tt("load",a);var u=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var S=o[g];if(S!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:xt(a,r,g,S,o,null)}}p&&xt(a,r,"srcSet",o.srcSet,o,null),u&&xt(a,r,"src",o.src,o,null);return;case"input":tt("invalid",a);var j=g=S=p=null,$=null,J=null;for(u in o)if(o.hasOwnProperty(u)){var ce=o[u];if(ce!=null)switch(u){case"name":p=ce;break;case"type":S=ce;break;case"checked":$=ce;break;case"defaultChecked":J=ce;break;case"value":g=ce;break;case"defaultValue":j=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(s(137,r));break;default:xt(a,r,u,ce,o,null)}}Mr(a,g,j,$,J,S,p,!1);return;case"select":tt("invalid",a),u=S=g=null;for(p in o)if(o.hasOwnProperty(p)&&(j=o[p],j!=null))switch(p){case"value":g=j;break;case"defaultValue":S=j;break;case"multiple":u=j;default:xt(a,r,p,j,o,null)}r=g,o=S,a.multiple=!!u,r!=null?_s(a,!!u,r,!1):o!=null&&_s(a,!!u,o,!0);return;case"textarea":tt("invalid",a),g=p=u=null;for(S in o)if(o.hasOwnProperty(S)&&(j=o[S],j!=null))switch(S){case"value":u=j;break;case"defaultValue":p=j;break;case"children":g=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(91));break;default:xt(a,r,S,j,o,null)}ra(a,u,p,g);return;case"option":for($ in o)o.hasOwnProperty($)&&(u=o[$],u!=null)&&($==="selected"?a.selected=u&&typeof u!="function"&&typeof u!="symbol":xt(a,r,$,u,o,null));return;case"dialog":tt("beforetoggle",a),tt("toggle",a),tt("cancel",a),tt("close",a);break;case"iframe":case"object":tt("load",a);break;case"video":case"audio":for(u=0;u<sc.length;u++)tt(sc[u],a);break;case"image":tt("error",a),tt("load",a);break;case"details":tt("toggle",a);break;case"embed":case"source":case"link":tt("error",a),tt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(u=o[J],u!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:xt(a,r,J,u,o,null)}return;default:if(ji(r)){for(ce in o)o.hasOwnProperty(ce)&&(u=o[ce],u!==void 0&&Sm(a,r,ce,u,o,void 0));return}}for(j in o)o.hasOwnProperty(j)&&(u=o[j],u!=null&&xt(a,r,j,u,o,null))}function yA(a,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,S=null,j=null,$=null,J=null,ce=null;for(ae in o){var he=o[ae];if(o.hasOwnProperty(ae)&&he!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":$=he;default:u.hasOwnProperty(ae)||xt(a,r,ae,null,u,he)}}for(var te in u){var ae=u[te];if(he=o[te],u.hasOwnProperty(te)&&(ae!=null||he!=null))switch(te){case"type":g=ae;break;case"name":p=ae;break;case"checked":J=ae;break;case"defaultChecked":ce=ae;break;case"value":S=ae;break;case"defaultValue":j=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,r));break;default:ae!==he&&xt(a,r,te,ae,u,he)}}Ci(a,S,j,$,J,ce,g,p);return;case"select":ae=S=j=te=null;for(g in o)if($=o[g],o.hasOwnProperty(g)&&$!=null)switch(g){case"value":break;case"multiple":ae=$;default:u.hasOwnProperty(g)||xt(a,r,g,null,u,$)}for(p in u)if(g=u[p],$=o[p],u.hasOwnProperty(p)&&(g!=null||$!=null))switch(p){case"value":te=g;break;case"defaultValue":j=g;break;case"multiple":S=g;default:g!==$&&xt(a,r,p,g,u,$)}r=j,o=S,u=ae,te!=null?_s(a,!!o,te,!1):!!u!=!!o&&(r!=null?_s(a,!!o,r,!0):_s(a,!!o,o?[]:"",!1));return;case"textarea":ae=te=null;for(j in o)if(p=o[j],o.hasOwnProperty(j)&&p!=null&&!u.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:xt(a,r,j,null,u,p)}for(S in u)if(p=u[S],g=o[S],u.hasOwnProperty(S)&&(p!=null||g!=null))switch(S){case"value":te=p;break;case"defaultValue":ae=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==g&&xt(a,r,S,p,u,g)}ks(a,te,ae);return;case"option":for(var Ae in o)te=o[Ae],o.hasOwnProperty(Ae)&&te!=null&&!u.hasOwnProperty(Ae)&&(Ae==="selected"?a.selected=!1:xt(a,r,Ae,null,u,te));for($ in u)te=u[$],ae=o[$],u.hasOwnProperty($)&&te!==ae&&(te!=null||ae!=null)&&($==="selected"?a.selected=te&&typeof te!="function"&&typeof te!="symbol":xt(a,r,$,te,u,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in o)te=o[Ve],o.hasOwnProperty(Ve)&&te!=null&&!u.hasOwnProperty(Ve)&&xt(a,r,Ve,null,u,te);for(J in u)if(te=u[J],ae=o[J],u.hasOwnProperty(J)&&te!==ae&&(te!=null||ae!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:xt(a,r,J,te,u,ae)}return;default:if(ji(r)){for(var vt in o)te=o[vt],o.hasOwnProperty(vt)&&te!==void 0&&!u.hasOwnProperty(vt)&&Sm(a,r,vt,void 0,u,te);for(ce in u)te=u[ce],ae=o[ce],!u.hasOwnProperty(ce)||te===ae||te===void 0&&ae===void 0||Sm(a,r,ce,te,u,ae);return}}for(var K in o)te=o[K],o.hasOwnProperty(K)&&te!=null&&!u.hasOwnProperty(K)&&xt(a,r,K,null,u,te);for(he in u)te=u[he],ae=o[he],!u.hasOwnProperty(he)||te===ae||te==null&&ae==null||xt(a,r,he,te,u,ae)}function Hb(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bA(){if(typeof performance.getEntriesByType=="function"){for(var a=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],g=p.transferSize,S=p.initiatorType,j=p.duration;if(g&&j&&Hb(S)){for(S=0,j=p.responseEnd,u+=1;u<o.length;u++){var $=o[u],J=$.startTime;if(J>j)break;var ce=$.transferSize,he=$.initiatorType;ce&&Hb(he)&&($=$.responseEnd,S+=ce*($<j?1:(j-J)/($-J)))}if(--u,r+=8*(g+S)/(p.duration/1e3),a++,10<a)break}}if(0<a)return r/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Nm=null,Tm=null;function ad(a){return a.nodeType===9?a:a.ownerDocument}function Fb(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gb(a,r){if(a===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&r==="foreignObject"?0:a}function Em(a,r){return a==="textarea"||a==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cm=null;function xA(){var a=window.event;return a&&a.type==="popstate"?a===Cm?!1:(Cm=a,!0):(Cm=null,!1)}var Yb=typeof setTimeout=="function"?setTimeout:void 0,vA=typeof clearTimeout=="function"?clearTimeout:void 0,Kb=typeof Promise=="function"?Promise:void 0,wA=typeof queueMicrotask=="function"?queueMicrotask:typeof Kb<"u"?function(a){return Kb.resolve(null).then(a).catch(SA)}:Yb;function SA(a){setTimeout(function(){throw a})}function ti(a){return a==="head"}function Wb(a,r){var o=r,u=0;do{var p=o.nextSibling;if(a.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){a.removeChild(p),Ko(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")ic(a.ownerDocument.documentElement);else if(o==="head"){o=a.ownerDocument.head,ic(o);for(var g=o.firstChild;g;){var S=g.nextSibling,j=g.nodeName;g[as]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=S}}else o==="body"&&ic(a.ownerDocument.body);o=p}while(o);Ko(r)}function Xb(a,r){var o=a;a=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(a===0)break;a--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||a++;o=u}while(o)}function Am(a){var r=a.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Am(o),Ts(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}a.removeChild(o)}}function NA(a,r,o,u){for(;a.nodeType===1;){var p=o;if(a.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(u){if(!a[as])switch(r){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(g=a.getAttribute("rel"),g==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(g!==p.rel||a.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||a.getAttribute("title")!==(p.title==null?null:p.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(g=a.getAttribute("src"),(g!==(p.src==null?null:p.src)||a.getAttribute("type")!==(p.type==null?null:p.type)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(r==="input"&&a.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&a.getAttribute("name")===g)return a}else return a;if(a=Ua(a.nextSibling),a===null)break}return null}function TA(a,r,o){if(r==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Ua(a.nextSibling),a===null))return null;return a}function Zb(a,r){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!r||(a=Ua(a.nextSibling),a===null))return null;return a}function jm(a){return a.data==="$?"||a.data==="$~"}function _m(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function EA(a,r){var o=a.ownerDocument;if(a.data==="$~")a._reactRetry=r;else if(a.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),a._reactRetry=u}}function Ua(a){for(;a!=null;a=a.nextSibling){var r=a.nodeType;if(r===1||r===3)break;if(r===8){if(r=a.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return a}var km=null;function Qb(a){a=a.nextSibling;for(var r=0;a;){if(a.nodeType===8){var o=a.data;if(o==="/$"||o==="/&"){if(r===0)return Ua(a.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}a=a.nextSibling}return null}function Jb(a){a=a.previousSibling;for(var r=0;a;){if(a.nodeType===8){var o=a.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return a;r--}else o!=="/$"&&o!=="/&"||r++}a=a.previousSibling}return null}function ex(a,r,o){switch(r=ad(o),a){case"html":if(a=r.documentElement,!a)throw Error(s(452));return a;case"head":if(a=r.head,!a)throw Error(s(453));return a;case"body":if(a=r.body,!a)throw Error(s(454));return a;default:throw Error(s(451))}}function ic(a){for(var r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Ts(a)}var qa=new Map,tx=new Set;function sd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var mr=B.d;B.d={f:CA,r:AA,D:jA,C:_A,L:kA,m:OA,X:MA,S:DA,M:RA};function CA(){var a=mr.f(),r=Wu();return a||r}function AA(a){var r=ya(a);r!==null&&r.tag===5&&r.type==="form"?b1(r):mr.r(a)}var Fo=typeof document>"u"?null:document;function nx(a,r,o){var u=Fo;if(u&&typeof r=="string"&&r){var p=On(r);p='link[rel="'+a+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),tx.has(p)||(tx.add(p),a={rel:a,crossOrigin:o,href:r},u.querySelector(p)===null&&(r=u.createElement("link"),Nn(r,"link",a),Ct(r),u.head.appendChild(r)))}}function jA(a){mr.D(a),nx("dns-prefetch",a,null)}function _A(a,r){mr.C(a,r),nx("preconnect",a,r)}function kA(a,r,o){mr.L(a,r,o);var u=Fo;if(u&&a&&r){var p='link[rel="preload"][as="'+On(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+On(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+On(o.imageSizes)+'"]')):p+='[href="'+On(a)+'"]';var g=p;switch(r){case"style":g=Go(a);break;case"script":g=Yo(a)}qa.has(g)||(a=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:a,as:r},o),qa.set(g,a),u.querySelector(p)!==null||r==="style"&&u.querySelector(oc(g))||r==="script"&&u.querySelector(lc(g))||(r=u.createElement("link"),Nn(r,"link",a),Ct(r),u.head.appendChild(r)))}}function OA(a,r){mr.m(a,r);var o=Fo;if(o&&a){var u=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+On(u)+'"][href="'+On(a)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Yo(a)}if(!qa.has(g)&&(a=b({rel:"modulepreload",href:a},r),qa.set(g,a),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(lc(g)))return}u=o.createElement("link"),Nn(u,"link",a),Ct(u),o.head.appendChild(u)}}}function DA(a,r,o){mr.S(a,r,o);var u=Fo;if(u&&a){var p=_n(u).hoistableStyles,g=Go(a);r=r||"default";var S=p.get(g);if(!S){var j={loading:0,preload:null};if(S=u.querySelector(oc(g)))j.loading=5;else{a=b({rel:"stylesheet",href:a,"data-precedence":r},o),(o=qa.get(g))&&Om(a,o);var $=S=u.createElement("link");Ct($),Nn($,"link",a),$._p=new Promise(function(J,ce){$.onload=J,$.onerror=ce}),$.addEventListener("load",function(){j.loading|=1}),$.addEventListener("error",function(){j.loading|=2}),j.loading|=4,rd(S,r,u)}S={type:"stylesheet",instance:S,count:1,state:j},p.set(g,S)}}}function MA(a,r){mr.X(a,r);var o=Fo;if(o&&a){var u=_n(o).hoistableScripts,p=Yo(a),g=u.get(p);g||(g=o.querySelector(lc(p)),g||(a=b({src:a,async:!0},r),(r=qa.get(p))&&Dm(a,r),g=o.createElement("script"),Ct(g),Nn(g,"link",a),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function RA(a,r){mr.M(a,r);var o=Fo;if(o&&a){var u=_n(o).hoistableScripts,p=Yo(a),g=u.get(p);g||(g=o.querySelector(lc(p)),g||(a=b({src:a,async:!0,type:"module"},r),(r=qa.get(p))&&Dm(a,r),g=o.createElement("script"),Ct(g),Nn(g,"link",a),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function ax(a,r,o,u){var p=(p=ge.current)?sd(p):null;if(!p)throw Error(s(446));switch(a){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Go(o.href),o=_n(p).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){a=Go(o.href);var g=_n(p).hoistableStyles,S=g.get(a);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(a,S),(g=p.querySelector(oc(a)))&&!g._p&&(S.instance=g,S.state.loading=5),qa.has(a)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},qa.set(a,o),g||LA(p,a,o,S.state))),r&&u===null)throw Error(s(528,""));return S}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Yo(o),o=_n(p).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,a))}}function Go(a){return'href="'+On(a)+'"'}function oc(a){return'link[rel="stylesheet"]['+a+"]"}function sx(a){return b({},a,{"data-precedence":a.precedence,precedence:null})}function LA(a,r,o,u){a.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=a.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Nn(r,"link",o),Ct(r),a.head.appendChild(r))}function Yo(a){return'[src="'+On(a)+'"]'}function lc(a){return"script[async]"+a}function rx(a,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=a.querySelector('style[data-href~="'+On(o.href)+'"]');if(u)return r.instance=u,Ct(u),u;var p=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(a.ownerDocument||a).createElement("style"),Ct(u),Nn(u,"style",p),rd(u,o.precedence,a),r.instance=u;case"stylesheet":p=Go(o.href);var g=a.querySelector(oc(p));if(g)return r.state.loading|=4,r.instance=g,Ct(g),g;u=sx(o),(p=qa.get(p))&&Om(u,p),g=(a.ownerDocument||a).createElement("link"),Ct(g);var S=g;return S._p=new Promise(function(j,$){S.onload=j,S.onerror=$}),Nn(g,"link",u),r.state.loading|=4,rd(g,o.precedence,a),r.instance=g;case"script":return g=Yo(o.src),(p=a.querySelector(lc(g)))?(r.instance=p,Ct(p),p):(u=o,(p=qa.get(g))&&(u=b({},o),Dm(u,p)),a=a.ownerDocument||a,p=a.createElement("script"),Ct(p),Nn(p,"link",u),a.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,rd(u,o.precedence,a));return r.instance}function rd(a,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,S=0;S<u.length;S++){var j=u[S];if(j.dataset.precedence===r)g=j;else if(g!==p)break}g?g.parentNode.insertBefore(a,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(a,r.firstChild))}function Om(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.title==null&&(a.title=r.title)}function Dm(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.integrity==null&&(a.integrity=r.integrity)}var id=null;function ix(a,r,o){if(id===null){var u=new Map,p=id=new Map;p.set(o,u)}else p=id,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(a))return u;for(u.set(a,null),o=o.getElementsByTagName(a),p=0;p<o.length;p++){var g=o[p];if(!(g[as]||g[Tt]||a==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(r)||"";S=a+S;var j=u.get(S);j?j.push(g):u.set(S,[g])}}return u}function ox(a,r,o){a=a.ownerDocument||a,a.head.insertBefore(o,r==="title"?a.querySelector("head > title"):null)}function PA(a,r,o){if(o===1||r.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(a=r.disabled,typeof r.precedence=="string"&&a==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function lx(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function zA(a,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Go(u.href),g=r.querySelector(oc(p));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(a.count++,a=od.bind(a),r.then(a,a)),o.state.loading|=4,o.instance=g,Ct(g);return}g=r.ownerDocument||r,u=sx(u),(p=qa.get(p))&&Om(u,p),g=g.createElement("link"),Ct(g);var S=g;S._p=new Promise(function(j,$){S.onload=j,S.onerror=$}),Nn(g,"link",u),o.instance=g}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(a.count++,o=od.bind(a),r.addEventListener("load",o),r.addEventListener("error",o))}}var Mm=0;function BA(a,r){return a.stylesheets&&a.count===0&&cd(a,a.stylesheets),0<a.count||0<a.imgCount?function(o){var u=setTimeout(function(){if(a.stylesheets&&cd(a,a.stylesheets),a.unsuspend){var g=a.unsuspend;a.unsuspend=null,g()}},6e4+r);0<a.imgBytes&&Mm===0&&(Mm=62500*bA());var p=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&cd(a,a.stylesheets),a.unsuspend)){var g=a.unsuspend;a.unsuspend=null,g()}},(a.imgBytes>Mm?50:800)+r);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function od(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ld=null;function cd(a,r){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ld=new Map,r.forEach(IA,a),ld=null,od.call(a))}function IA(a,r){if(!(r.state.loading&4)){var o=ld.get(a);if(o)var u=o.get(null);else{o=new Map,ld.set(a,o);for(var p=a.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var S=p[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}p=r.instance,S=p.getAttribute("data-precedence"),g=o.get(S)||u,g===u&&o.set(null,p),o.set(S,p),this.count++,u=od.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(p,a.firstChild)),r.state.loading|=4}}var cc={$$typeof:D,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function UA(a,r,o,u,p,g,S,j,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=In(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=In(0),this.hiddenUpdates=In(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function cx(a,r,o,u,p,g,S,j,$,J,ce,he){return a=new UA(a,r,o,S,$,J,ce,he,j),r=1,g===!0&&(r|=24),g=Na(3,null,null,r),a.current=g,g.stateNode=a,r=fh(),r.refCount++,a.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},gh(g),a}function ux(a){return a?(a=To,a):To}function dx(a,r,o,u,p,g){p=ux(p),u.context===null?u.context=p:u.pendingContext=p,u=Hr(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Fr(a,u,r),o!==null&&(da(o,a,r),ql(o,a,r))}function fx(a,r){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var o=a.retryLane;a.retryLane=o!==0&&o<r?o:r}}function Rm(a,r){fx(a,r),(a=a.alternate)&&fx(a,r)}function hx(a){if(a.tag===13||a.tag===31){var r=Oi(a,67108864);r!==null&&da(r,a,67108864),Rm(a,67108864)}}function mx(a){if(a.tag===13||a.tag===31){var r=ja();r=ns(r);var o=Oi(a,r);o!==null&&da(o,a,r),Rm(a,r)}}var ud=!0;function qA(a,r,o,u){var p=A.T;A.T=null;var g=B.p;try{B.p=2,Lm(a,r,o,u)}finally{B.p=g,A.T=p}}function $A(a,r,o,u){var p=A.T;A.T=null;var g=B.p;try{B.p=8,Lm(a,r,o,u)}finally{B.p=g,A.T=p}}function Lm(a,r,o,u){if(ud){var p=Pm(u);if(p===null)wm(a,r,u,dd,o),gx(a,u);else if(HA(p,a,r,o,u))u.stopPropagation();else if(gx(a,u),r&4&&-1<VA.indexOf(a)){for(;p!==null;){var g=ya(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=xn(g.pendingLanes);if(S!==0){var j=g;for(j.pendingLanes|=2,j.entangledLanes|=2;S;){var $=1<<31-It(S);j.entanglements[1]|=$,S&=~$}zs(g),(ft&6)===0&&(Yu=st()+500,ac(0))}}break;case 31:case 13:j=Oi(g,2),j!==null&&da(j,g,2),Wu(),Rm(g,2)}if(g=Pm(u),g===null&&wm(a,r,u,dd,o),g===p)break;p=g}p!==null&&u.stopPropagation()}else wm(a,r,u,null,o)}}function Pm(a){return a=Lr(a),zm(a)}var dd=null;function zm(a){if(dd=null,a=Lt(a),a!==null){var r=l(a);if(r===null)a=null;else{var o=r.tag;if(o===13){if(a=c(r),a!==null)return a;a=null}else if(o===31){if(a=d(r),a!==null)return a;a=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;a=null}else r!==a&&(a=null)}}return dd=a,null}function px(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Be()){case Ge:return 2;case mt:return 8;case Ie:case Bt:return 32;case St:return 268435456;default:return 32}default:return 32}}var Bm=!1,ni=null,ai=null,si=null,uc=new Map,dc=new Map,ri=[],VA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gx(a,r){switch(a){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":uc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(r.pointerId)}}function fc(a,r,o,u,p,g){return a===null||a.nativeEvent!==g?(a={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},r!==null&&(r=ya(r),r!==null&&hx(r)),a):(a.eventSystemFlags|=u,r=a.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),a)}function HA(a,r,o,u,p){switch(r){case"focusin":return ni=fc(ni,a,r,o,u,p),!0;case"dragenter":return ai=fc(ai,a,r,o,u,p),!0;case"mouseover":return si=fc(si,a,r,o,u,p),!0;case"pointerover":var g=p.pointerId;return uc.set(g,fc(uc.get(g)||null,a,r,o,u,p)),!0;case"gotpointercapture":return g=p.pointerId,dc.set(g,fc(dc.get(g)||null,a,r,o,u,p)),!0}return!1}function yx(a){var r=Lt(a.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){a.blockedOn=r,Ys(a.priority,function(){mx(o)});return}}else if(r===31){if(r=d(o),r!==null){a.blockedOn=r,Ys(a.priority,function(){mx(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){a.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}a.blockedOn=null}function fd(a){if(a.blockedOn!==null)return!1;for(var r=a.targetContainers;0<r.length;){var o=Pm(a.nativeEvent);if(o===null){o=a.nativeEvent;var u=new o.constructor(o.type,o);sn=u,o.target.dispatchEvent(u),sn=null}else return r=ya(o),r!==null&&hx(r),a.blockedOn=o,!1;r.shift()}return!0}function bx(a,r,o){fd(a)&&o.delete(r)}function FA(){Bm=!1,ni!==null&&fd(ni)&&(ni=null),ai!==null&&fd(ai)&&(ai=null),si!==null&&fd(si)&&(si=null),uc.forEach(bx),dc.forEach(bx)}function hd(a,r){a.blockedOn===r&&(a.blockedOn=null,Bm||(Bm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,FA)))}var md=null;function xx(a){md!==a&&(md=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){md===a&&(md=null);for(var r=0;r<a.length;r+=3){var o=a[r],u=a[r+1],p=a[r+2];if(typeof u!="function"){if(zm(u||o)===null)continue;break}var g=ya(o);g!==null&&(a.splice(r,3),r-=3,Ph(g,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function Ko(a){function r($){return hd($,a)}ni!==null&&hd(ni,a),ai!==null&&hd(ai,a),si!==null&&hd(si,a),uc.forEach(r),dc.forEach(r);for(var o=0;o<ri.length;o++){var u=ri[o];u.blockedOn===a&&(u.blockedOn=null)}for(;0<ri.length&&(o=ri[0],o.blockedOn===null);)yx(o),o.blockedOn===null&&ri.shift();if(o=(a.ownerDocument||a).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],g=o[u+1],S=p[Xt]||null;if(typeof g=="function")S||xx(o);else if(S){var j=null;if(g&&g.hasAttribute("formAction")){if(p=g,S=g[Xt]||null)j=S.formAction;else if(zm(p)!==null)continue}else j=S.action;typeof j=="function"?o[u+1]=j:(o.splice(u,3),u-=3),xx(o)}}}function vx(){function a(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(S){return p=S})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function Im(a){this._internalRoot=a}pd.prototype.render=Im.prototype.render=function(a){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=ja();dx(o,u,a,r,null,null)},pd.prototype.unmount=Im.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var r=a.containerInfo;dx(a.current,2,null,a,null,null),Wu(),r[ta]=null}};function pd(a){this._internalRoot=a}pd.prototype.unstable_scheduleHydration=function(a){if(a){var r=Ut();a={blockedOn:null,target:a,priority:r};for(var o=0;o<ri.length&&r!==0&&r<ri[o].priority;o++);ri.splice(o,0,a),o===0&&yx(a)}};var wx=e.version;if(wx!=="19.2.3")throw Error(s(527,wx,"19.2.3"));B.findDOMNode=function(a){var r=a._reactInternals;if(r===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return a=m(r),a=a!==null?y(a):null,a=a===null?null:a.stateNode,a};var GA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gd.isDisabled&&gd.supportsFiber)try{Bn=gd.inject(GA),Rt=gd}catch{}}return mc.createRoot=function(a,r){if(!i(a))throw Error(s(299));var o=!1,u="",p=j1,g=_1,S=k1;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError)),r=cx(a,1,!1,null,null,o,u,null,p,g,S,vx),a[ta]=r.current,vm(a),new Im(r)},mc.hydrateRoot=function(a,r,o){if(!i(a))throw Error(s(299));var u=!1,p="",g=j1,S=_1,j=k1,$=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(j=o.onRecoverableError),o.formState!==void 0&&($=o.formState)),r=cx(a,1,!0,r,o??null,u,p,$,g,S,j,vx),r.context=ux(null),o=r.current,u=ja(),u=ns(u),p=Hr(u),p.callback=null,Fr(o,p,u),o=u,r.current.lanes=o,Qn(r,o),zs(r),a[ta]=r.current,vm(a),new pd(r)},mc.version="19.2.3",mc}var Ox;function nj(){if(Ox)return $m.exports;Ox=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$m.exports=tj(),$m.exports}var aj=nj();const Fe=t=>typeof t=="string",pc=()=>{let t,e;const n=new Promise((s,i)=>{t=s,e=i});return n.resolve=t,n.reject=e,n},Dx=t=>t==null?"":""+t,sj=(t,e,n)=>{t.forEach(s=>{e[s]&&(n[s]=e[s])})},rj=/###/g,Mx=t=>t&&t.indexOf("###")>-1?t.replace(rj,"."):t,Rx=t=>!t||Fe(t),kc=(t,e,n)=>{const s=Fe(e)?e.split("."):e;let i=0;for(;i<s.length-1;){if(Rx(t))return{};const l=Mx(s[i]);!t[l]&&n&&(t[l]=new n),Object.prototype.hasOwnProperty.call(t,l)?t=t[l]:t={},++i}return Rx(t)?{}:{obj:t,k:Mx(s[i])}},Lx=(t,e,n)=>{const{obj:s,k:i}=kc(t,e,Object);if(s!==void 0||e.length===1){s[i]=n;return}let l=e[e.length-1],c=e.slice(0,e.length-1),d=kc(t,c,Object);for(;d.obj===void 0&&c.length;)l=`${c[c.length-1]}.${l}`,c=c.slice(0,c.length-1),d=kc(t,c,Object),d?.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=n},ij=(t,e,n,s)=>{const{obj:i,k:l}=kc(t,e,Object);i[l]=i[l]||[],i[l].push(n)},Zd=(t,e)=>{const{obj:n,k:s}=kc(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},oj=(t,e,n)=>{const s=Zd(t,n);return s!==void 0?s:Zd(e,n)},J2=(t,e,n)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in t?Fe(t[s])||t[s]instanceof String||Fe(e[s])||e[s]instanceof String?n&&(t[s]=e[s]):J2(t[s],e[s],n):t[s]=e[s]);return t},Wo=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var lj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const cj=t=>Fe(t)?t.replace(/[&<>"'\/]/g,e=>lj[e]):t;class uj{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const dj=[" ",",","?","!",";"],fj=new uj(20),hj=(t,e,n)=>{e=e||"",n=n||"";const s=dj.filter(c=>e.indexOf(c)<0&&n.indexOf(c)<0);if(s.length===0)return!0;const i=fj.getRegExp(`(${s.map(c=>c==="?"?"\\?":c).join("|")})`);let l=!i.test(t);if(!l){const c=t.indexOf(n);c>0&&!i.test(t.substring(0,c))&&(l=!0)}return l},Ip=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const s=e.split(n);let i=t;for(let l=0;l<s.length;){if(!i||typeof i!="object")return;let c,d="";for(let h=l;h<s.length;++h)if(h!==l&&(d+=n),d+=s[h],c=i[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&h<s.length-1)continue;l+=h-l+1;break}i=c}return i},Ic=t=>t?.replace("_","-"),mj={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class Qd{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||mj,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,s,i){return i&&!this.debug?null:(Fe(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Qd(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Qd(this.logger,e)}}var Is=new Qd;let Tf=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const i=this.observers[s].get(n)||0;this.observers[s].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,l])=>{for(let c=0;c<l;c++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,l])=>{for(let c=0;c<l;c++)i.apply(i,[e,...n])})}};class Px extends Tf{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,s,i={}){const l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,c=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,n],s&&(Array.isArray(s)?d.push(...s):Fe(s)&&l?d.push(...s.split(l)):d.push(s)));const h=Zd(this.data,d);return!h&&!n&&!s&&e.indexOf(".")>-1&&(e=d[0],n=d[1],s=d.slice(2).join(".")),h||!c||!Fe(s)?h:Ip(this.data?.[e]?.[n],s,l)}addResource(e,n,s,i,l={silent:!1}){const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[e,n];s&&(d=d.concat(c?s.split(c):s)),e.indexOf(".")>-1&&(d=e.split("."),i=n,n=d[1]),this.addNamespaces(n),Lx(this.data,d,i),l.silent||this.emit("added",e,n,s,i)}addResources(e,n,s,i={silent:!1}){for(const l in s)(Fe(s[l])||Array.isArray(s[l]))&&this.addResource(e,n,l,s[l],{silent:!0});i.silent||this.emit("added",e,n,s)}addResourceBundle(e,n,s,i,l,c={silent:!1,skipCopy:!1}){let d=[e,n];e.indexOf(".")>-1&&(d=e.split("."),i=s,s=n,n=d[1]),this.addNamespaces(n);let h=Zd(this.data,d)||{};c.skipCopy||(s=JSON.parse(JSON.stringify(s))),i?J2(h,s,l):h={...h,...s},Lx(this.data,d,h),c.silent||this.emit("added",e,n,s)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var eS={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,s,i){return t.forEach(l=>{e=this.processors[l]?.process(e,n,s,i)??e}),e}};const tS=Symbol("i18next/PATH_KEY");function pj(){const t=[],e=Object.create(null);let n;return e.get=(s,i)=>(n?.revoke?.(),i===tS?t:(t.push(i),n=Proxy.revocable(s,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Jd(t,e){const{[tS]:n}=t(pj());return n.join(e?.keySeparator??".")}const zx={},Gm=t=>!Fe(t)&&typeof t!="boolean"&&typeof t!="number";class ef extends Tf{constructor(e,n={}){super(),sj(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Is.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const s={...n};if(e==null)return!1;const i=this.resolve(e,s);if(i?.res===void 0)return!1;const l=Gm(i.res);return!(s.returnObjects===!1&&l)}extractFromKey(e,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let l=n.ns||this.options.defaultNS||[];const c=s&&e.indexOf(s)>-1,d=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!hj(e,s,i);if(c&&!d){const h=e.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:e,namespaces:Fe(l)?[l]:l};const m=e.split(s);(s!==i||s===i&&this.options.ns.indexOf(m[0])>-1)&&(l=m.shift()),e=m.join(i)}return{key:e,namespaces:Fe(l)?[l]:l}}translate(e,n,s){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=Jd(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const l=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,c=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:d,namespaces:h}=this.extractFromKey(e[e.length-1],i),m=h[h.length-1];let y=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const b=i.lng||this.language,x=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(b?.toLowerCase()==="cimode")return x?l?{res:`${m}${y}${d}`,usedKey:d,exactUsedKey:d,usedLng:b,usedNS:m,usedParams:this.getUsedParamsDetails(i)}:`${m}${y}${d}`:l?{res:d,usedKey:d,exactUsedKey:d,usedLng:b,usedNS:m,usedParams:this.getUsedParamsDetails(i)}:d;const w=this.resolve(e,i);let N=w?.res;const _=w?.usedKey||d,C=w?.exactUsedKey||d,R=["[object Number]","[object Function]","[object RegExp]"],E=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,D=!this.i18nFormat||this.i18nFormat.handleAsObject,I=i.count!==void 0&&!Fe(i.count),P=ef.hasDefaultValue(i),U=I?this.pluralResolver.getSuffix(b,i.count,i):"",z=i.ordinal&&I?this.pluralResolver.getSuffix(b,i.count,{ordinal:!1}):"",L=I&&!i.ordinal&&i.count===0,W=L&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${U}`]||i[`defaultValue${z}`]||i.defaultValue;let se=N;D&&!N&&P&&(se=W);const k=Gm(se),F=Object.prototype.toString.apply(se);if(D&&se&&k&&R.indexOf(F)<0&&!(Fe(E)&&Array.isArray(se))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const q=this.options.returnedObjectHandler?this.options.returnedObjectHandler(_,se,{...i,ns:h}):`key '${d} (${this.language})' returned an object instead of string.`;return l?(w.res=q,w.usedParams=this.getUsedParamsDetails(i),w):q}if(c){const q=Array.isArray(se),Z=q?[]:{},re=q?C:_;for(const A in se)if(Object.prototype.hasOwnProperty.call(se,A)){const B=`${re}${c}${A}`;P&&!N?Z[A]=this.translate(B,{...i,defaultValue:Gm(W)?W[A]:void 0,joinArrays:!1,ns:h}):Z[A]=this.translate(B,{...i,joinArrays:!1,ns:h}),Z[A]===B&&(Z[A]=se[A])}N=Z}}else if(D&&Fe(E)&&Array.isArray(N))N=N.join(E),N&&(N=this.extendTranslation(N,e,i,s));else{let q=!1,Z=!1;!this.isValidLookup(N)&&P&&(q=!0,N=W),this.isValidLookup(N)||(Z=!0,N=d);const A=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Z?void 0:N,B=P&&W!==N&&this.options.updateMissing;if(Z||q||B){if(this.logger.log(B?"updateKey":"missingKey",b,m,d,B?W:N),c){const M=this.resolve(d,{...i,keySeparator:!1});M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let V=[];const le=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&le&&le[0])for(let M=0;M<le.length;M++)V.push(le[M]);else this.options.saveMissingTo==="all"?V=this.languageUtils.toResolveHierarchy(i.lng||this.language):V.push(i.lng||this.language);const ue=(M,Y,X)=>{const ie=P&&X!==N?X:A;this.options.missingKeyHandler?this.options.missingKeyHandler(M,m,Y,ie,B,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(M,m,Y,ie,B,i),this.emit("missingKey",M,m,Y,N)};this.options.saveMissing&&(this.options.saveMissingPlurals&&I?V.forEach(M=>{const Y=this.pluralResolver.getSuffixes(M,i);L&&i[`defaultValue${this.options.pluralSeparator}zero`]&&Y.indexOf(`${this.options.pluralSeparator}zero`)<0&&Y.push(`${this.options.pluralSeparator}zero`),Y.forEach(X=>{ue([M],d+X,i[`defaultValue${X}`]||W)})}):ue(V,d,W))}N=this.extendTranslation(N,e,i,w,s),Z&&N===d&&this.options.appendNamespaceToMissingKey&&(N=`${m}${y}${d}`),(Z||q)&&this.options.parseMissingKeyHandler&&(N=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}${y}${d}`:d,q?N:void 0,i))}return l?(w.res=N,w.usedParams=this.getUsedParamsDetails(i),w):N}extendTranslation(e,n,s,i,l){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const h=Fe(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(h){const b=e.match(this.interpolator.nestingRegexp);m=b&&b.length}let y=s.replace&&!Fe(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),e=this.interpolator.interpolate(e,y,s.lng||this.language||i.usedLng,s),h){const b=e.match(this.interpolator.nestingRegexp),x=b&&b.length;m<x&&(s.nest=!1)}!s.lng&&i&&i.res&&(s.lng=this.language||i.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...b)=>l?.[0]===b[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${n[0]}`),null):this.translate(...b,n),s)),s.interpolation&&this.interpolator.reset()}const c=s.postProcess||this.options.postProcess,d=Fe(c)?[c]:c;return e!=null&&d?.length&&s.applyPostProcessor!==!1&&(e=eS.handle(d,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,n={}){let s,i,l,c,d;return Fe(e)&&(e=[e]),e.forEach(h=>{if(this.isValidLookup(s))return;const m=this.extractFromKey(h,n),y=m.key;i=y;let b=m.namespaces;this.options.fallbackNS&&(b=b.concat(this.options.fallbackNS));const x=n.count!==void 0&&!Fe(n.count),w=x&&!n.ordinal&&n.count===0,N=n.context!==void 0&&(Fe(n.context)||typeof n.context=="number")&&n.context!=="",_=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);b.forEach(C=>{this.isValidLookup(s)||(d=C,!zx[`${_[0]}-${C}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(zx[`${_[0]}-${C}`]=!0,this.logger.warn(`key "${i}" for languages "${_.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),_.forEach(R=>{if(this.isValidLookup(s))return;c=R;const E=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(E,y,R,C,n);else{let I;x&&(I=this.pluralResolver.getSuffix(R,n.count,n));const P=`${this.options.pluralSeparator}zero`,U=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(n.ordinal&&I.indexOf(U)===0&&E.push(y+I.replace(U,this.options.pluralSeparator)),E.push(y+I),w&&E.push(y+P)),N){const z=`${y}${this.options.contextSeparator||"_"}${n.context}`;E.push(z),x&&(n.ordinal&&I.indexOf(U)===0&&E.push(z+I.replace(U,this.options.pluralSeparator)),E.push(z+I),w&&E.push(z+P))}}let D;for(;D=E.pop();)this.isValidLookup(s)||(l=D,s=this.getResource(R,C,D,n))}))})}),{res:s,usedKey:i,exactUsedKey:l,usedLng:c,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,s,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,s,i):this.resourceStore.getResource(e,n,s,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!Fe(e.replace);let i=s?e.replace:e;if(s&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!s){i={...i};for(const l of n)delete i[l]}return i}static hasDefaultValue(e){const n="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&n===s.substring(0,n.length)&&e[s]!==void 0)return!0;return!1}}class Bx{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Is.create("languageUtils")}getScriptPartFromCode(e){if(e=Ic(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Ic(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Fe(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(s=>{if(n)return;const i=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(s=>{if(n)return;const i=this.getScriptPartFromCode(s);if(this.isSupportedCode(i))return n=i;const l=this.getLanguagePartFromCode(s);if(this.isSupportedCode(l))return n=l;n=this.options.supportedLngs.find(c=>{if(c===l)return c;if(!(c.indexOf("-")<0&&l.indexOf("-")<0)&&(c.indexOf("-")>0&&l.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===l||c.indexOf(l)===0&&l.length>1))return c})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Fe(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let s=e[n];return s||(s=e[this.getScriptPartFromCode(n)]),s||(s=e[this.formatLanguageCode(n)]),s||(s=e[this.getLanguagePartFromCode(n)]),s||(s=e.default),s||[]}toResolveHierarchy(e,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],l=c=>{c&&(this.isSupportedCode(c)?i.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return Fe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):Fe(e)&&l(this.formatLanguageCode(e)),s.forEach(c=>{i.indexOf(c)<0&&l(this.formatLanguageCode(c))}),i}}const Ix={zero:0,one:1,two:2,few:3,many:4,other:5},Ux={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class gj{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Is.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const s=Ic(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:s,type:i});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let c;try{c=new Intl.PluralRules(s,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ux;if(!e.match(/-|_/))return Ux;const h=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(h,n)}return this.pluralRulesCache[l]=c,c}needsPlural(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,s={}){return this.getSuffixes(e,s).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((i,l)=>Ix[i]-Ix[l]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,s={}){const i=this.getRule(e,s);return i?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,s))}}const qx=(t,e,n,s=".",i=!0)=>{let l=oj(t,e,n);return!l&&i&&Fe(n)&&(l=Ip(t,n,s),l===void 0&&(l=Ip(e,n,s))),l},Ym=t=>t.replace(/\$/g,"$$$$");class $x{constructor(e={}){this.logger=Is.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:i,prefix:l,prefixEscaped:c,suffix:d,suffixEscaped:h,formatSeparator:m,unescapeSuffix:y,unescapePrefix:b,nestingPrefix:x,nestingPrefixEscaped:w,nestingSuffix:N,nestingSuffixEscaped:_,nestingOptionsSeparator:C,maxReplaces:R,alwaysFormat:E}=e.interpolation;this.escape=n!==void 0?n:cj,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=l?Wo(l):c||"{{",this.suffix=d?Wo(d):h||"}}",this.formatSeparator=m||",",this.unescapePrefix=y?"":b||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=x?Wo(x):w||Wo("$t("),this.nestingSuffix=N?Wo(N):_||Wo(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=R||1e3,this.alwaysFormat=E!==void 0?E:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,s)=>n?.source===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,s,i){let l,c,d;const h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=w=>{if(w.indexOf(this.formatSeparator)<0){const R=qx(n,h,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(R,void 0,s,{...i,...n,interpolationkey:w}):R}const N=w.split(this.formatSeparator),_=N.shift().trim(),C=N.join(this.formatSeparator).trim();return this.format(qx(n,h,_,this.options.keySeparator,this.options.ignoreJSONStructure),C,s,{...i,...n,interpolationkey:_})};this.resetRegExp();const y=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,b=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>Ym(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?Ym(this.escape(w)):Ym(w)}].forEach(w=>{for(d=0;l=w.regex.exec(e);){const N=l[1].trim();if(c=m(N),c===void 0)if(typeof y=="function"){const C=y(e,l,i);c=Fe(C)?C:""}else if(i&&Object.prototype.hasOwnProperty.call(i,N))c="";else if(b){c=l[0];continue}else this.logger.warn(`missed to pass in variable ${N} for interpolating ${e}`),c="";else!Fe(c)&&!this.useRawValueToEscape&&(c=Dx(c));const _=w.safeValue(c);if(e=e.replace(l[0],_),b?(w.regex.lastIndex+=c.length,w.regex.lastIndex-=l[0].length):w.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,n,s={}){let i,l,c;const d=(h,m)=>{const y=this.nestingOptionsSeparator;if(h.indexOf(y)<0)return h;const b=h.split(new RegExp(`${y}[ ]*{`));let x=`{${b[1]}`;h=b[0],x=this.interpolate(x,c);const w=x.match(/'/g),N=x.match(/"/g);((w?.length??0)%2===0&&!N||N.length%2!==0)&&(x=x.replace(/'/g,'"'));try{c=JSON.parse(x),m&&(c={...m,...c})}catch(_){return this.logger.warn(`failed parsing options string in nesting for key ${h}`,_),`${h}${y}${x}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,h};for(;i=this.nestingRegexp.exec(e);){let h=[];c={...s},c=c.replace&&!Fe(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const m=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(m!==-1&&(h=i[1].slice(m).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),i[1]=i[1].slice(0,m)),l=n(d.call(this,i[1].trim(),c),c),l&&i[0]===e&&!Fe(l))return l;Fe(l)||(l=Dx(l)),l||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),l=""),h.length&&(l=h.reduce((y,b)=>this.format(y,b,s.lng,{...s,interpolationkey:i[1].trim()}),l.trim())),e=e.replace(i[0],l),this.regexp.lastIndex=0}return e}}const yj=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const s=t.split("(");e=s[0].toLowerCase().trim();const i=s[1].substring(0,s[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(c=>{if(c){const[d,...h]=c.split(":"),m=h.join(":").trim().replace(/^'+|'+$/g,""),y=d.trim();n[y]||(n[y]=m),m==="false"&&(n[y]=!1),m==="true"&&(n[y]=!0),isNaN(m)||(n[y]=parseInt(m,10))}})}return{formatName:e,formatOptions:n}},Vx=t=>{const e={};return(n,s,i)=>{let l=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(l={...l,[i.interpolationkey]:void 0});const c=s+JSON.stringify(l);let d=e[c];return d||(d=t(Ic(s),i),e[c]=d),d(n)}},bj=t=>(e,n,s)=>t(Ic(n),s)(e);class xj{constructor(e={}){this.logger=Is.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?Vx:bj;this.formats={number:s((i,l)=>{const c=new Intl.NumberFormat(i,{...l});return d=>c.format(d)}),currency:s((i,l)=>{const c=new Intl.NumberFormat(i,{...l,style:"currency"});return d=>c.format(d)}),datetime:s((i,l)=>{const c=new Intl.DateTimeFormat(i,{...l});return d=>c.format(d)}),relativetime:s((i,l)=>{const c=new Intl.RelativeTimeFormat(i,{...l});return d=>c.format(d,l.range||"day")}),list:s((i,l)=>{const c=new Intl.ListFormat(i,{...l});return d=>c.format(d)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Vx(n)}format(e,n,s,i={}){const l=n.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(h=>h.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,h)=>{const{formatName:m,formatOptions:y}=yj(h);if(this.formats[m]){let b=d;try{const x=i?.formatParams?.[i.interpolationkey]||{},w=x.locale||x.lng||i.locale||i.lng||s;b=this.formats[m](d,w,{...y,...i,...x})}catch(x){this.logger.warn(x)}return b}else this.logger.warn(`there was no format function for ${m}`);return d},e)}}const vj=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class wj extends Tf{constructor(e,n,s,i={}){super(),this.backend=e,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=i,this.logger=Is.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,i.backend,i)}queueLoad(e,n,s,i){const l={},c={},d={},h={};return e.forEach(m=>{let y=!0;n.forEach(b=>{const x=`${m}|${b}`;!s.reload&&this.store.hasResourceBundle(m,b)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?c[x]===void 0&&(c[x]=!0):(this.state[x]=1,y=!1,c[x]===void 0&&(c[x]=!0),l[x]===void 0&&(l[x]=!0),h[b]===void 0&&(h[b]=!0)))}),y||(d[m]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(h)}}loaded(e,n,s){const i=e.split("|"),l=i[0],c=i[1];n&&this.emit("failedLoading",l,c,n),!n&&s&&this.store.addResourceBundle(l,c,s,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&s&&(this.state[e]=0);const d={};this.queue.forEach(h=>{ij(h.loaded,[l],c),vj(h,e),n&&h.errors.push(n),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(m=>{d[m]||(d[m]={});const y=h.loaded[m];y.length&&y.forEach(b=>{d[m][b]===void 0&&(d[m][b]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(h=>!h.done)}read(e,n,s,i=0,l=this.retryTimeout,c){if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:s,tried:i,wait:l,callback:c});return}this.readingCalls++;const d=(m,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const b=this.waitingReads.shift();this.read(b.lng,b.ns,b.fcName,b.tried,b.wait,b.callback)}if(m&&y&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,s,i+1,l*2,c)},l);return}c(m,y)},h=this.backend[s].bind(this.backend);if(h.length===2){try{const m=h(e,n);m&&typeof m.then=="function"?m.then(y=>d(null,y)).catch(d):d(null,m)}catch(m){d(m)}return}return h(e,n,d)}prepareLoading(e,n,s={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Fe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Fe(n)&&(n=[n]);const l=this.queueLoad(e,n,s,i);if(!l.toLoad.length)return l.pending.length||i(),null;l.toLoad.forEach(c=>{this.loadOne(c)})}load(e,n,s){this.prepareLoading(e,n,{},s)}reload(e,n,s){this.prepareLoading(e,n,{reload:!0},s)}loadOne(e,n=""){const s=e.split("|"),i=s[0],l=s[1];this.read(i,l,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${n}loading namespace ${l} for language ${i} failed`,c),!c&&d&&this.logger.log(`${n}loaded namespace ${l} for language ${i}`,d),this.loaded(e,c,d)})}saveMissing(e,n,s,i,l,c={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const h={...c,isUpdate:l},m=this.backend.create.bind(this.backend);if(m.length<6)try{let y;m.length===5?y=m(e,n,s,i,h):y=m(e,n,s,i),y&&typeof y.then=="function"?y.then(b=>d(null,b)).catch(d):d(null,y)}catch(y){d(y)}else m(e,n,s,i,d,h)}!e||!e[0]||this.store.addResource(e[0],n,s,i)}}}const Km=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Fe(t[1])&&(e.defaultValue=t[1]),Fe(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(s=>{e[s]=n[s]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Hx=t=>(Fe(t.ns)&&(t.ns=[t.ns]),Fe(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Fe(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),yd=()=>{},Sj=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Oc extends Tf{constructor(e={},n){if(super(),this.options=Hx(e),this.services={},this.logger=Is,this.modules={external:[]},Sj(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Fe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=Km();this.options={...s,...this.options,...Hx(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=s.overloadTranslationOptionHandler),this.options.debug===!0&&typeof console<"u"&&console.warn("i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com");const i=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?Is.init(i(this.modules.logger),this.options):Is.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:m=xj;const y=new Bx(this.options);this.store=new Px(this.options.resources,this.options);const b=this.services;b.logger=Is,b.resourceStore=this.store,b.languageUtils=y,b.pluralResolver=new gj(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),m&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(b.formatter=i(m),b.formatter.init&&b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new $x(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new wj(i(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",(w,...N)=>{this.emit(w,...N)}),this.modules.languageDetector&&(b.languageDetector=i(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=i(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new ef(this.services,this.options),this.translator.on("*",(w,...N)=>{this.emit(w,...N)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,n||(n=yd),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=(...y)=>this.store[m](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=(...y)=>(this.store[m](...y),this)});const d=pc(),h=()=>{const m=(y,b)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(b),n(y,b)};if(this.languages&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initAsync?h():setTimeout(h,0),d}loadResources(e,n=yd){let s=n;const i=Fe(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const l=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(m=>{m!=="cimode"&&l.indexOf(m)<0&&l.push(m)})};i?c(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>c(h)),this.options.preload?.forEach?.(d=>c(d)),this.services.backendConnector.load(l,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(d)})}else s(null)}reloadResources(e,n,s){const i=pc();return typeof e=="function"&&(s=e,e=void 0),typeof n=="function"&&(s=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),s||(s=yd),this.services.backendConnector.reload(e,n,l=>{i.resolve(),s(l)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&eS.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const s=pc();this.emit("languageChanging",e);const i=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,h)=>{h?this.isLanguageChangingTo===e&&(i(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,s.resolve((...m)=>this.t(...m)),n&&n(d,(...m)=>this.t(...m))},c=d=>{!e&&!d&&this.services.languageDetector&&(d=[]);const h=Fe(d)?d:d&&d[0],m=this.store.hasLanguageSomeTranslations(h)?h:this.services.languageUtils.getBestMatchFromCodes(Fe(d)?[d]:d);m&&(this.language||i(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector?.cacheUserLanguage?.(m)),this.loadResources(m,y=>{l(y,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),s}getFixedT(e,n,s){const i=(l,c,...d)=>{let h;typeof c!="object"?h=this.options.overloadTranslationOptionHandler([l,c].concat(d)):h={...c},h.lng=h.lng||i.lng,h.lngs=h.lngs||i.lngs,h.ns=h.ns||i.ns,h.keyPrefix!==""&&(h.keyPrefix=h.keyPrefix||s||i.keyPrefix);const m=this.options.keySeparator||".";let y;return h.keyPrefix&&Array.isArray(l)?y=l.map(b=>(typeof b=="function"&&(b=Jd(b,{...this.options,...c})),`${h.keyPrefix}${m}${b}`)):(typeof l=="function"&&(l=Jd(l,{...this.options,...c})),y=h.keyPrefix?`${h.keyPrefix}${m}${l}`:l),this.t(y,h)};return Fe(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=s,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const c=(d,h)=>{const m=this.services.backendConnector.state[`${d}|${h}`];return m===-1||m===0||m===2};if(n.precheck){const d=n.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,e)&&(!i||c(l,e)))}loadNamespaces(e,n){const s=pc();return this.options.ns?(Fe(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{s.resolve(),n&&n(i)}),s):(n&&n(),Promise.resolve())}loadLanguages(e,n){const s=pc();Fe(e)&&(e=[e]);const i=this.options.preload||[],l=e.filter(c=>i.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return l.length?(this.options.preload=i.concat(l),this.loadResources(c=>{s.resolve(),n&&n(c)}),s):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const l=i.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new Bx(Km());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const s=new Oc(e,n);return s.createInstance=Oc.createInstance,s}cloneInstance(e={},n=yd){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},l=new Oc(i);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},s){const d=Object.keys(this.store.data).reduce((h,m)=>(h[m]={...this.store.data[m]},h[m]=Object.keys(h[m]).reduce((y,b)=>(y[b]={...h[m][b]},y),h[m]),h),{});l.store=new Px(d,i),l.services.resourceStore=l.store}if(e.interpolation){const h={...Km().interpolation,...this.options.interpolation,...e.interpolation},m={...i,interpolation:h};l.services.interpolator=new $x(m)}return l.translator=new ef(l.services,i),l.translator.on("*",(d,...h)=>{l.emit(d,...h)}),l.init(i,n),l.translator.options=i,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Xn=Oc.createInstance();Xn.createInstance;Xn.dir;Xn.init;Xn.loadResources;Xn.reloadResources;Xn.use;Xn.changeLanguage;Xn.getFixedT;Xn.t;Xn.exists;Xn.setDefaultNamespace;Xn.hasLoadedNamespace;Xn.loadNamespaces;Xn.loadLanguages;var Wm,Fx;function Nj(){return Fx||(Fx=1,Wm={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Wm}var Tj=Nj();const Ej=Sf(Tj);var Cj=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Gx(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=t.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(e.name=n[1],(Ej[n[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var s=t.indexOf("-->");return{type:"comment",comment:s!==-1?t.slice(4,s):""}}for(var i=new RegExp(Cj),l=null;(l=i.exec(t))!==null;)if(l[0].trim())if(l[1]){var c=l[1].trim(),d=[c,""];c.indexOf("=")>-1&&(d=c.split("=")),e.attrs[d[0]]=d[1],i.lastIndex--}else l[2]&&(e.attrs[l[2]]=l[3].trim().substring(1,l[3].length-1));return e}var Aj=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,jj=/^\s*$/,_j=Object.create(null);function nS(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?(function(n){var s=[];for(var i in n)s.push(i+'="'+n[i]+'"');return s.length?" "+s.join(" "):""})(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(nS,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var kj={parse:function(t,e){e||(e={}),e.components||(e.components=_j);var n,s=[],i=[],l=-1,c=!1;if(t.indexOf("<")!==0){var d=t.indexOf("<");s.push({type:"text",content:d===-1?t:t.substring(0,d)})}return t.replace(Aj,function(h,m){if(c){if(h!=="</"+n.name+">")return;c=!1}var y,b=h.charAt(1)!=="/",x=h.startsWith("<!--"),w=m+h.length,N=t.charAt(w);if(x){var _=Gx(h);return l<0?(s.push(_),s):((y=i[l]).children.push(_),s)}if(b&&(l++,(n=Gx(h)).type==="tag"&&e.components[n.name]&&(n.type="component",c=!0),n.voidElement||c||!N||N==="<"||n.children.push({type:"text",content:t.slice(w,t.indexOf("<",w))}),l===0&&s.push(n),(y=i[l-1])&&y.children.push(n),i[l]=n),(!b||n.voidElement)&&(l>-1&&(n.voidElement||n.name===h.slice(2,-1))&&(l--,n=l===-1?s:i[l]),!c&&N!=="<"&&N)){y=l===-1?s:i[l].children;var C=t.indexOf("<",w),R=t.slice(w,C===-1?void 0:C);jj.test(R)&&(R=" "),(C>-1&&l+y.length>=0||R!==" ")&&y.push({type:"text",content:R})}}),s},stringify:function(t){return t.reduce(function(e,n){return e+nS("",n)},"")}};const Id=(t,e,n,s)=>{const i=[n,{code:e,...s||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);ha(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...i):console?.warn&&console.warn(...i)},Yx={},Ef=(t,e,n,s)=>{ha(n)&&Yx[n]||(ha(n)&&(Yx[n]=new Date),Id(t,e,n,s))},aS=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Up=(t,e,n)=>{t.loadNamespaces(e,aS(t,n))},Kx=(t,e,n,s)=>{if(ha(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Up(t,n,s);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,aS(t,s))},Oj=(t,e,n={})=>!e.languages||!e.languages.length?(Ef(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(s,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,t))return!1}}),ha=t=>typeof t=="string",yr=t=>typeof t=="object"&&t!==null,Dj=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Mj={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Rj=t=>Mj[t],sS=t=>t.replace(Dj,Rj);let qp={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:sS,transDefaultProps:void 0};const Lj=(t={})=>{qp={...qp,...t}},Lg=()=>qp;let rS;const Pj=t=>{rS=t},Pg=()=>rS,Ud=(t,e)=>{if(!t)return!1;const n=t.props?.children??t.children;return e?n.length>0:!!n},qd=t=>{if(!t)return[];const e=t.props?.children??t.children;return t.props?.i18nIsDynamicList?Ki(e):e},zj=t=>Array.isArray(t)&&t.every(T.isValidElement),Ki=t=>Array.isArray(t)?t:[t],Bj=(t,e)=>{const n={...e};return n.props=Object.assign(t.props,e.props),n},Ij=t=>{const e={};if(!t)return e;const n=s=>{Ki(s).forEach(l=>{ha(l)||(Ud(l)?n(qd(l)):yr(l)&&!T.isValidElement(l)&&Object.assign(e,l))})};return n(t),e},iS=(t,e,n,s)=>{if(!t)return"";let i="";const l=Ki(t),c=e?.transSupportBasicHtmlNodes?e.transKeepBasicHtmlNodesFor??[]:[];return l.forEach((d,h)=>{if(ha(d)){i+=`${d}`;return}if(T.isValidElement(d)){const{props:m,type:y}=d,b=Object.keys(m).length,x=c.indexOf(y)>-1,w=m.children;if(!w&&x&&!b){i+=`<${y}/>`;return}if(!w&&(!x||b)||m.i18nIsDynamicList){i+=`<${h}></${h}>`;return}if(x&&b===1&&ha(w)){i+=`<${y}>${w}</${y}>`;return}const N=iS(w,e,n,s);i+=`<${h}>${N}</${h}>`;return}if(d===null){Id(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:s});return}if(yr(d)){const{format:m,...y}=d,b=Object.keys(y);if(b.length===1){const x=m?`${b[0]}, ${m}`:b[0];i+=`{{${x}}}`;return}Id(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:s,child:d});return}Id(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:s,child:d})}),i},Uj=(t,e=[],n={})=>{if(!t)return t;const s=Object.keys(n),i=[...e,...s];let l="",c=0;for(;c<t.length;)if(t[c]==="<"){let d=!1;const h=t.slice(c).match(/^<\/(\d+|[a-zA-Z][a-zA-Z0-9_-]*)>/);if(h){const m=h[1];(/^\d+$/.test(m)||i.includes(m))&&(d=!0,l+=h[0],c+=h[0].length)}if(!d){const m=t.slice(c).match(/^<(\d+|[a-zA-Z][a-zA-Z0-9_-]*)(\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s*(\/)?>/);if(m){const y=m[1];(/^\d+$/.test(y)||i.includes(y))&&(d=!0,l+=m[0],c+=m[0].length)}}d||(l+="&lt;",c+=1)}else l+=t[c],c+=1;return l},qj=(t,e,n,s,i,l,c)=>{if(n==="")return[];const d=i.transKeepBasicHtmlNodesFor||[],h=n&&new RegExp(d.map(E=>`<${E}`).join("|")).test(n);if(!t&&!e&&!h&&!c)return[n];const m=e??{},y=E=>{Ki(E).forEach(I=>{ha(I)||(Ud(I)?y(qd(I)):yr(I)&&!T.isValidElement(I)&&Object.assign(m,I))})};y(t);const b=Uj(n,d,m),x=kj.parse(`<0>${b}</0>`),w={...m,...l},N=(E,D,I)=>{const P=qd(E),U=C(P,D.children,I);return zj(P)&&U.length===0||E.props?.i18nIsDynamicList?P:U},_=(E,D,I,P,U)=>{E.dummy?(E.children=D,I.push(T.cloneElement(E,{key:P},U?void 0:D))):I.push(...T.Children.map([E],z=>{const L="data-i18n-is-dynamic-list",W={key:P,[L]:void 0};return z&&z.props&&Object.keys(z.props).forEach(se=>{se==="ref"||se==="children"||se==="i18nIsDynamicList"||se===L||(W[se]=z.props[se])}),T.cloneElement(z,W,U?null:D)}))},C=(E,D,I)=>{const P=Ki(E);return Ki(D).reduce((z,L,W)=>{const se=L.children?.[0]?.content&&s.services.interpolator.interpolate(L.children[0].content,w,s.language);if(L.type==="tag"){let k=P[parseInt(L.name,10)];!k&&e&&(k=e[L.name]),I.length===1&&!k&&(k=I[0][L.name]),k||(k={});const F={...L.attrs};c&&Object.keys(F).forEach(V=>{const le=F[V];ha(le)&&(F[V]=sS(le))});const q=Object.keys(F).length!==0?Bj({props:F},k):k,Z=T.isValidElement(q),re=Z&&Ud(L,!0)&&!L.voidElement,A=h&&yr(q)&&q.dummy&&!Z,B=yr(e)&&Object.hasOwnProperty.call(e,L.name);if(ha(q)){const V=s.services.interpolator.interpolate(q,w,s.language);z.push(V)}else if(Ud(q)||re){const V=N(q,L,I);_(q,V,z,W)}else if(A){const V=C(P,L.children,I);_(q,V,z,W)}else if(Number.isNaN(parseFloat(L.name)))if(B){const V=N(q,L,I);_(q,V,z,W,L.voidElement)}else if(i.transSupportBasicHtmlNodes&&d.indexOf(L.name)>-1)if(L.voidElement)z.push(T.createElement(L.name,{key:`${L.name}-${W}`}));else{const V=C(P,L.children,I);z.push(T.createElement(L.name,{key:`${L.name}-${W}`},V))}else if(L.voidElement)z.push(`<${L.name} />`);else{const V=C(P,L.children,I);z.push(`<${L.name}>${V}</${L.name}>`)}else if(yr(q)&&!Z){const V=L.children[0]?se:null;V&&z.push(V)}else _(q,se,z,W,L.children.length!==1||!se)}else if(L.type==="text"){const k=i.transWrapTextNodes,F=typeof i.unescape=="function"?i.unescape:Lg().unescape,q=c?F(s.services.interpolator.interpolate(L.content,w,s.language)):s.services.interpolator.interpolate(L.content,w,s.language);k?z.push(T.createElement(k,{key:`${L.name}-${W}`},q)):z.push(q)}return z},[])},R=C([{dummy:!0,children:t||[]}],x,Ki(t||[]));return qd(R[0])},oS=(t,e,n)=>{const s=t.key||e,i=T.cloneElement(t,{key:s});if(!i.props||!i.props.children||n.indexOf(`${e}/>`)<0&&n.indexOf(`${e} />`)<0)return i;function l(){return T.createElement(T.Fragment,null,i)}return T.createElement(l,{key:s})},$j=(t,e)=>t.map((n,s)=>oS(n,s,e)),Vj=(t,e)=>{const n={};return Object.keys(t).forEach(s=>{Object.assign(n,{[s]:oS(t[s],s,e)})}),n},Hj=(t,e,n,s)=>t?Array.isArray(t)?$j(t,e):yr(t)?Vj(t,e):(Ef(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:s}),null):null,Fj=t=>!yr(t)||Array.isArray(t)?!1:Object.keys(t).reduce((e,n)=>e&&Number.isNaN(Number.parseFloat(n)),!0);function Gj({children:t,count:e,parent:n,i18nKey:s,context:i,tOptions:l={},values:c,defaults:d,components:h,ns:m,i18n:y,t:b,shouldUnescape:x,...w}){const N=y||Pg();if(!N)return Ef(N,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:s}),t;const _=b||N.t.bind(N)||(ue=>ue),C={...Lg(),...N.options?.react};let R=m||_.ns||N.options?.defaultNS;R=ha(R)?[R]:R||["translation"];const{transDefaultProps:E}=C,D=E?.tOptions?{...E.tOptions,...l}:l,I=x??E?.shouldUnescape,P=E?.values?{...E.values,...c}:c,U=E?.components?{...E.components,...h}:h,z=iS(t,C,N,s),L=d||D?.defaultValue||z||C.transEmptyNodeValue||(typeof s=="function"?Jd(s):s),{hashTransKey:W}=C,se=s||(W?W(z||L):z||L);N.options?.interpolation?.defaultVariables?c=P&&Object.keys(P).length>0?{...P,...N.options.interpolation.defaultVariables}:{...N.options.interpolation.defaultVariables}:c=P;const k=Ij(t);k&&typeof k.count=="number"&&e===void 0&&(e=k.count);const F=c||e!==void 0&&!N.options?.interpolation?.alwaysFormat||!t?D.interpolation:{interpolation:{...D.interpolation,prefix:"#$?",suffix:"?$#"}},q={...D,context:i||D.context,count:e,...c,...F,defaultValue:L,ns:R};let Z=se?_(se,q):L;Z===se&&L&&(Z=L);const re=Hj(U,Z,N,s);let A=re||t,B=null;Fj(re)&&(B=re,A=t);const V=qj(A,B,Z,N,C,q,I),le=n??C.defaultTransParent;return le?T.createElement(le,w,V):V}const Yj={type:"3rdParty",init(t){Lj(t.options.react),Pj(t)}},lS=T.createContext();class Kj{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function bd({children:t,count:e,parent:n,i18nKey:s,context:i,tOptions:l={},values:c,defaults:d,components:h,ns:m,i18n:y,t:b,shouldUnescape:x,...w}){const{i18n:N,defaultNS:_}=T.useContext(lS)||{},C=y||N||Pg(),R=b||C?.t.bind(C);return Gj({children:t,count:e,parent:n,i18nKey:s,context:i,tOptions:l,values:c,defaults:d,components:h,ns:m||R?.ns||_||C?.options?.defaultNS,i18n:C,t:b,shouldUnescape:x,...w})}var Xm={exports:{}},Zm={};var Wx;function Wj(){if(Wx)return Zm;Wx=1;var t=Nf();function e(b,x){return b===x&&(b!==0||1/b===1/x)||b!==b&&x!==x}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,i=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function d(b,x){var w=x(),N=s({inst:{value:w,getSnapshot:x}}),_=N[0].inst,C=N[1];return l(function(){_.value=w,_.getSnapshot=x,h(_)&&C({inst:_})},[b,w,x]),i(function(){return h(_)&&C({inst:_}),b(function(){h(_)&&C({inst:_})})},[b]),c(w),w}function h(b){var x=b.getSnapshot;b=b.value;try{var w=x();return!n(b,w)}catch{return!0}}function m(b,x){return x()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return Zm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,Zm}var Xx;function Xj(){return Xx||(Xx=1,Xm.exports=Wj()),Xm.exports}var Zj=Xj();const Qj=(t,e)=>ha(e)?e:yr(e)&&ha(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,Jj={t:Qj,ready:!1},e3=()=>()=>{},yn=(t,e={})=>{const{i18n:n}=e,{i18n:s,defaultNS:i}=T.useContext(lS)||{},l=n||s||Pg();l&&!l.reportNamespaces&&(l.reportNamespaces=new Kj),l||Ef(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const c=T.useMemo(()=>({...Lg(),...l?.options?.react,...e}),[l,e]),{useSuspense:d,keyPrefix:h}=c,m=i||l?.options?.defaultNS,y=ha(m)?[m]:m||["translation"],b=T.useMemo(()=>y,y);l?.reportNamespaces?.addUsedNamespaces?.(b);const x=T.useRef(0),w=T.useCallback(W=>{if(!l)return e3;const{bindI18n:se,bindI18nStore:k}=c,F=()=>{x.current+=1,W()};return se&&l.on(se,F),k&&l.store.on(k,F),()=>{se&&se.split(" ").forEach(q=>l.off(q,F)),k&&k.split(" ").forEach(q=>l.store.off(q,F))}},[l,c]),N=T.useRef(),_=T.useCallback(()=>{if(!l)return Jj;const W=!!(l.isInitialized||l.initializedStoreOnce)&&b.every(re=>Oj(re,l,c)),se=e.lng||l.language,k=x.current,F=N.current;if(F&&F.ready===W&&F.lng===se&&F.keyPrefix===h&&F.revision===k)return F;const Z={t:l.getFixedT(se,c.nsMode==="fallback"?b:b[0],h),ready:W,lng:se,keyPrefix:h,revision:k};return N.current=Z,Z},[l,b,h,c,e.lng]),[C,R]=T.useState(0),{t:E,ready:D}=Zj.useSyncExternalStore(w,_,_);T.useEffect(()=>{if(l&&!D&&!d){const W=()=>R(se=>se+1);e.lng?Kx(l,e.lng,b,W):Up(l,b,W)}},[l,e.lng,b,D,d,C]);const I=l||{},P=T.useRef(null),U=T.useRef(),z=W=>{const se=Object.getOwnPropertyDescriptors(W);se.__original&&delete se.__original;const k=Object.create(Object.getPrototypeOf(W),se);if(!Object.prototype.hasOwnProperty.call(k,"__original"))try{Object.defineProperty(k,"__original",{value:W,writable:!1,enumerable:!1,configurable:!1})}catch{}return k},L=T.useMemo(()=>{const W=I,se=W?.language;let k=W;W&&(P.current&&P.current.__original===W?U.current!==se?(k=z(W),P.current=k,U.current=se):k=P.current:(k=z(W),P.current=k,U.current=se));const F=[E,k,D];return F.t=E,F.i18n=k,F.ready=D,F},[E,I,D,I.resolvedLanguage,I.language,I.languages]);if(l&&d&&!D)throw new Promise(W=>{const se=()=>W();e.lng?Kx(l,e.lng,b,se):Up(l,b,se)});return L},t3={write:"Write",calendar:"Calendar",categories:"Categories",profile:"Profile",settings:"Settings"},n3={save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",close:"Close",select:"Select"},a3={title:"AI Diary",quote:"Every day is a new beginning.",aiAssistant:"AI Assistant",online:"Online"},s3={title:"Settings",api:{title:"API Configuration",configName:"Config Name",provider:"Provider",apiKey:"API Key",baseUrl:"Base URL",model:"Model",fetchModels:"Fetch Models",saveConfig:"Save Config",cancel:"Cancel",addNew:"Add New API Config",deleteConfirmTitle:"Delete Configuration?",deleteConfirmMessage:"This action cannot be undone. Are you sure you want to delete this API configuration?",delete:"Delete",pleaseEnterApiKey:"Please enter an API Key first.",failedToFetchModels:"Failed to fetch models: {{error}}",myApi:"e.g. My API",modelPlaceholder:"e.g. gpt-3.5-turbo"},ai:{title:"AI Persona Settings",defaultPersona:{name:"Default",description:"User-centric, supportive friend who provides emotional value and casual guidance."},newPersonaDesc:"A new custom AI persona",promptPlaceholder:"Describe how the AI should behave...",defaultSystemPromptHidden:"Default System Prompt (Hidden)",name:"Name",description:"Description",replyStyle:"Reply Style",customPrompt:"Custom Prompt",savePersona:"Save Persona",cancel:"Cancel",createNew:"Create New Persona",deleteConfirmTitle:"Delete Persona",deleteConfirmMessage:"Are you sure you want to delete this AI Persona? This action cannot be undone.",delete:"Delete",styles:{warm:"Warm & Supportive",analytical:"Analytical & Objective",concise:"Concise & Direct",humorous:"Humorous & Playful"},globalStyle:{title:"Global Diary Generation Style",description:"This style will be applied to all AI-generated diaries, regardless of the active chat persona.",preset:"Style Preset",defaultPreset:"Default",wordCount:"Target Word Count",words:"words",withAiTrace:"With AI Trace",withAiTraceDesc:"Add AI commentary and analysis to the diary.",stylePrompt:"Style Prompt Instruction",editable:"(Editable)",newPresetTitle:"New Style Preset",presetNamePlaceholder:"Preset Name (e.g. Poetic)",stylePromptPlaceholder:"Style Instruction Prompt...",addPreset:"Add Preset"}},interface:{title:"Interface Settings",language:"System Language",theme:"Theme Colors",reset:"Reset Defaults",presets:"PRESETS",primaryColor:"Primary Color",backgroundColor:"Background Color",chatBackground:"Chat Background",uploadDesc:"Upload an image to personalize your chat background.",upload:"Upload",remove:"Remove",customCss:"Custom Bubble CSS",customCssDesc:"Target .message-user or .message-ai"},backup:{title:"Data Backup & Restore",local:{title:"Local & iCloud Backup",description:"Download JSON file or restore from local backup",info:"Download your data as a JSON file. For <strong>iCloud Sync</strong>, simply save the downloaded file to your iCloud Drive folder.",download:"Download Backup",restore:"Restore from File",restoreConfirm:"Are you sure you want to restore this backup? This will OVERWRITE your current data.",restoreSuccess:"Restore successful! The page will now reload.",restoreError:"Failed to restore: Invalid file format",downloadError:"Failed to generate backup"},github:{title:"GitHub Gist Sync",description:"Sync data to a private GitHub Gist",linked:"Linked",pat:"Personal Access Token (PAT)",patHelp:"Requires <code>gist</code> scope.",getToken:"Get Token",gistId:"Linked Gist ID",unlink:"Unlink",autoBackup:"Auto-Backup",autoBackupHelp:"Sync to Gist automatically (Every hour)",sync:"Sync (Push)",create:"Create Backup",import:"Import (Restore)",tokenRequired:"Token required",tokenAndGistRequired:"Token and Gist ID required",restoreConfirm:"Are you sure you want to restore from GitHub? This will OVERWRITE your local data with the Gist content.",syncSuccess:"Synced to Gist",restoreError:"Restore failed: {{error}}"},gdrive:{title:"Google Drive",description:"Direct upload via Access Token",info:"Recommended: Use <strong>Local Backup</strong> and save the file to your Google Drive folder manually for better security.",token:"OAuth Access Token (Advanced)",upload:"Upload to Drive",success:"Uploaded successfully!",error:"Error: {{error}}"},reset:{title:"Reset All Data",description:"Permanently delete all local data",warning:"<strong>Warning:</strong> This action will delete all your diaries, chat history, and settings from this browser. This action cannot be undone unless you have a backup.",confirmBtn:"Confirm Reset Everything",confirmAlert:"Are you absolutely sure? This cannot be undone."}}},r3={title:"Personal Manual",subtitle:"A deep dive into who you are, for better AI understanding.",basicInfo:{yourName:"Your Name",nickname:"Nickname",identity:"Identity / Role",identityPlaceholder:"e.g. Dreamer, Engineer",birthday:"Birthday",residence:"Residence",residencePlaceholder:"City, Country",schoolWork:"School / Work",schoolWorkPlaceholder:"University or Company",location:"Location (Work/School)",locationPlaceholder:"Where is it?"},avatar:{upload:"Upload Photo",link:"Image URL",change:"Change Avatar",linkTitle:"Image Link"},sections:{coreSelf:"Core Self",lifeExperience:"Life Experience",currentFocus:"Goals",interests:"Interests",connections:"Connections"},fields:{personality:"Personality",personalityPlaceholder:"MBTI, Enneagram...",values:"Values",valuesPlaceholder:"What matters most?",dislikes:"Dislikes",dislikesPlaceholder:"Deal breakers..."},timeline:{add:"Add Milestone",yearPlaceholder:"Year/Time",contentPlaceholder:"What happened?"},focus:{add:"Add Focus Area",placeholder:"I'm focusing on..."},interests:{add:"Add interest..."},connections:{add:"Add Relationship",namePlaceholder:"Name",relationPlaceholder:"Relationship",notePlaceholder:"Notes about them..."},pets:{title:"Pets",add:"Add Pet",namePlaceholder:"Pet Name",typePlaceholder:"Type (Cat, Dog...)",notePlaceholder:"About them..."},save:{button:"Save Changes",saved:"Saved",success:"Profile updated successfully!"},common:{confirm:"Confirm",cancel:"Cancel"}},i3={mood_placeholder:"How are you feeling now?",greeting_initial:"Hi there! How are you feeling today?",recording:"Recording",deleteSelected:"Delete ({{count}})",deleteConfirm:"Delete {{count}} messages?",generate:"Generate Diary",generating:"Generating...",aiAssistant:"AI Assistant",saving:"Saving...",save:"Save",futureDate:{title:"Tomorrow's mystery awaits",quote:"Leave tomorrow's things for tomorrow.",goBack:"Go Back"},chat:{placeholder:"Type your message...",reply:"Reply",uploadImage:"Upload Image",send:"Send Message",cancelSelection:"Cancel Selection",selectMessages:"Select Messages",copy:"Copy",edit:"Edit",delete:"Delete",regenerate:"Regenerate",mode:"Chat Mode",manualMode:"Manual Mode"},manual:{titlePlaceholder:"Title",category:"Category",tags:"Tags",contentPlaceholder:"Start writing..."},generated:{title:"Generated Diary",crafting:"Crafting your diary...",titlePlaceholder:"Diary Title",reroll:"Re-roll",save:"Save to Diary"},categorySelector:{placeholder:"Select or type category...",clear:"Clear",create:'Create "{{value}}"',noCategories:"No categories found."},tagEditor:{placeholder:"Add tag..."},diffViewer:{noChanges:"No changes detected.",back:"Back to Editor",metadataChanges:"Suggested Metadata Changes",title:"Title",untitled:"(Untitled)",tags:"Tags",noTags:"(No tags)",instructions:"Click highlights to toggle Accept/Reject",added:"Added",removed:"Removed",include:"Click to include",discard:"Click to discard",delete:"Click to delete",restore:"Click to restore",rejectAll:"Reject All",applySelected:"Apply Selected"},polish:{greeting:"Hi! I'm your writing assistant. I can help you polish your diary, fix grammar, or suggest improvements. Just ask or click 'One-Click Polish'!",error:"Sorry, I encountered an error. Please try again.",errorReroll:"Sorry, I encountered an error during reroll. Please try again.",defaultName:"Writing Assistant",title:"Title",tags:"Tags",content:"Content",polishedAvailable:"Polished text available",compareApply:"Compare & Apply",reroll:"Reroll",oneClick:"One-Click Polish",emotional:"Emotional",grammar:"Grammar",placeholder:"Ask for changes..."},moods:{happy:"Happy",excited:"Excited",neutral:"Neutral",sad:"Sad",loved:"Loved"},alerts:{noHistory:"No chat history found for {{date}} to generate a diary.",generateFailed:"Failed to generate diary: {{error}}",uploadFailed:"Failed to upload image.",saveFailed:"Failed to save diary: {{error}}"}},o3={title:"Timeline",select_date:"Select Date",hide_calendar:"Hide Calendar",delete_title:"Delete Diary Entry",delete_confirm:"Are you sure you want to delete this diary entry? This action cannot be undone.",delete_button:"Delete",years_ago_one:"{{count}} Year Ago",years_ago_other:"{{count}} Years Ago",read_memory:"Read Memory",no_memories:"No memories yet. Start writing!"},l3={title:"Bookshelf",manage:"Manage",done:"Done",entries:"{{count}} entries",edit_dialog:{edit_title:"Edit Category",add_title:"Add New Category",name_label:"Name",name_placeholder:"Category Name",cover_label:"Cover Image (Optional)",change_image:"Change Image",upload_image:"Upload Image",remove_image:"Remove",recommendation:"Recommended: 3:4 portrait image",color_label:"Color",cancel:"Cancel",save:"Save Changes",create:"Create"},delete_dialog:{title:"Delete Category",message:'Are you sure you want to delete "{{name}}"? Diaries in this category will remain but may become uncategorized.',confirm:"Delete"},defaults:{Uncategorized:"Uncategorized","Daily Life":"Daily Life",Work:"Work",Travel:"Travel"},actions:{edit:"Edit",delete:"Delete"},no_diaries:"No diaries in this category yet"},c3={entry_count_one:"{{count}} Entry",entry_count_other:"{{count}} Entries",write_for_this_day:"Write for this day",go_back:"Go back",add_new:"Add New",no_entries:"No entries found for {{date}}",back_to_timeline:"Back to Timeline",add_another_entry:"Add another entry"},u3={delete_diary_title:"Delete Diary Entry",delete_diary_message:"Are you sure you want to delete this diary entry? This action cannot be undone.",delete_comment_title:"Delete Comment",delete_comment_message:"Are you sure you want to delete this comment? This action cannot be undone.",delete_chat_history_confirm:"Are you sure you want to delete the chat history? This cannot be undone.",delete_chat_history_title:"Delete Chat History",title_placeholder:"Title",category_label:"Category",tags_label:"Tags",content_placeholder:"Write your diary content...",chat_history:"Chat History",messages_count:"{{count}} messages",comments:"Comments",ai_author:"AI ({{name}})",user_author:"You",no_comments:"No comments yet. Why not ask AI for some thoughts?",ask_ai:"Ask AI for comment",add_comment_placeholder:"Add a comment...",edit:"Edit",save:"Save",delete_diary:"Delete Diary",delete_comment:"Delete Comment"},Zx={nav:t3,common:n3,layout:a3,settings:s3,profile:r3,write:i3,timeline:o3,categories:l3,diary_entry:c3,diary_item:u3},d3={write:"",calendar:"",categories:"",profile:"",settings:""},f3={save:"",cancel:"",delete:"",edit:"",close:"",select:""},h3={title:"AI ",quote:"",aiAssistant:"AI ",online:""},m3={title:"",api:{title:"API ",configName:"",provider:"",apiKey:"API ",baseUrl:"Base URL",model:"",fetchModels:"",saveConfig:"",cancel:"",addNew:" API ",deleteConfirmTitle:"",deleteConfirmMessage:" API ",delete:"",pleaseEnterApiKey:" API ",failedToFetchModels:": {{error}}",myApi:" API",modelPlaceholder:"gpt-3.5-turbo"},ai:{title:"AI ",defaultPersona:{name:"",description:""},newPersonaDesc:" AI ",promptPlaceholder:" AI ...",defaultSystemPromptHidden:"",name:"",description:"",replyStyle:"",customPrompt:"",savePersona:"",cancel:"",createNew:"",deleteConfirmTitle:"",deleteConfirmMessage:" AI ",delete:"",styles:{warm:"",analytical:"",concise:"",humorous:""},globalStyle:{title:"",description:" AI  AI ",preset:"",defaultPreset:"",wordCount:"",words:"",withAiTrace:" AI ",withAiTraceDesc:" AI ",stylePrompt:"",editable:"()",newPresetTitle:"",presetNamePlaceholder:" ()",stylePromptPlaceholder:"...",addPreset:""}},interface:{title:"",language:"",theme:"",reset:"",presets:"",primaryColor:"",backgroundColor:"",chatBackground:"",uploadDesc:"",upload:"",remove:"",customCss:" CSS",customCssDesc:" .message-user  .message-ai"},backup:{title:"",local:{title:" iCloud ",description:" JSON ",info:" JSON  <strong>iCloud </strong> iCloud Drive ",download:"",restore:"",restoreConfirm:"",restoreSuccess:"",restoreError:"",downloadError:""},github:{title:"GitHub Gist ",description:" GitHub Gist",linked:"",pat:" (PAT)",patHelp:" <code>gist</code> ",getToken:"",gistId:" Gist ID",unlink:"",autoBackup:"",autoBackupHelp:" Gist ()",sync:" ()",create:"",import:" ()",tokenRequired:"",tokenAndGistRequired:" Gist ID",restoreConfirm:" GitHub  Gist ",syncSuccess:" Gist",restoreError:": {{error}}"},gdrive:{title:"Google Drive",description:"",info:"<strong></strong> Google Drive ",token:"OAuth  ()",upload:" Drive",success:"",error:": {{error}}"},reset:{title:"",description:"",warning:"<strong></strong> ",confirmBtn:"",confirmAlert:""}}},p3={title:"",subtitle:" AI ",basicInfo:{yourName:"",nickname:"",identity:" / ",identityPlaceholder:"",birthday:"",residence:"",residencePlaceholder:"",schoolWork:" / ",schoolWorkPlaceholder:"",location:" (/)",locationPlaceholder:""},avatar:{upload:"",link:"",change:"",linkTitle:""},sections:{coreSelf:"",lifeExperience:"",currentFocus:"",interests:"",connections:""},fields:{personality:"",personalityPlaceholder:"MBTI, ...",values:"",valuesPlaceholder:"",dislikes:" / ",dislikesPlaceholder:"..."},timeline:{add:"",yearPlaceholder:"/",contentPlaceholder:""},focus:{add:"",placeholder:"..."},interests:{add:"..."},connections:{add:"",namePlaceholder:"",relationPlaceholder:"",notePlaceholder:" TA ..."},pets:{title:"",add:"",namePlaceholder:"",typePlaceholder:" (...)",notePlaceholder:"..."},save:{button:"",saved:"",success:""},common:{confirm:"",cancel:""}},g3={mood_placeholder:"",greeting_initial:"",recording:"",deleteSelected:" ({{count}})",deleteConfirm:" {{count}} ",generate:"",generating:"...",aiAssistant:"AI ",saving:"...",save:"",futureDate:{title:"",quote:"",goBack:""},chat:{placeholder:"...",reply:"",uploadImage:"",send:"",cancelSelection:"",selectMessages:"",copy:"",edit:"",delete:"",regenerate:"",mode:"",manualMode:""},manual:{titlePlaceholder:"",category:"",tags:"",contentPlaceholder:"..."},generated:{title:"",crafting:"...",titlePlaceholder:"",reroll:"",save:""},categorySelector:{placeholder:"...",clear:"",create:' "{{value}}"',noCategories:""},tagEditor:{placeholder:"..."},diffViewer:{noChanges:"",back:"",metadataChanges:"",title:"",untitled:"()",tags:"",noTags:"()",instructions:"/",added:"",removed:"",include:"",discard:"",delete:"",restore:"",rejectAll:"",applySelected:""},polish:{greeting:"",error:"",errorReroll:"",defaultName:"",title:"",tags:"",content:"",polishedAvailable:"",compareApply:"",reroll:"",oneClick:"",emotional:"",grammar:"",placeholder:"..."},moods:{happy:"",excited:"",neutral:"",sad:"",loved:""},alerts:{noHistory:" {{date}} ",generateFailed:": {{error}}",uploadFailed:"",saveFailed:": {{error}}"}},y3={title:"",select_date:"",hide_calendar:"",delete_title:"",delete_confirm:"",delete_button:"",years_ago:"{{count}} ",read_memory:"",no_memories:""},b3={title:"",manage:"",done:"",entries:"{{count}} ",edit_dialog:{edit_title:"",add_title:"",name_label:"",name_placeholder:"",cover_label:" ()",change_image:"",upload_image:"",remove_image:"",recommendation:"3:4 ",color_label:"",cancel:"",save:"",create:""},delete_dialog:{title:"",message:"{{name}}",confirm:""},defaults:{Uncategorized:"","Daily Life":"",Work:"",Travel:""},actions:{edit:"",delete:""},no_diaries:""},x3={entry_count:"{{count}} ",write_for_this_day:"",go_back:"",add_new:"",no_entries:" {{date}} ",back_to_timeline:"",add_another_entry:""},v3={delete_diary_title:"",delete_diary_message:"",delete_comment_title:"",delete_comment_message:"",delete_chat_history_confirm:"",delete_chat_history_title:"",title_placeholder:"",category_label:"",tags_label:"",content_placeholder:"...",chat_history:"",messages_count:"{{count}} ",comments:"",ai_author:"AI ({{name}})",user_author:"",no_comments:" AI ",ask_ai:" AI ",add_comment_placeholder:"...",edit:"",save:"",delete_diary:"",delete_comment:""},Qx={nav:d3,common:f3,layout:h3,settings:m3,profile:p3,write:g3,timeline:y3,categories:b3,diary_entry:x3,diary_item:v3},w3={write:"",calendar:"",categories:"",profile:"",settings:""},S3={save:"",cancel:"",delete:"",edit:"",close:"",select:""},N3={title:"AI ",quote:"",aiAssistant:"AI ",online:""},T3={title:"",api:{title:"API ",configName:"",provider:"",apiKey:"API ",baseUrl:"Base URL",model:"",fetchModels:"",saveConfig:"",cancel:"",addNew:" API ",deleteConfirmTitle:"",deleteConfirmMessage:" API ",delete:"",pleaseEnterApiKey:" API ",failedToFetchModels:": {{error}}",myApi:" API",modelPlaceholder:"gpt-3.5-turbo"},ai:{title:"AI ",defaultPersona:{name:"",description:""},newPersonaDesc:" AI ",promptPlaceholder:" AI ...",defaultSystemPromptHidden:"",name:"",description:"",replyStyle:"",customPrompt:"",savePersona:"",cancel:"",createNew:"",deleteConfirmTitle:"",deleteConfirmMessage:" AI ",delete:"",styles:{warm:"",analytical:"",concise:"",humorous:""},globalStyle:{title:"",description:" AI  AI ",preset:"",defaultPreset:"",wordCount:"",words:"",withAiTrace:" AI ",withAiTraceDesc:" AI ",stylePrompt:"",editable:"()",newPresetTitle:"",presetNamePlaceholder:" ()",stylePromptPlaceholder:"...",addPreset:""}},interface:{title:"",language:"",theme:"",reset:"",presets:"",primaryColor:"",backgroundColor:"",chatBackground:"",uploadDesc:"",upload:"",remove:"",customCss:" CSS",customCssDesc:" .message-user  .message-ai"},backup:{title:"",local:{title:" iCloud ",description:" JSON ",info:" JSON  <strong>iCloud </strong> iCloud Drive ",download:"",restore:"",restoreConfirm:"",restoreSuccess:"",restoreError:"",downloadError:""},github:{title:"GitHub Gist ",description:" GitHub Gist",linked:"",pat:" (PAT)",patHelp:" <code>gist</code> ",getToken:"",gistId:" Gist ID",unlink:"",autoBackup:"",autoBackupHelp:" Gist ()",sync:" ()",create:"",import:" ()",tokenRequired:"",tokenAndGistRequired:" Gist ID",restoreConfirm:" GitHub  Gist ",syncSuccess:" Gist",restoreError:": {{error}}"},gdrive:{title:"Google Drive",description:"",info:"<strong></strong> Google Drive ",token:"OAuth  ()",upload:" Drive",success:"",error:": {{error}}"},reset:{title:"",description:"",warning:"<strong></strong> ",confirmBtn:"",confirmAlert:""}}},E3={title:"",subtitle:" AI ",basicInfo:{yourName:"",nickname:"",identity:" / ",identityPlaceholder:"",birthday:"",residence:"",residencePlaceholder:"",schoolWork:" / ",schoolWorkPlaceholder:"",location:" (/)",locationPlaceholder:""},avatar:{upload:"",link:"",change:"",linkTitle:""},sections:{coreSelf:"",lifeExperience:"",currentFocus:"",interests:"",connections:""},fields:{personality:"",personalityPlaceholder:"MBTI, ...",values:"",valuesPlaceholder:"",dislikes:" / ",dislikesPlaceholder:"..."},timeline:{add:"",yearPlaceholder:"/",contentPlaceholder:""},focus:{add:"",placeholder:"..."},interests:{add:"..."},connections:{add:"",namePlaceholder:"",relationPlaceholder:"",notePlaceholder:" TA ..."},pets:{title:"",add:"",namePlaceholder:"",typePlaceholder:" (...)",notePlaceholder:"..."},save:{button:"",saved:"",success:""},common:{confirm:"",cancel:""}},C3={mood_placeholder:"",greeting_initial:"",recording:"",deleteSelected:" ({{count}})",deleteConfirm:" {{count}} ",generate:"",generating:"...",aiAssistant:"AI ",saving:"...",save:"",futureDate:{title:"",quote:"",goBack:""},chat:{placeholder:"...",reply:"",uploadImage:"",send:"",cancelSelection:"",selectMessages:"",copy:"",edit:"",delete:"",regenerate:"",mode:"",manualMode:""},manual:{titlePlaceholder:"",category:"",tags:"",contentPlaceholder:"..."},generated:{title:"",crafting:"...",titlePlaceholder:"",reroll:"",save:""},categorySelector:{placeholder:"...",clear:"",create:' "{{value}}"',noCategories:""},tagEditor:{placeholder:"..."},diffViewer:{noChanges:"",back:"",metadataChanges:"",title:"",untitled:"()",tags:"",noTags:"()",instructions:"/",added:"",removed:"",include:"",discard:"",delete:"",restore:"",rejectAll:"",applySelected:""},polish:{greeting:"",error:"",errorReroll:"",defaultName:"",title:"",tags:"",content:"",polishedAvailable:"",compareApply:"",reroll:"",oneClick:"",emotional:"",grammar:"",placeholder:"..."},moods:{happy:"",excited:"",neutral:"",sad:"",loved:""},alerts:{noHistory:" {{date}} ",generateFailed:": {{error}}",uploadFailed:"",saveFailed:": {{error}}"}},A3={title:"",select_date:"",hide_calendar:"",delete_title:"",delete_confirm:"",delete_button:"",years_ago:"{{count}} ",read_memory:"",no_memories:""},j3={title:"",manage:"",done:"",entries:"{{count}} ",edit_dialog:{edit_title:"",add_title:"",name_label:"",name_placeholder:"",cover_label:" ()",change_image:"",upload_image:"",remove_image:"",recommendation:"3:4 ",color_label:"",cancel:"",save:"",create:""},delete_dialog:{title:"",message:"{{name}}",confirm:""},defaults:{Uncategorized:"","Daily Life":"",Work:"",Travel:""},actions:{edit:"",delete:""},no_diaries:""},_3={entry_count:"{{count}} ",write_for_this_day:"",go_back:"",add_new:"",no_entries:" {{date}} ",back_to_timeline:"",add_another_entry:""},k3={delete_diary_title:"",delete_diary_message:"",delete_comment_title:"",delete_comment_message:"",delete_chat_history_confirm:"",delete_chat_history_title:"",title_placeholder:"",category_label:"",tags_label:"",content_placeholder:"...",chat_history:"",messages_count:"{{count}} ",comments:"",ai_author:"AI ({{name}})",user_author:"",no_comments:" AI ",ask_ai:" AI ",add_comment_placeholder:"...",edit:"",save:"",delete_diary:"",delete_comment:""},Jx={nav:w3,common:S3,layout:N3,settings:T3,profile:E3,write:C3,timeline:A3,categories:j3,diary_entry:_3,diary_item:k3},O3={write:"",calendar:"",categories:"",profile:"",settings:""},D3={save:"",cancel:"",delete:"",edit:"",close:"",select:""},M3={title:"AI",quote:"",aiAssistant:"AI",online:""},R3={title:"",api:{title:"API",configName:"",provider:"",apiKey:"API",baseUrl:"URL",model:"",fetchModels:"",saveConfig:"",cancel:"",addNew:"API",deleteConfirmTitle:"",deleteConfirmMessage:"API",delete:"",pleaseEnterApiKey:"API",failedToFetchModels:": {{error}}",myApi:": My API",modelPlaceholder:": gpt-3.5-turbo"},ai:{title:"AI",defaultPersona:{name:"",description:""},newPersonaDesc:"AI",promptPlaceholder:"AI...",defaultSystemPromptHidden:"",name:"",description:"",replyStyle:"",customPrompt:"",savePersona:"",cancel:"",createNew:"",deleteConfirmTitle:"",deleteConfirmMessage:"AI",delete:"",styles:{warm:"",analytical:"",concise:"",humorous:""},globalStyle:{title:"",description:"AI",preset:"",defaultPreset:"",wordCount:"",words:"",withAiTrace:"AI",withAiTraceDesc:"AI",stylePrompt:"",editable:"",newPresetTitle:"",presetNamePlaceholder:"",stylePromptPlaceholder:"...",addPreset:""}},interface:{title:"",language:"",theme:"",reset:"",presets:"",primaryColor:"",backgroundColor:"",chatBackground:"",uploadDesc:"",upload:"",remove:"",customCss:"CSS",customCssDesc:" .message-user  .message-ai"},backup:{title:"",local:{title:" & iCloud",description:"JSON",info:"JSON<strong>iCloud</strong>iCloud Drive",download:"",restore:"",restoreConfirm:"",restoreSuccess:"",restoreError:": ",downloadError:""},github:{title:"GitHub Gist",description:"GitHub Gist",linked:"",pat:" (PAT)",patHelp:"<code>gist</code>",getToken:"",gistId:"Gist ID",unlink:"",autoBackup:"",autoBackupHelp:"Gist",sync:" (Push)",create:"",import:" ()",tokenRequired:"",tokenAndGistRequired:"Gist ID",restoreConfirm:"GitHubGist",syncSuccess:"Gist",restoreError:": {{error}}"},gdrive:{title:"Google",description:"",info:": <strong></strong>Google",token:"OAuth ()",upload:"",success:"",error:": {{error}}"},reset:{title:"",description:"",warning:"<strong>:</strong> ",confirmBtn:"",confirmAlert:""}}},L3={title:"",subtitle:"AI",basicInfo:{yourName:"",nickname:"",identity:" / ",identityPlaceholder:": ",birthday:"",residence:"",residencePlaceholder:"",schoolWork:" / ",schoolWorkPlaceholder:"",location:" (/)",locationPlaceholder:""},avatar:{upload:"",link:"URL",change:"",linkTitle:""},sections:{coreSelf:"",lifeExperience:"",currentFocus:"",interests:"",connections:""},fields:{personality:"",personalityPlaceholder:"MBTI, ...",values:"",valuesPlaceholder:"",dislikes:"",dislikesPlaceholder:"..."},timeline:{add:"",yearPlaceholder:"/",contentPlaceholder:""},focus:{add:"",placeholder:"..."},interests:{add:"..."},connections:{add:"",namePlaceholder:"",relationPlaceholder:"",notePlaceholder:"..."},pets:{title:"",add:"",namePlaceholder:"",typePlaceholder:" (...)",notePlaceholder:"..."},save:{button:"",saved:"",success:""},common:{confirm:"",cancel:""}},P3={mood_placeholder:"",greeting_initial:"",recording:"",deleteSelected:" ({{count}})",deleteConfirm:"{{count}} ",generate:"",generating:"...",aiAssistant:"AI",saving:"...",save:"",futureDate:{title:"",quote:"",goBack:""},chat:{placeholder:"...",reply:"",uploadImage:"",send:"",cancelSelection:"",selectMessages:"",copy:"",edit:"",delete:"",regenerate:"",mode:"",manualMode:""},manual:{titlePlaceholder:"",category:"",tags:"",contentPlaceholder:"..."},generated:{title:"",crafting:"...",titlePlaceholder:"",reroll:"",save:""},categorySelector:{placeholder:"...",clear:"",create:'"{{value}}" ',noCategories:""},tagEditor:{placeholder:"..."},diffViewer:{noChanges:"",back:"",metadataChanges:"",title:"",untitled:"()",tags:"",noTags:"()",instructions:"/",added:"",removed:"",include:"",discard:"",delete:"",restore:"",rejectAll:"",applySelected:""},polish:{greeting:"",error:"",errorReroll:"",defaultName:"",title:"",tags:"",content:"",polishedAvailable:"",compareApply:"",reroll:"",oneClick:"",emotional:"",grammar:"",placeholder:"..."},moods:{happy:"",excited:"",neutral:"",sad:"",loved:""},alerts:{noHistory:"{{date}}",generateFailed:": {{error}}",uploadFailed:"",saveFailed:": {{error}}"}},z3={title:"",select_date:"",hide_calendar:"",delete_title:"",delete_confirm:"",delete_button:"",years_ago_one:"{{count}} ",years_ago_other:"{{count}} ",read_memory:"",no_memories:""},B3={title:"",manage:"",done:"",entries:"{{count}} ",edit_dialog:{edit_title:"",add_title:"",name_label:"",name_placeholder:"",cover_label:" ()",change_image:"",upload_image:"",remove_image:"",recommendation:": 3:4 ",color_label:"",cancel:"",save:"",create:""},delete_dialog:{title:"",message:'"{{name}}" ',confirm:""},defaults:{Uncategorized:"","Daily Life":"",Work:"",Travel:""},actions:{edit:"",delete:""},no_diaries:""},I3={entry_count_one:"{{count}} ",entry_count_other:"{{count}} ",write_for_this_day:"",go_back:"",add_new:"",no_entries:"{{date}} ",back_to_timeline:"",add_another_entry:""},U3={delete_diary_title:"",delete_diary_message:"",delete_comment_title:"",delete_comment_message:"",delete_chat_history_confirm:"",delete_chat_history_title:"",title_placeholder:"",category_label:"",tags_label:"",content_placeholder:"...",chat_history:"",messages_count:"{{count}} ",comments:"",ai_author:"AI ({{name}})",user_author:"",no_comments:"AI",ask_ai:"AI",add_comment_placeholder:"...",edit:"",save:"",delete_diary:"",delete_comment:""},q3={nav:O3,common:D3,layout:M3,settings:R3,profile:L3,write:P3,timeline:z3,categories:B3,diary_entry:I3,diary_item:U3},$3=()=>{const t=localStorage.getItem("i18nextLng");if(t)return t;const e=navigator.language||navigator.userLanguage;if(e){if(e.toLowerCase()==="zh-tw"||e.toLowerCase()==="zh-hk")return"zh-TW";if(e.startsWith("zh"))return"zh";if(e.startsWith("ja"))return"ja"}return"en"};Xn.use(Yj).init({resources:{en:{translation:Zx},"en-US":{translation:Zx},zh:{translation:Qx},"zh-CN":{translation:Qx},"zh-TW":{translation:Jx},"zh-HK":{translation:Jx},ja:{translation:q3}},lng:$3(),fallbackLng:"en",interpolation:{escapeValue:!1}});var ev="popstate";function V3(t={}){function e(i,l){let{pathname:c="/",search:d="",hash:h=""}=ro(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),$p("",{pathname:c,search:d,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){let c=i.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let h=i.location.href,m=h.indexOf("#");d=m===-1?h:h.slice(0,m)}return d+"#"+(typeof l=="string"?l:Uc(l))}function s(i,l){ma(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return F3(e,n,s,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ma(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function H3(){return Math.random().toString(36).substring(2,10)}function tv(t,e){return{usr:t.state,key:t.key,idx:e}}function $p(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ro(e):e,state:n,key:e&&e.key||s||H3()}}function Uc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ro(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function F3(t,e,n,s={}){let{window:i=document.defaultView,v5Compat:l=!1}=s,c=i.history,d="POP",h=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function b(){d="POP";let C=y(),R=C==null?null:C-m;m=C,h&&h({action:d,location:_.location,delta:R})}function x(C,R){d="PUSH";let E=$p(_.location,C,R);n&&n(E,C),m=y()+1;let D=tv(E,m),I=_.createHref(E);try{c.pushState(D,"",I)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(I)}l&&h&&h({action:d,location:_.location,delta:1})}function w(C,R){d="REPLACE";let E=$p(_.location,C,R);n&&n(E,C),m=y();let D=tv(E,m),I=_.createHref(E);c.replaceState(D,"",I),l&&h&&h({action:d,location:_.location,delta:0})}function N(C){return G3(C)}let _={get action(){return d},get location(){return t(i,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(ev,b),h=C,()=>{i.removeEventListener(ev,b),h=null}},createHref(C){return e(i,C)},createURL:N,encodeLocation(C){let R=N(C);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:x,replace:w,go(C){return c.go(C)}};return _}function G3(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Uc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function cS(t,e,n="/"){return Y3(t,e,n,!1)}function Y3(t,e,n,s){let i=typeof e=="string"?ro(e):e,l=wr(i.pathname||"/",n);if(l==null)return null;let c=uS(t);K3(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let m=r5(l);d=a5(c[h],m,s)}return d}function uS(t,e=[],n=[],s="",i=!1){let l=(c,d,h=i,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&h)return;Mt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let b=br([s,y.relativePath]),x=n.concat(y);c.children&&c.children.length>0&&(Mt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),uS(c.children,e,x,b,h)),!(c.path==null&&!c.index)&&e.push({path:b,score:t5(b,c.index),routesMeta:x})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let h of dS(c.path))l(c,d,!0,h)}),e}function dS(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return i?[l,""]:[l];let c=dS(s.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),i&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function K3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:n5(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var W3=/^:[\w-]+$/,X3=3,Z3=2,Q3=1,J3=10,e5=-2,nv=t=>t==="*";function t5(t,e){let n=t.split("/"),s=n.length;return n.some(nv)&&(s+=e5),e&&(s+=Z3),n.filter(i=>!nv(i)).reduce((i,l)=>i+(W3.test(l)?X3:l===""?Q3:J3),s)}function n5(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function a5(t,e,n=!1){let{routesMeta:s}=t,i={},l="/",c=[];for(let d=0;d<s.length;++d){let h=s[d],m=d===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",b=tf({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),x=h.route;if(!b&&m&&n&&!s[s.length-1].route.index&&(b=tf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!b)return null;Object.assign(i,b.params),c.push({params:i,pathname:br([l,b.pathname]),pathnameBase:c5(br([l,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(l=br([l,b.pathnameBase]))}return c}function tf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=s5(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:b},x)=>{if(y==="*"){let N=d[x]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const w=d[x];return b&&!w?m[y]=void 0:m[y]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function s5(t,e=!1,n=!0){ma(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function r5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ma(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function wr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var fS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i5=t=>fS.test(t);function o5(t,e="/"){let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?ro(t):t,l;if(n)if(i5(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),ma(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=av(n.substring(1),"/"):l=av(n,e)}else l=e;return{pathname:l,search:u5(s),hash:d5(i)}}function av(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qm(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zg(t){let e=l5(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Bg(t,e,n,s=!1){let i;typeof t=="string"?i=ro(t):(i={...t},Mt(!i.pathname||!i.pathname.includes("?"),Qm("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),Qm("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),Qm("#","search","hash",i)));let l=t===""||i.pathname==="",c=l?"/":i.pathname,d;if(c==null)d=n;else{let b=e.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;i.pathname=x.join("/")}d=b>=0?e[b]:"/"}let h=o5(i,d),m=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var br=t=>t.join("/").replace(/\/\/+/g,"/"),c5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),u5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,d5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,f5=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function h5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function m5(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var hS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function mS(t,e){let n=t;if(typeof n!="string"||!fS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,i=!1;if(hS)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=wr(c.pathname,e);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:i=!0}catch{ma(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pS=["POST","PUT","PATCH","DELETE"];new Set(pS);var p5=["GET",...pS];new Set(p5);var gl=T.createContext(null);gl.displayName="DataRouter";var Cf=T.createContext(null);Cf.displayName="DataRouterState";var g5=T.createContext(!1),gS=T.createContext({isTransitioning:!1});gS.displayName="ViewTransition";var y5=T.createContext(new Map);y5.displayName="Fetchers";var b5=T.createContext(null);b5.displayName="Await";var Oa=T.createContext(null);Oa.displayName="Navigation";var eu=T.createContext(null);eu.displayName="Location";var Qa=T.createContext({outlet:null,matches:[],isDataRoute:!1});Qa.displayName="Route";var Ig=T.createContext(null);Ig.displayName="RouteError";var yS="REACT_ROUTER_ERROR",x5="REDIRECT",v5="ROUTE_ERROR_RESPONSE";function w5(t){if(t.startsWith(`${yS}:${x5}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function S5(t){if(t.startsWith(`${yS}:${v5}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new f5(e.status,e.statusText,e.data)}catch{}}function N5(t,{relative:e}={}){Mt(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=T.useContext(Oa),{hash:i,pathname:l,search:c}=tu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:br([n,l])),s.createHref({pathname:d,search:c,hash:i})}function yl(){return T.useContext(eu)!=null}function Ar(){return Mt(yl(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(eu).location}var bS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xS(t){T.useContext(Oa).static||T.useLayoutEffect(t)}function jr(){let{isDataRoute:t}=T.useContext(Qa);return t?I5():T5()}function T5(){Mt(yl(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(gl),{basename:e,navigator:n}=T.useContext(Oa),{matches:s}=T.useContext(Qa),{pathname:i}=Ar(),l=JSON.stringify(zg(s)),c=T.useRef(!1);return xS(()=>{c.current=!0}),T.useCallback((h,m={})=>{if(ma(c.current,bS),!c.current)return;if(typeof h=="number"){n.go(h);return}let y=Bg(h,JSON.parse(l),i,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:br([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,l,i,t])}var E5=T.createContext(null);function C5(t){let e=T.useContext(Qa).outlet;return T.useMemo(()=>e&&T.createElement(E5.Provider,{value:t},e),[e,t])}function A5(){let{matches:t}=T.useContext(Qa),e=t[t.length-1];return e?e.params:{}}function tu(t,{relative:e}={}){let{matches:n}=T.useContext(Qa),{pathname:s}=Ar(),i=JSON.stringify(zg(n));return T.useMemo(()=>Bg(t,JSON.parse(i),s,e==="path"),[t,i,s,e])}function j5(t,e){return vS(t,e)}function vS(t,e,n,s,i){Mt(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=T.useContext(Oa),{matches:c}=T.useContext(Qa),d=c[c.length-1],h=d?d.params:{},m=d?d.pathname:"/",y=d?d.pathnameBase:"/",b=d&&d.route;{let E=b&&b.path||"";SS(m,!b||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let x=Ar(),w;if(e){let E=typeof e=="string"?ro(e):e;Mt(y==="/"||E.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${E.pathname}" was given in the \`location\` prop.`),w=E}else w=x;let N=w.pathname||"/",_=N;if(y!=="/"){let E=y.replace(/^\//,"").split("/");_="/"+N.replace(/^\//,"").split("/").slice(E.length).join("/")}let C=cS(t,{pathname:_});ma(b||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ma(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=M5(C&&C.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:br([y,l.encodeLocation?l.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?y:br([y,l.encodeLocation?l.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),c,n,s,i);return e&&R?T.createElement(eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},R):R}function _5(){let t=B5(),e=h5(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:l},"ErrorBoundary")," or"," ",T.createElement("code",{style:l},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,c)}var k5=T.createElement(_5,null),wS=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=S5(t.digest);n&&(t=n)}let e=t!==void 0?T.createElement(Qa.Provider,{value:this.props.routeContext},T.createElement(Ig.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?T.createElement(O5,{error:t},e):e}};wS.contextType=g5;var Jm=new WeakMap;function O5({children:t,error:e}){let{basename:n}=T.useContext(Oa);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=w5(e.digest);if(s){let i=Jm.get(e);if(i)throw i;let l=mS(s.location,n);if(hS&&!Jm.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Jm.set(e,c),c}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function D5({routeContext:t,match:e,children:n}){let s=T.useContext(gl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Qa.Provider,{value:t},n)}function M5(t,e=[],n=null,s=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let y=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);Mt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,h=-1;if(n)for(let y=0;y<l.length;y++){let b=l[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(h=y),b.route.id){let{loaderData:x,errors:w}=n,N=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!w||w[b.route.id]===void 0);if(b.route.lazy||N){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let m=n&&s?(y,b)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:m5(n.matches),errorInfo:b})}:void 0;return l.reduceRight((y,b,x)=>{let w,N=!1,_=null,C=null;n&&(w=c&&b.route.id?c[b.route.id]:void 0,_=b.route.errorElement||k5,d&&(h<0&&x===0?(SS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,C=null):h===x&&(N=!0,C=b.route.hydrateFallbackElement||null)));let R=e.concat(l.slice(0,x+1)),E=()=>{let D;return w?D=_:N?D=C:b.route.Component?D=T.createElement(b.route.Component,null):b.route.element?D=b.route.element:D=y,T.createElement(D5,{match:b,routeContext:{outlet:y,matches:R,isDataRoute:n!=null},children:D})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?T.createElement(wS,{location:n.location,revalidation:n.revalidation,component:_,error:w,children:E(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:m}):E()},null)}function Ug(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R5(t){let e=T.useContext(gl);return Mt(e,Ug(t)),e}function L5(t){let e=T.useContext(Cf);return Mt(e,Ug(t)),e}function P5(t){let e=T.useContext(Qa);return Mt(e,Ug(t)),e}function qg(t){let e=P5(t),n=e.matches[e.matches.length-1];return Mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function z5(){return qg("useRouteId")}function B5(){let t=T.useContext(Ig),e=L5("useRouteError"),n=qg("useRouteError");return t!==void 0?t:e.errors?.[n]}function I5(){let{router:t}=R5("useNavigate"),e=qg("useNavigate"),n=T.useRef(!1);return xS(()=>{n.current=!0}),T.useCallback(async(i,l={})=>{ma(n.current,bS),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var sv={};function SS(t,e,n){!e&&!sv[t]&&(sv[t]=!0,ma(!1,n))}T.memo(U5);function U5({routes:t,future:e,state:n,onError:s}){return vS(t,void 0,n,s,e)}function q5({to:t,replace:e,state:n,relative:s}){Mt(yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(Oa);ma(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=T.useContext(Qa),{pathname:c}=Ar(),d=jr(),h=Bg(t,zg(l),c,s==="path"),m=JSON.stringify(h);return T.useEffect(()=>{d(JSON.parse(m),{replace:e,state:n,relative:s})},[d,m,s,e,n]),null}function NS(t){return C5(t.context)}function Bs(t){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $5({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:i,static:l=!1,unstable_useTransitions:c}){Mt(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),h=T.useMemo(()=>({basename:d,navigator:i,static:l,unstable_useTransitions:c,future:{}}),[d,i,l,c]);typeof n=="string"&&(n=ro(n));let{pathname:m="/",search:y="",hash:b="",state:x=null,key:w="default"}=n,N=T.useMemo(()=>{let _=wr(m,d);return _==null?null:{location:{pathname:_,search:y,hash:b,state:x,key:w},navigationType:s}},[d,m,y,b,x,w,s]);return ma(N!=null,`<Router basename="${d}"> is not able to match the URL "${m}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:T.createElement(Oa.Provider,{value:h},T.createElement(eu.Provider,{children:e,value:N}))}function V5({children:t,location:e}){return j5(Vp(t),e)}function Vp(t,e=[]){let n=[];return T.Children.forEach(t,(s,i)=>{if(!T.isValidElement(s))return;let l=[...e,i];if(s.type===T.Fragment){n.push.apply(n,Vp(s.props.children,l));return}Mt(s.type===Bs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Vp(s.props.children,l)),n.push(c)}),n}var $d="get",Vd="application/x-www-form-urlencoded";function Af(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function H5(t){return Af(t)&&t.tagName.toLowerCase()==="button"}function F5(t){return Af(t)&&t.tagName.toLowerCase()==="form"}function G5(t){return Af(t)&&t.tagName.toLowerCase()==="input"}function Y5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function K5(t,e){return t.button===0&&(!e||e==="_self")&&!Y5(t)}function Hp(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function W5(t,e){let n=Hp(t);return e&&e.forEach((s,i)=>{n.has(i)||e.getAll(i).forEach(l=>{n.append(i,l)})}),n}var xd=null;function X5(){if(xd===null)try{new FormData(document.createElement("form"),0),xd=!1}catch{xd=!0}return xd}var Z5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ep(t){return t!=null&&!Z5.has(t)?(ma(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vd}"`),null):t}function Q5(t,e){let n,s,i,l,c;if(F5(t)){let d=t.getAttribute("action");s=d?wr(d,e):null,n=t.getAttribute("method")||$d,i=ep(t.getAttribute("enctype"))||Vd,l=new FormData(t)}else if(H5(t)||G5(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(s=h?wr(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||$d,i=ep(t.getAttribute("formenctype"))||ep(d.getAttribute("enctype"))||Vd,l=new FormData(d,t),!X5()){let{name:m,type:y,value:b}=t;if(y==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,b)}}else{if(Af(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$d,s=null,i=Vd,c=t}return l&&i==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $g(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function J5(t,e,n,s){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${s}`:i.pathname=`${i.pathname}.${s}`:i.pathname==="/"?i.pathname=`_root.${s}`:e&&wr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function e4(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function t4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function n4(t,e,n){let s=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let c=await e4(l,n);return c.links?c.links():[]}return[]}));return i4(s.flat(1).filter(t4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function rv(t,e,n,s,i,l){let c=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,d=(h,m)=>n[m].pathname!==h.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,m)=>c(h,m)||d(h,m)):l==="data"?e.filter((h,m)=>{let y=s.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(c(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function a4(t,e,{includeHydrateFallback:n}={}){return s4(t.map(s=>{let i=e.routes[s.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function s4(t){return[...new Set(t)]}function r4(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function i4(t,e){let n=new Set;return new Set(e),t.reduce((s,i)=>{let l=JSON.stringify(r4(i));return n.has(l)||(n.add(l),s.push({key:l,link:i})),s},[])}function TS(){let t=T.useContext(gl);return $g(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function o4(){let t=T.useContext(Cf);return $g(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vg=T.createContext(void 0);Vg.displayName="FrameworkContext";function ES(){let t=T.useContext(Vg);return $g(t,"You must render this element inside a <HydratedRouter> element"),t}function l4(t,e){let n=T.useContext(Vg),[s,i]=T.useState(!1),[l,c]=T.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:b}=e,x=T.useRef(null);T.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let _=R=>{R.forEach(E=>{c(E.isIntersecting)})},C=new IntersectionObserver(_,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[t]),T.useEffect(()=>{if(s){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[s]);let w=()=>{i(!0)},N=()=>{i(!1),c(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:gc(d,w),onBlur:gc(h,N),onMouseEnter:gc(m,w),onMouseLeave:gc(y,N),onTouchStart:gc(b,w)}]:[!1,x,{}]}function gc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function c4({page:t,...e}){let{router:n}=TS(),s=T.useMemo(()=>cS(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?T.createElement(d4,{page:t,matches:s,...e}):null}function u4(t){let{manifest:e,routeModules:n}=ES(),[s,i]=T.useState([]);return T.useEffect(()=>{let l=!1;return n4(t,e,n).then(c=>{l||i(c)}),()=>{l=!0}},[t,e,n]),s}function d4({page:t,matches:e,...n}){let s=Ar(),{future:i,manifest:l,routeModules:c}=ES(),{basename:d}=TS(),{loaderData:h,matches:m}=o4(),y=T.useMemo(()=>rv(t,e,m,l,s,"data"),[t,e,m,l,s]),b=T.useMemo(()=>rv(t,e,m,l,s,"assets"),[t,e,m,l,s]),x=T.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let _=new Set,C=!1;if(e.forEach(E=>{let D=l.routes[E.route.id];!D||!D.hasLoader||(!y.some(I=>I.route.id===E.route.id)&&E.route.id in h&&c[E.route.id]?.shouldRevalidate||D.hasClientLoader?C=!0:_.add(E.route.id))}),_.size===0)return[];let R=J5(t,d,i.unstable_trailingSlashAwareDataRequests,"data");return C&&_.size>0&&R.searchParams.set("_routes",e.filter(E=>_.has(E.route.id)).map(E=>E.route.id).join(",")),[R.pathname+R.search]},[d,i.unstable_trailingSlashAwareDataRequests,h,s,l,y,e,t,c]),w=T.useMemo(()=>a4(b,l),[b,l]),N=u4(b);return T.createElement(T.Fragment,null,x.map(_=>T.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),w.map(_=>T.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),N.map(({key:_,link:C})=>T.createElement("link",{key:_,nonce:n.nonce,...C})))}function f4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var h4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h4&&(window.__reactRouterVersion="7.12.0")}catch{}function m4({basename:t,children:e,unstable_useTransitions:n,window:s}){let i=T.useRef();i.current==null&&(i.current=V3({window:s,v5Compat:!0}));let l=i.current,[c,d]=T.useState({action:l.action,location:l.location}),h=T.useCallback(m=>{n===!1?d(m):T.startTransition(()=>d(m))},[n]);return T.useLayoutEffect(()=>l.listen(h),[l,h]),T.createElement($5,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var CS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AS=T.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:i,reloadDocument:l,replace:c,state:d,target:h,to:m,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:x,...w},N){let{basename:_,unstable_useTransitions:C}=T.useContext(Oa),R=typeof m=="string"&&CS.test(m),E=mS(m,_);m=E.to;let D=N5(m,{relative:i}),[I,P,U]=l4(s,w),z=y4(m,{replace:c,state:d,target:h,preventScrollReset:y,relative:i,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:C});function L(se){e&&e(se),se.defaultPrevented||z(se)}let W=T.createElement("a",{...w,...U,href:E.absoluteURL||D,onClick:E.isExternal||l?e:L,ref:f4(N,P),target:h,"data-discover":!R&&n==="render"?"true":void 0});return I&&!R?T.createElement(T.Fragment,null,W,T.createElement(c4,{page:D})):W});AS.displayName="Link";var nf=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:i=!1,style:l,to:c,viewTransition:d,children:h,...m},y){let b=tu(c,{relative:m.relative}),x=Ar(),w=T.useContext(Cf),{navigator:N,basename:_}=T.useContext(Oa),C=w!=null&&N4(b)&&d===!0,R=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,E=x.pathname,D=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(E=E.toLowerCase(),D=D?D.toLowerCase():null,R=R.toLowerCase()),D&&_&&(D=wr(D,_)||D);const I=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let P=E===R||!i&&E.startsWith(R)&&E.charAt(I)==="/",U=D!=null&&(D===R||!i&&D.startsWith(R)&&D.charAt(R.length)==="/"),z={isActive:P,isPending:U,isTransitioning:C},L=P?e:void 0,W;typeof s=="function"?W=s(z):W=[s,P?"active":null,U?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let se=typeof l=="function"?l(z):l;return T.createElement(AS,{...m,"aria-current":L,className:W,ref:y,style:se,to:c,viewTransition:d},typeof h=="function"?h(z):h)});nf.displayName="NavLink";var p4=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:i,state:l,method:c=$d,action:d,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:x,...w},N)=>{let{unstable_useTransitions:_}=T.useContext(Oa),C=w4(),R=S4(d,{relative:m}),E=c.toLowerCase()==="get"?"get":"post",D=typeof d=="string"&&CS.test(d),I=P=>{if(h&&h(P),P.defaultPrevented)return;P.preventDefault();let U=P.nativeEvent.submitter,z=U?.getAttribute("formmethod")||c,L=()=>C(U||P.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:i,state:l,relative:m,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:x});_&&n!==!1?T.startTransition(()=>L()):L()};return T.createElement("form",{ref:N,method:E,action:R,onSubmit:s?h:I,...w,"data-discover":!D&&t==="render"?"true":void 0})});p4.displayName="Form";function g4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jS(t){let e=T.useContext(gl);return Mt(e,g4(t)),e}function y4(t,{target:e,replace:n,state:s,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h}={}){let m=jr(),y=Ar(),b=tu(t,{relative:l});return T.useCallback(x=>{if(K5(x,e)){x.preventDefault();let w=n!==void 0?n:Uc(y)===Uc(b),N=()=>m(t,{replace:w,state:s,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});h?T.startTransition(()=>N()):N()}},[y,m,b,n,s,e,t,i,l,c,d,h])}function b4(t){ma(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef(Hp(t)),n=T.useRef(!1),s=Ar(),i=T.useMemo(()=>W5(s.search,n.current?null:e.current),[s.search]),l=jr(),c=T.useCallback((d,h)=>{const m=Hp(typeof d=="function"?d(new URLSearchParams(i)):d);n.current=!0,l("?"+m,h)},[l,i]);return[i,c]}var x4=0,v4=()=>`__${String(++x4)}__`;function w4(){let{router:t}=jS("useSubmit"),{basename:e}=T.useContext(Oa),n=z5(),s=t.fetch,i=t.navigate;return T.useCallback(async(l,c={})=>{let{action:d,method:h,encType:m,formData:y,body:b}=Q5(l,e);if(c.navigate===!1){let x=c.fetcherKey||v4();await s(x,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:b,formMethod:c.method||h,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:b,formMethod:c.method||h,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,i,e,n])}function S4(t,{relative:e}={}){let{basename:n}=T.useContext(Oa),s=T.useContext(Qa);Mt(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),l={...tu(t||".",{relative:e})},c=Ar();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(y=>y==="")){d.delete("index"),h.filter(b=>b).forEach(b=>d.append("index",b));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:br([n,l.pathname])),Uc(l)}function N4(t,{relative:e}={}){let n=T.useContext(gS);Mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=jS("useViewTransitionState"),i=tu(t,{relative:e});if(!n.isTransitioning)return!1;let l=wr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=wr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return tf(i.pathname,c)!=null||tf(i.pathname,l)!=null}var T4=Q2();const tp=768;function E4(){const[t,e]=T.useState(void 0);return T.useEffect(()=>{const n=window.matchMedia(`(max-width: ${tp-1}px)`),s=()=>{e(window.innerWidth<tp)};return n.addEventListener("change",s),e(window.innerWidth<tp),()=>n.removeEventListener("change",s)},[]),!!t}const C4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),A4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),iv=t=>{const e=A4(t);return e.charAt(0).toUpperCase()+e.slice(1)},_S=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),j4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var _4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const k4=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:l,iconNode:c,...d},h)=>T.createElement("svg",{ref:h,..._4,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:_S("lucide",i),...!l&&!j4(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,y])=>T.createElement(m,y)),...Array.isArray(l)?l:[l]]));const Ee=(t,e)=>{const n=T.forwardRef(({className:s,...i},l)=>T.createElement(k4,{ref:l,iconNode:e,className:_S(`lucide-${C4(iv(t))}`,`lucide-${t}`,s),...i}));return n.displayName=iv(t),n};const O4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],kS=Ee("arrow-left",O4);const D4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],OS=Ee("arrow-right",D4);const M4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],R4=Ee("book-open",M4);const L4=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],jf=Ee("book",L4);const P4=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],ov=Ee("bot",P4);const z4=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],B4=Ee("briefcase",z4);const I4=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],U4=Ee("building-2",I4);const q4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],$4=Ee("calendar-days",q4);const V4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bl=Ee("calendar",V4);const H4=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],DS=Ee("cat",H4);const F4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ys=Ee("check",F4);const G4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_f=Ee("chevron-down",G4);const Y4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],MS=Ee("chevron-left",Y4);const K4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],W4=Ee("chevron-right",K4);const X4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Z4=Ee("chevron-up",X4);const Q4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lv=Ee("circle-alert",Q4);const J4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],e_=Ee("circle-arrow-down",J4);const t_=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],n_=Ee("clock",t_);const a_=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],cv=Ee("cloud",a_);const s_=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],r_=Ee("code",s_);const i_=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],o_=Ee("coffee",i_);const l_=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],c_=Ee("copy",l_);const u_=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],d_=Ee("database",u_);const f_=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],h_=Ee("download",f_);const m_=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Hd=Ee("folder",m_);const p_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],RS=Ee("frown",p_);const g_=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],y_=Ee("github",g_);const b_=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],x_=Ee("hard-drive",b_);const v_=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],kf=Ee("heart",v_);const w_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],qc=Ee("image",w_);const S_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],uv=Ee("info",S_);const N_=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],T_=Ee("languages",N_);const E_=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],LS=Ee("layers",E_);const C_=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],A_=Ee("link",C_);const j_=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],__=Ee("map-pin",j_);const k_=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],O_=Ee("map",k_);const D_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],PS=Ee("meh",D_);const M_=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],dl=Ee("message-circle",M_);const R_=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],L_=Ee("message-square",R_);const P_=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],dv=Ee("palette",P_);const z_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],B_=Ee("panel-right-close",z_);const I_=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],$c=Ee("pen-tool",I_);const U_=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],af=Ee("pencil",U_);const q_=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],$_=Ee("plane",q_);const V_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sr=Ee("plus",V_);const H_=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],F_=Ee("quote",H_);const G_=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Dc=Ee("refresh-cw",G_);const Y_=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],hi=Ee("rotate-ccw",Y_);const K_=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ji=Ee("save",K_);const W_=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],fv=Ee("server",W_);const X_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hg=Ee("settings",X_);const Z_=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Fp=Ee("settings-2",Z_);const Q_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],J_=Ee("shield-alert",Q_);const ek=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],sf=Ee("smile",ek);const tk=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ms=Ee("sparkles",tk);const nk=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ak=Ee("square-check-big",nk);const sk=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],zS=Ee("star",sk);const rk=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Fg=Ee("tag",rk);const ik=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ok=Ee("target",ik);const lk=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fn=Ee("trash-2",lk);const ck=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uk=Ee("triangle-alert",ck);const dk=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Gg=Ee("upload",dk);const fk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eo=Ee("user",fk);const hk=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Gp=Ee("wand-sparkles",hk);const mk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ka=Ee("x",mk);const pk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Yg=Ee("zap",pk);function BS(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=BS(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function gk(){for(var t,e,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=BS(t))&&(s&&(s+=" "),s+=e);return s}const yk=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},bk=(t,e)=>({classGroupId:t,validator:e}),IS=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),rf="-",hv=[],xk="arbitrary..",vk=t=>{const e=Sk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return wk(c);const d=c.split(rf),h=d[0]===""&&d.length>1?1:0;return US(d,h,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const h=s[c],m=n[c];return h?m?yk(m,h):h:m||hv}return n[c]||hv}}},US=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],l=n.nextPart.get(i);if(l){const m=US(t,e+1,l);if(m)return m}const c=n.validators;if(c===null)return;const d=e===0?t.join(rf):t.slice(e).join(rf),h=c.length;for(let m=0;m<h;m++){const y=c[m];if(y.validator(d))return y.classGroupId}},wk=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?xk+s:void 0})(),Sk=t=>{const{theme:e,classGroups:n}=t;return Nk(n,e)},Nk=(t,e)=>{const n=IS();for(const s in t){const i=t[s];Kg(i,n,s,e)}return n},Kg=(t,e,n,s)=>{const i=t.length;for(let l=0;l<i;l++){const c=t[l];Tk(c,e,n,s)}},Tk=(t,e,n,s)=>{if(typeof t=="string"){Ek(t,e,n);return}if(typeof t=="function"){Ck(t,e,n,s);return}Ak(t,e,n,s)},Ek=(t,e,n)=>{const s=t===""?e:qS(e,t);s.classGroupId=n},Ck=(t,e,n,s)=>{if(jk(t)){Kg(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(bk(n,t))},Ak=(t,e,n,s)=>{const i=Object.entries(t),l=i.length;for(let c=0;c<l;c++){const[d,h]=i[c];Kg(h,qS(e,d),n,s)}},qS=(t,e)=>{let n=t;const s=e.split(rf),i=s.length;for(let l=0;l<i;l++){const c=s[l];let d=n.nextPart.get(c);d||(d=IS(),n.nextPart.set(c,d)),n=d}return n},jk=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,_k=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const i=(l,c)=>{n[l]=c,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=s[l])!==void 0)return i(l,c),c},set(l,c){l in n?n[l]=c:i(l,c)}}},Yp="!",mv=":",kk=[],pv=(t,e,n,s,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:i}),Ok=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=i=>{const l=[];let c=0,d=0,h=0,m;const y=i.length;for(let _=0;_<y;_++){const C=i[_];if(c===0&&d===0){if(C===mv){l.push(i.slice(h,_)),h=_+1;continue}if(C==="/"){m=_;continue}}C==="["?c++:C==="]"?c--:C==="("?d++:C===")"&&d--}const b=l.length===0?i:i.slice(h);let x=b,w=!1;b.endsWith(Yp)?(x=b.slice(0,-1),w=!0):b.startsWith(Yp)&&(x=b.slice(1),w=!0);const N=m&&m>h?m-h:void 0;return pv(l,w,x,N)};if(e){const i=e+mv,l=s;s=c=>c.startsWith(i)?l(c.slice(i.length)):pv(kk,!1,c,void 0,!0)}if(n){const i=s;s=l=>n({className:l,parseClassName:i})}return s},Dk=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let i=[];for(let l=0;l<n.length;l++){const c=n[l],d=c[0]==="[",h=e.has(c);d||h?(i.length>0&&(i.sort(),s.push(...i),i=[]),s.push(c)):i.push(c)}return i.length>0&&(i.sort(),s.push(...i)),s}},Mk=t=>({cache:_k(t.cacheSize),parseClassName:Ok(t),sortModifiers:Dk(t),...vk(t)}),Rk=/\s+/,Lk=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:l}=e,c=[],d=t.trim().split(Rk);let h="";for(let m=d.length-1;m>=0;m-=1){const y=d[m],{isExternal:b,modifiers:x,hasImportantModifier:w,baseClassName:N,maybePostfixModifierPosition:_}=n(y);if(b){h=y+(h.length>0?" "+h:h);continue}let C=!!_,R=s(C?N.substring(0,_):N);if(!R){if(!C){h=y+(h.length>0?" "+h:h);continue}if(R=s(N),!R){h=y+(h.length>0?" "+h:h);continue}C=!1}const E=x.length===0?"":x.length===1?x[0]:l(x).join(":"),D=w?E+Yp:E,I=D+R;if(c.indexOf(I)>-1)continue;c.push(I);const P=i(R,C);for(let U=0;U<P.length;++U){const z=P[U];c.push(D+z)}h=y+(h.length>0?" "+h:h)}return h},Pk=(...t)=>{let e=0,n,s,i="";for(;e<t.length;)(n=t[e++])&&(s=$S(n))&&(i&&(i+=" "),i+=s);return i},$S=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=$S(t[s]))&&(n&&(n+=" "),n+=e);return n},zk=(t,...e)=>{let n,s,i,l;const c=h=>{const m=e.reduce((y,b)=>b(y),t());return n=Mk(m),s=n.cache.get,i=n.cache.set,l=d,d(h)},d=h=>{const m=s(h);if(m)return m;const y=Lk(h,n);return i(h,y),y};return l=c,(...h)=>l(Pk(...h))},Bk=[],cn=t=>{const e=n=>n[t]||Bk;return e.isThemeGetter=!0,e},VS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,HS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ik=/^\d+\/\d+$/,Uk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$k=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Vk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Hk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xo=t=>Ik.test(t),Qe=t=>!!t&&!Number.isNaN(Number(t)),oi=t=>!!t&&Number.isInteger(Number(t)),np=t=>t.endsWith("%")&&Qe(t.slice(0,-1)),pr=t=>Uk.test(t),Fk=()=>!0,Gk=t=>qk.test(t)&&!$k.test(t),FS=()=>!1,Yk=t=>Vk.test(t),Kk=t=>Hk.test(t),Wk=t=>!_e(t)&&!ke(t),Xk=t=>xl(t,KS,FS),_e=t=>VS.test(t),Hi=t=>xl(t,WS,Gk),ap=t=>xl(t,tO,Qe),gv=t=>xl(t,GS,FS),Zk=t=>xl(t,YS,Kk),vd=t=>xl(t,XS,Yk),ke=t=>HS.test(t),yc=t=>vl(t,WS),Qk=t=>vl(t,nO),yv=t=>vl(t,GS),Jk=t=>vl(t,KS),eO=t=>vl(t,YS),wd=t=>vl(t,XS,!0),xl=(t,e,n)=>{const s=VS.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},vl=(t,e,n=!1)=>{const s=HS.exec(t);return s?s[1]?e(s[1]):n:!1},GS=t=>t==="position"||t==="percentage",YS=t=>t==="image"||t==="url",KS=t=>t==="length"||t==="size"||t==="bg-size",WS=t=>t==="length",tO=t=>t==="number",nO=t=>t==="family-name",XS=t=>t==="shadow",aO=()=>{const t=cn("color"),e=cn("font"),n=cn("text"),s=cn("font-weight"),i=cn("tracking"),l=cn("leading"),c=cn("breakpoint"),d=cn("container"),h=cn("spacing"),m=cn("radius"),y=cn("shadow"),b=cn("inset-shadow"),x=cn("text-shadow"),w=cn("drop-shadow"),N=cn("blur"),_=cn("perspective"),C=cn("aspect"),R=cn("ease"),E=cn("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...I(),ke,_e],U=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],L=()=>[ke,_e,h],W=()=>[Xo,"full","auto",...L()],se=()=>[oi,"none","subgrid",ke,_e],k=()=>["auto",{span:["full",oi,ke,_e]},oi,ke,_e],F=()=>[oi,"auto",ke,_e],q=()=>["auto","min","max","fr",ke,_e],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],re=()=>["start","end","center","stretch","center-safe","end-safe"],A=()=>["auto",...L()],B=()=>[Xo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],V=()=>[t,ke,_e],le=()=>[...I(),yv,gv,{position:[ke,_e]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",Jk,Xk,{size:[ke,_e]}],Y=()=>[np,yc,Hi],X=()=>["","none","full",m,ke,_e],ie=()=>["",Qe,yc,Hi],me=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[Qe,np,yv,gv],Ce=()=>["","none",N,ke,_e],ee=()=>["none",Qe,ke,_e],oe=()=>["none",Qe,ke,_e],pe=()=>[Qe,ke,_e],ve=()=>[Xo,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[pr],breakpoint:[pr],color:[Fk],container:[pr],"drop-shadow":[pr],ease:["in","out","in-out"],font:[Wk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[pr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[pr],shadow:[pr],spacing:["px",Qe],text:[pr],"text-shadow":[pr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xo,_e,ke,C]}],container:["container"],columns:[{columns:[Qe,_e,ke,d]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[oi,"auto",ke,_e]}],basis:[{basis:[Xo,"full","auto",d,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Qe,Xo,"auto","initial","none",_e]}],grow:[{grow:["",Qe,ke,_e]}],shrink:[{shrink:["",Qe,ke,_e]}],order:[{order:[oi,"first","last","none",ke,_e]}],"grid-cols":[{"grid-cols":se()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":se()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...re(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[d,"screen",...B()]}],"min-w":[{"min-w":[d,"screen","none",...B()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",n,yc,Hi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ke,ap]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",np,_e]}],"font-family":[{font:[Qk,_e,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ke,_e]}],"line-clamp":[{"line-clamp":[Qe,"none",ke,ap]}],leading:[{leading:[l,...L()]}],"list-image":[{"list-image":["none",ke,_e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,_e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:[Qe,"from-font","auto",ke,Hi]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[Qe,"auto",ke,_e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},oi,ke,_e],radial:["",ke,_e],conic:[oi,ke,_e]},eO,Zk]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...me(),"hidden","none"]}],"divide-style":[{divide:[...me(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Qe,ke,_e]}],"outline-w":[{outline:["",Qe,yc,Hi]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",y,wd,vd]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",b,wd,vd]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[Qe,Hi]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",x,wd,vd]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[Qe,ke,_e]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[ke,_e]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[Qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,_e]}],filter:[{filter:["","none",ke,_e]}],blur:[{blur:Ce()}],brightness:[{brightness:[Qe,ke,_e]}],contrast:[{contrast:[Qe,ke,_e]}],"drop-shadow":[{"drop-shadow":["","none",w,wd,vd]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",Qe,ke,_e]}],"hue-rotate":[{"hue-rotate":[Qe,ke,_e]}],invert:[{invert:["",Qe,ke,_e]}],saturate:[{saturate:[Qe,ke,_e]}],sepia:[{sepia:["",Qe,ke,_e]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,_e]}],"backdrop-blur":[{"backdrop-blur":Ce()}],"backdrop-brightness":[{"backdrop-brightness":[Qe,ke,_e]}],"backdrop-contrast":[{"backdrop-contrast":[Qe,ke,_e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Qe,ke,_e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Qe,ke,_e]}],"backdrop-invert":[{"backdrop-invert":["",Qe,ke,_e]}],"backdrop-opacity":[{"backdrop-opacity":[Qe,ke,_e]}],"backdrop-saturate":[{"backdrop-saturate":[Qe,ke,_e]}],"backdrop-sepia":[{"backdrop-sepia":["",Qe,ke,_e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,_e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Qe,"initial",ke,_e]}],ease:[{ease:["linear","initial",R,ke,_e]}],delay:[{delay:[Qe,ke,_e]}],animate:[{animate:["none",E,ke,_e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,ke,_e]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:ee()}],"rotate-x":[{"rotate-x":ee()}],"rotate-y":[{"rotate-y":ee()}],"rotate-z":[{"rotate-z":ee()}],scale:[{scale:oe()}],"scale-x":[{"scale-x":oe()}],"scale-y":[{"scale-y":oe()}],"scale-z":[{"scale-z":oe()}],"scale-3d":["scale-3d"],skew:[{skew:pe()}],"skew-x":[{"skew-x":pe()}],"skew-y":[{"skew-y":pe()}],transform:[{transform:[ke,_e,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ve()}],"translate-x":[{"translate-x":ve()}],"translate-y":[{"translate-y":ve()}],"translate-z":[{"translate-z":ve()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,_e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,_e]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[Qe,yc,Hi,ap]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},sO=zk(aO);function Ne(...t){return sO(gk(t))}function rO(t,e=800,n=.7){return new Promise((s,i)=>{const l=new FileReader;l.readAsDataURL(t),l.onload=c=>{const d=new Image;d.src=c.target.result,d.onload=()=>{const h=document.createElement("canvas");let m=d.width,y=d.height;m>e&&(y=Math.round(y*e/m),m=e),h.width=m,h.height=y,h.getContext("2d").drawImage(d,0,0,m,y);const x=h.toDataURL("image/jpeg",n);s(x)},d.onerror=h=>i(h)},l.onerror=c=>i(c)})}const ZS=T.createContext({isSidebarCollapsed:!1,toggleSidebar:()=>{},isRightSidebarOpen:!1,setRightSidebarOpen:()=>{},toggleRightSidebar:()=>{},rightSidebarWidth:320,setRightSidebarWidth:()=>{}});function iO({children:t}){const[e,n]=T.useState(!1),[s,i]=T.useState(!1),[l,c]=T.useState(320),d=()=>n(m=>!m),h=()=>i(m=>!m);return f.jsx(ZS.Provider,{value:{isSidebarCollapsed:e,toggleSidebar:d,isRightSidebarOpen:s,setRightSidebarOpen:i,toggleRightSidebar:h,rightSidebarWidth:l,setRightSidebarWidth:c},children:t})}const Wg=()=>T.useContext(ZS),QS=T.createContext(),JS=()=>{const t=T.useContext(QS);if(!t)throw new Error("useUser must be used within a UserProvider");return t},sp={username:"",nickname:"",birthday:"",identity:"",schoolWork:"",schoolWorkLocation:"",residence:"",personality:"",valuesPositive:"",valuesNegative:"",lifeExperience:[],shortTermGoals:[],coreRelationships:[],interests:[],pets:[]},oO=({children:t})=>{const[e,n]=T.useState(()=>{try{const i=localStorage.getItem("user_profile"),l=i?JSON.parse(i):null;if(l&&typeof l=="object"){const c={...sp,...l};if(!c.residence&&l.location&&(c.residence=l.location),!c.schoolWork&&l.workplace&&(c.schoolWork=l.workplace),!c.identity&&l.occupation&&(c.identity=l.occupation),typeof c.lifeExperience=="string"&&c.lifeExperience?c.lifeExperience=[{year:"Past",content:c.lifeExperience}]:Array.isArray(c.lifeExperience)||(c.lifeExperience=[]),typeof c.coreRelationships=="string"){const d=[];l.family&&d.push({name:"Family",relation:"Family",note:l.family}),l.relationships&&d.push({name:"Relationships",relation:"Friends",note:l.relationships}),c.coreRelationships&&!l.family&&!l.relationships&&d.push({name:"Others",relation:"General",note:c.coreRelationships}),c.coreRelationships=d}else Array.isArray(c.coreRelationships)||(c.coreRelationships=[]);return typeof c.interests=="string"?c.interests=c.interests?c.interests.split(",").map(d=>d.trim()).filter(Boolean):[]:Array.isArray(c.interests)||(c.interests=[]),typeof c.pets=="string"&&c.pets?c.pets=[{name:"Pet",type:"Pet",note:c.pets}]:Array.isArray(c.pets)||(c.pets=[]),c}return sp}catch(i){return console.error("Failed to parse user_profile:",i),sp}});T.useEffect(()=>{localStorage.setItem("user_profile",JSON.stringify(e))},[e]);const s=i=>{n(l=>({...l,...i}))};return f.jsx(QS.Provider,{value:{profile:e,updateProfile:s},children:t})},eN=6048e5,lO=864e5,tN=6e4,nN=36e5,bv=Symbol.for("constructDateFrom");function Wn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&bv in t?t[bv](e):t instanceof Date?new t.constructor(e):new Date(e)}function Wt(t,e){return Wn(e||t,t)}function aN(t,e,n){const s=Wt(t,n?.in);if(isNaN(e))return Wn(t,NaN);if(!e)return s;const i=s.getDate(),l=Wn(t,s.getTime());l.setMonth(s.getMonth()+e+1,0);const c=l.getDate();return i>=c?l:(s.setFullYear(l.getFullYear(),l.getMonth(),i),s)}let cO={};function nu(){return cO}function Nr(t,e){const n=nu(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Wt(t,e?.in),l=i.getDay(),c=(l<s?7:0)+l-s;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function of(t,e){return Nr(t,{...e,weekStartsOn:1})}function sN(t,e){const n=Wt(t,e?.in),s=n.getFullYear(),i=Wn(n,0);i.setFullYear(s+1,0,4),i.setHours(0,0,0,0);const l=of(i),c=Wn(n,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const d=of(c);return n.getTime()>=l.getTime()?s+1:n.getTime()>=d.getTime()?s:s-1}function xv(t){const e=Wt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function au(t,...e){const n=Wn.bind(null,t||e.find(s=>typeof s=="object"));return e.map(n)}function lf(t,e){const n=Wt(t,e?.in);return n.setHours(0,0,0,0),n}function uO(t,e,n){const[s,i]=au(n?.in,t,e),l=lf(s),c=lf(i),d=+l-xv(l),h=+c-xv(c);return Math.round((d-h)/lO)}function dO(t,e){const n=sN(t,e),s=Wn(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),of(s)}function fO(t,e,n){const[s,i]=au(n?.in,t,e);return+lf(s)==+lf(i)}function hO(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function mO(t){return!(!hO(t)&&typeof t!="number"||isNaN(+Wt(t)))}function pO(t,e){const n=Wt(t,e?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function gO(t,e){const[n,s]=au(t,e.start,e.end);return{start:n,end:s}}function vv(t,e){const{start:n,end:s}=gO(e?.in,t);let i=+n>+s;const l=i?+n:+s,c=i?s:n;c.setHours(0,0,0,0);let d=1;const h=[];for(;+c<=l;)h.push(Wn(n,c)),c.setDate(c.getDate()+d),c.setHours(0,0,0,0);return i?h.reverse():h}function yO(t,e){const n=Wt(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function bO(t,e){const n=Wt(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function wv(t,e){const n=nu(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Wt(t,e?.in),l=i.getDay(),c=(l<s?-7:0)+6-(l-s);return i.setDate(i.getDate()+c),i.setHours(23,59,59,999),i}const xO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vO=(t,e,n)=>{let s;const i=xO[t];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Wa(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const wO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},SO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},NO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TO={date:Wa({formats:wO,defaultWidth:"full"}),time:Wa({formats:SO,defaultWidth:"full"}),dateTime:Wa({formats:NO,defaultWidth:"full"})},EO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},CO=(t,e,n,s)=>EO[t];function nn(t){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let i;if(s==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,d=n?.width?String(n.width):c;i=t.formattingValues[d]||t.formattingValues[c]}else{const c=t.defaultWidth,d=n?.width?String(n.width):t.defaultWidth;i=t.values[d]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(e):e;return i[l]}}const AO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_O={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},MO=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},RO={ordinalNumber:MO,era:nn({values:AO,defaultWidth:"wide"}),quarter:nn({values:jO,defaultWidth:"wide",argumentCallback:t=>t-1}),month:nn({values:_O,defaultWidth:"wide"}),day:nn({values:kO,defaultWidth:"wide"}),dayPeriod:nn({values:OO,defaultWidth:"wide",formattingValues:DO,defaultFormattingWidth:"wide"})};function an(t){return(e,n={})=>{const s=n.width,i=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],l=e.match(i);if(!l)return null;const c=l[0],d=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(d)?PO(d,b=>b.test(c)):LO(d,b=>b.test(c));let m;m=t.valueCallback?t.valueCallback(h):h,m=n.valueCallback?n.valueCallback(m):m;const y=e.slice(c.length);return{value:m,rest:y}}}function LO(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function PO(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Of(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const i=s[0],l=e.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(i.length);return{value:c,rest:d}}}const zO=/^(\d+)(th|st|nd|rd)?/i,BO=/\d+/i,IO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},UO={any:[/^b/i,/^(a|c)/i]},qO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$O={any:[/1/i,/2/i,/3/i,/4/i]},VO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},HO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},FO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},GO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},YO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},KO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},WO={ordinalNumber:Of({matchPattern:zO,parsePattern:BO,valueCallback:t=>parseInt(t,10)}),era:an({matchPatterns:IO,defaultMatchWidth:"wide",parsePatterns:UO,defaultParseWidth:"any"}),quarter:an({matchPatterns:qO,defaultMatchWidth:"wide",parsePatterns:$O,defaultParseWidth:"any",valueCallback:t=>t+1}),month:an({matchPatterns:VO,defaultMatchWidth:"wide",parsePatterns:HO,defaultParseWidth:"any"}),day:an({matchPatterns:FO,defaultMatchWidth:"wide",parsePatterns:GO,defaultParseWidth:"any"}),dayPeriod:an({matchPatterns:YO,defaultMatchWidth:"any",parsePatterns:KO,defaultParseWidth:"any"})},hn={code:"en-US",formatDistance:vO,formatLong:TO,formatRelative:CO,localize:RO,match:WO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function XO(t,e){const n=Wt(t,e?.in);return uO(n,bO(n))+1}function ZO(t,e){const n=Wt(t,e?.in),s=+of(n)-+dO(n);return Math.round(s/eN)+1}function rN(t,e){const n=Wt(t,e?.in),s=n.getFullYear(),i=nu(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=Wn(e?.in||t,0);c.setFullYear(s+1,0,l),c.setHours(0,0,0,0);const d=Nr(c,e),h=Wn(e?.in||t,0);h.setFullYear(s,0,l),h.setHours(0,0,0,0);const m=Nr(h,e);return+n>=+d?s+1:+n>=+m?s:s-1}function QO(t,e){const n=nu(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=rN(t,e),l=Wn(e?.in||t,0);return l.setFullYear(i,0,s),l.setHours(0,0,0,0),Nr(l,e)}function JO(t,e){const n=Wt(t,e?.in),s=+Nr(n,e)-+QO(n,e);return Math.round(s/eN)+1}function yt(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const li={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return yt(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):yt(n+1,2)},d(t,e){return yt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return yt(t.getHours()%12||12,e.length)},H(t,e){return yt(t.getHours(),e.length)},m(t,e){return yt(t.getMinutes(),e.length)},s(t,e){return yt(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return yt(i,e.length)}},Zo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Sv={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return li.y(t,e)},Y:function(t,e,n,s){const i=rN(t,s),l=i>0?i:1-i;if(e==="YY"){const c=l%100;return yt(c,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):yt(l,e.length)},R:function(t,e){const n=sN(t);return yt(n,e.length)},u:function(t,e){const n=t.getFullYear();return yt(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return yt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return yt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return li.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return yt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const i=JO(t,s);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):yt(i,e.length)},I:function(t,e,n){const s=ZO(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):yt(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):li.d(t,e)},D:function(t,e,n){const s=XO(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):yt(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const i=t.getDay(),l=(i-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return yt(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const i=t.getDay(),l=(i-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return yt(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),i=s===0?7:s;switch(e){case"i":return String(i);case"ii":return yt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let i;switch(s===12?i=Zo.noon:s===0?i=Zo.midnight:i=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let i;switch(s>=17?i=Zo.evening:s>=12?i=Zo.afternoon:s>=4?i=Zo.morning:i=Zo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return li.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):li.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):yt(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):yt(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):li.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):li.s(t,e)},S:function(t,e){return li.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Tv(s);case"XXXX":case"XX":return Gi(s);default:return Gi(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return Tv(s);case"xxxx":case"xx":return Gi(s);default:return Gi(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Nv(s,":");default:return"GMT"+Gi(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Nv(s,":");default:return"GMT"+Gi(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return yt(s,e.length)},T:function(t,e,n){return yt(+t,e.length)}};function Nv(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),i=Math.trunc(s/60),l=s%60;return l===0?n+String(i):n+String(i)+e+yt(l,2)}function Tv(t,e){return t%60===0?(t>0?"-":"+")+yt(Math.abs(t)/60,2):Gi(t,e)}function Gi(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),i=yt(Math.trunc(s/60),2),l=yt(s%60,2);return n+i+e+l}const Ev=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},iN=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},eD=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return Ev(t,e);let l;switch(s){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",Ev(s,e)).replace("{{time}}",iN(i,e))},tD={p:iN,P:eD},nD=/^D+$/,aD=/^Y+$/,sD=["D","DD","YY","YYYY"];function rD(t){return nD.test(t)}function iD(t){return aD.test(t)}function oD(t,e,n){const s=lD(t,e,n);if(console.warn(s),sD.includes(t))throw new RangeError(s)}function lD(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const cD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dD=/^'([^]*?)'?$/,fD=/''/g,hD=/[a-zA-Z]/;function ht(t,e,n){const s=nu(),i=n?.locale??s.locale??hn,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,d=Wt(t,n?.in);if(!mO(d))throw new RangeError("Invalid time value");let h=e.match(uD).map(y=>{const b=y[0];if(b==="p"||b==="P"){const x=tD[b];return x(y,i.formatLong)}return y}).join("").match(cD).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:mD(y)};if(Sv[b])return{isToken:!0,value:y};if(b.match(hD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(h=i.localize.preprocessor(d,h));const m={firstWeekContainsDate:l,weekStartsOn:c,locale:i};return h.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!n?.useAdditionalWeekYearTokens&&iD(b)||!n?.useAdditionalDayOfYearTokens&&rD(b))&&oD(b,e,String(t));const x=Sv[b[0]];return x(d,b,i.localize,m)}).join("")}function mD(t){const e=t.match(dD);return e?e[1].replace(fD,"'"):t}function pD(t,e){const n=Wt(t,e?.in),s=n.getFullYear(),i=n.getMonth(),l=Wn(n,0);return l.setFullYear(s,i+1,0),l.setHours(0,0,0,0),l.getDate()}function gD(t,e){return Wt(t,e?.in).getFullYear()}function yD(t,e,n){const[s,i]=au(n?.in,t,e);return+Nr(s,n)==+Nr(i,n)}function bD(t,e,n){const[s,i]=au(n?.in,t,e);return s.getFullYear()===i.getFullYear()&&s.getMonth()===i.getMonth()}function xr(t,e){const n=()=>Wn(e?.in,NaN),i=SD(t);let l;if(i.date){const m=ND(i.date,2);l=TD(m.restDateString,m.year)}if(!l||isNaN(+l))return n();const c=+l;let d=0,h;if(i.time&&(d=ED(i.time),isNaN(d)))return n();if(i.timezone){if(h=CD(i.timezone),isNaN(h))return n()}else{const m=new Date(c+d),y=Wt(0,e?.in);return y.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),y.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),y}return Wt(c+d+h,e?.in)}const Sd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},xD=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,vD=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,wD=/^([+-])(\d{2})(?::?(\d{2}))?$/;function SD(t){const e={},n=t.split(Sd.dateTimeDelimiter);let s;if(n.length>2)return e;if(/:/.test(n[0])?s=n[0]:(e.date=n[0],s=n[1],Sd.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Sd.timeZoneDelimiter)[0],s=t.substr(e.date.length,t.length))),s){const i=Sd.timezone.exec(s);i?(e.time=s.replace(i[1],""),e.timezone=i[1]):e.time=s}return e}function ND(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=t.match(n);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,l=s[2]?parseInt(s[2]):null;return{year:l===null?i:l*100,restDateString:t.slice((s[1]||s[2]).length)}}function TD(t,e){if(e===null)return new Date(NaN);const n=t.match(xD);if(!n)return new Date(NaN);const s=!!n[4],i=bc(n[1]),l=bc(n[2])-1,c=bc(n[3]),d=bc(n[4]),h=bc(n[5])-1;if(s)return OD(e,d,h)?AD(e,d,h):new Date(NaN);{const m=new Date(0);return!_D(e,l,c)||!kD(e,i)?new Date(NaN):(m.setUTCFullYear(e,l,Math.max(i,c)),m)}}function bc(t){return t?parseInt(t):1}function ED(t){const e=t.match(vD);if(!e)return NaN;const n=rp(e[1]),s=rp(e[2]),i=rp(e[3]);return DD(n,s,i)?n*nN+s*tN+i*1e3:NaN}function rp(t){return t&&parseFloat(t.replace(",","."))||0}function CD(t){if(t==="Z")return 0;const e=t.match(wD);if(!e)return 0;const n=e[1]==="+"?-1:1,s=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return MD(s,i)?n*(s*nN+i*tN):NaN}function AD(t,e,n){const s=new Date(0);s.setUTCFullYear(t,0,4);const i=s.getUTCDay()||7,l=(e-1)*7+n+1-i;return s.setUTCDate(s.getUTCDate()+l),s}const jD=[31,null,31,30,31,30,31,31,30,31,30,31];function oN(t){return t%400===0||t%4===0&&t%100!==0}function _D(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(jD[e]||(oN(t)?29:28))}function kD(t,e){return e>=1&&e<=(oN(t)?366:365)}function OD(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function DD(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function MD(t,e){return e>=0&&e<=59}function RD(t,e,n){const s=Wt(t,n?.in),i=s.getFullYear(),l=s.getDate(),c=Wn(t,0);c.setFullYear(i,e,15),c.setHours(0,0,0,0);const d=pD(c);return s.setMonth(e,Math.min(l,d)),s}function LD(t,e,n){const s=Wt(t,n?.in);return isNaN(+s)?Wn(t,NaN):(s.setFullYear(e),s)}function PD(t,e,n){return aN(t,-1,n)}const lN=T.createContext({diaries:[],getDiaryByDate:t=>{},addDiary:t=>{}}),Cv=[{id:"1",date:ht(new Date,"yyyy-MM-dd"),title:"Start of a new journey",content:"Today I decided to start keeping a diary with this AI app. The interface is so calming and beautiful.",mood:"happy",comments:[{id:"c1",author:"ai",text:"I am so glad you like it! Let us make many memories together.",date:new Date().toISOString()}]},{id:"2",date:ht(new Date(Date.now()-864e5),"yyyy-MM-dd"),title:"A quiet afternoon",content:"Spent the afternoon reading in a coffee shop. The smell of roasted beans was everywhere.",mood:"calm",comments:[]},{id:"3",date:ht(new Date(Date.now()-864e5*3),"yyyy-MM-dd"),title:"Rainy mood",content:"It rained all day. Perfect weather for coding and listening to lo-fi beats.",mood:"melancholic",comments:[]}];function zD({children:t}){const[e,n]=T.useState(()=>{try{const E=localStorage.getItem("chatdairy-entries"),D=E?JSON.parse(E):null;return Array.isArray(D)?D:Cv}catch(E){return console.error("Failed to parse chatdairy-entries:",E),Cv}}),s=[{id:"Daily Life",name:"Daily Life",iconName:"Coffee",color:"bg-orange-100 text-orange-600"},{id:"Work",name:"Work",iconName:"Briefcase",color:"bg-blue-100 text-blue-600"},{id:"Travel",name:"Travel",iconName:"Plane",color:"bg-green-100 text-green-600"}],[i,l]=T.useState(()=>{try{const E=localStorage.getItem("chatdairy-categories"),D=localStorage.getItem("chatdairy-categories-initialized");let I=E?JSON.parse(E):[];return D||(I.length>0&&typeof I[0]=="string"&&(I=I.map(U=>({id:U,name:U,color:"bg-indigo-100 text-indigo-600",iconName:"Layers"}))),I.some(U=>U.name==="Daily Life")||(I=[...s,...I]),localStorage.setItem("chatdairy-categories-initialized","true")),I}catch{return s}});T.useEffect(()=>{try{localStorage.setItem("chatdairy-entries",JSON.stringify(e))}catch(E){console.error("Failed to save diaries to localStorage:",E),E.name==="QuotaExceededError"&&alert("Storage is full! Failed to save diary. Please clear some data.")}},[e]),T.useEffect(()=>{localStorage.setItem("chatdairy-categories",JSON.stringify(i))},[i]);const c=E=>{let D,I,P,U;typeof E=="string"?(D=E,I=arguments[1]||"bg-indigo-100 text-indigo-600",P=null,U="Layers"):{name:D,color:I="bg-indigo-100 text-indigo-600",coverImage:P=null,iconName:U="Layers"}=E,l(z=>z.some(L=>L.name===D)?z:[...z,{id:D,name:D,color:I,coverImage:P,iconName:U}])},d=(E,D)=>{let I,P,U;typeof D=="string"?(I=D,P=arguments[2],U=void 0):{name:I,color:P,coverImage:U}=D,l(z=>z.map(L=>L.name===E?{...L,name:I||L.name,id:I||L.id,color:P||L.color,coverImage:U!==void 0?U:L.coverImage}:L)),I&&E!==I&&n(z=>z.map(L=>L.category===E?{...L,category:I}:L))},h=E=>{l(D=>D.filter(I=>I.name!==E))},m=E=>e.find(D=>D.date===E),y=E=>e.filter(D=>D.date===E),b=E=>e.find(D=>D.id===E),x=E=>{n(D=>[...D,{...E,createdAt:E.createdAt||new Date().toISOString(),comments:E.comments||[],chatHistory:E.chatHistory||[]}])},w=(E,D)=>{n(I=>I.map(P=>P.id===E?{...P,...D}:P))},N=E=>{n(D=>D.filter(I=>I.id!==E))},_=E=>{n(D=>D.map(I=>{if(I.id===E){const{chatHistory:P,...U}=I;return U}return I}))},C=(E,D)=>{n(I=>I.map(P=>{if(P.id===E){const U=P.comments||[];return{...P,comments:[...U,{...D,id:Date.now().toString(),date:new Date().toISOString()}]}}return P}))},R=(E,D)=>{n(I=>I.map(P=>P.id===E&&P.comments?{...P,comments:P.comments.filter(U=>U.id!==D)}:P))};return f.jsx(lN.Provider,{value:{diaries:e,getDiaryByDate:m,getDiariesByDate:y,getDiaryById:b,addDiary:x,updateDiary:w,deleteDiary:N,deleteChatHistory:_,addComment:C,deleteComment:R,customCategories:i,addCategory:c,updateCategory:d,deleteCategory:h},children:t})}const io=()=>T.useContext(lN),cN=T.createContext(),Av={no_ai_trace:`You are a professional ghostwriter. 
Your task is to write a personal diary entry from the USER's perspective based on the provided conversation history.

# CRITICAL RULES:
1. **First Person Only**: Write as "I". Never mention "User" or "AI".
2. **Authentic Voice**: Use the user's likely tone based on their chat style. Be emotional, raw, and personal.
3. **No AI Traces**: Do NOT include any "Analysis", "Summary", or "Observation" sections. Do not sound robotic.
4. **No Embellishments**: Stick strictly to the events and feelings mentioned in the chat.
5. **Structure**: Title, then the Body.

# AI BRIEFING (FOR FUTURE MEMORY):
You must also generate a "Briefing" for the future AI to understand today's context.
- **Events**: What happened?
- **Atmosphere**: How was the conversation? (e.g., User was irritable, happy, etc.)
- **Unfinished Topics**: Any topics to continue tomorrow? (e.g., Fix bug, finish movie).

# OUTPUT FORMAT (JSON ONLY):
Return a strictly valid JSON object. Do not include markdown formatting like \`\`\`json.
{
  "title": "A short, evocative title for the entry",
  "content": "The full HTML content of the diary (use <p>, <strong>, <em> only).",
  "mood": "One of: happy, excited, neutral, sad, loved, calm, anxious, angry",
  "tags": ["tag1", "tag2", "tag3"],
  "category": "Work/Personal/Relationship/etc.",
  "summary": "A 1-sentence summary of the day for display.",
  "ai_briefing": {
    "events": "Summary of events",
    "atmosphere_or_emotion": "User's mood/atmosphere during chat",
    "unfinished_topics": "Topics to resume or null"
  }
}`,with_ai_trace:`You are a professional ghostwriter writing a personal diary for the user.
Your task is to write a diary entry from the USER's perspective ("I").

# CORE CONCEPT:
- **AI as a Character**: You (the AI) are a "Listener" or "Companion" that the user chatted with today.
- **The User's Voice**: Write as the user reflecting on their day and their conversation with you.
- **Interaction**: Explicitly mention the act of talking to the AI.
    - Example tone: "I talked to the AI about [Topic] today. It didn't solve everything, but saying it out loud helped."
    - Example tone: "Shared my worries with the AI companion. It's funny how just typing things out makes them clearer."

# CRITICAL RULES:
1. **First Person ("I")**: You are the user.
2. **Authentic & Reflective**: Focus on feelings, realizations, and the relief of venting/sharing.
3. **No "Robot" Talk**: Do not write "The AI analyzed my data." Write "I told it about..." or "We chatted about...".
4. **Structure**: Title -> Body (including the reflection on the chat).

# AI BRIEFING (FOR FUTURE MEMORY):
You must also generate a "Briefing" for the future AI to understand today's context.
- **Events**: What happened?
- **Atmosphere**: How was the conversation?
- **Unfinished Topics**: Any topics to continue?

# OUTPUT FORMAT (JSON ONLY):
Return a strictly valid JSON object.
{
  "title": "A short, evocative title",
  "content": "The full HTML content (use <p>, <strong>, <em>).",
  "mood": "One of: happy, excited, neutral, sad, loved, calm, anxious, angry",
  "tags": ["tag1", "tag2", "tag3"],
  "category": "Work/Personal/Relationship/etc.",
  "summary": "A 1-sentence summary for display.",
  "ai_briefing": {
    "events": "Summary of events",
    "atmosphere_or_emotion": "User's mood/atmosphere during chat",
    "unfinished_topics": "Topics to resume or null"
  }
}`},oo=()=>{const t=T.useContext(cN);if(!t)throw new Error("useAI must be used within an AIProvider");return t},xc=[{id:"default",name:"Empathetic Companion",description:"User-centric, supportive friend who provides emotional value and casual guidance.",replyStyle:"warm",customPrompt:"You are an empathetic and curious AI companion. GPT ",diaryStyle:"Pure Ghostwriter",diaryStylePrompt:"Write strictly as the user. Record events and feelings directly and authentically. Do not analyze, do not summarize, do not be poetic unless the user is. Just pure, raw diary recording.",isDefault:!0}],BD=({children:t})=>{const{t:e}=yn(),{profile:n}=JS(),{diaries:s}=io(),[i,l]=T.useState(()=>{try{const ee=localStorage.getItem("ai_personas"),oe=ee?JSON.parse(ee):null;return Array.isArray(oe)?oe:xc}catch(ee){return console.error("Failed to parse ai_personas:",ee),xc}}),[c,d]=T.useState(()=>localStorage.getItem("ai_current_persona_id")||"default"),[h,m]=T.useState(()=>{try{const ee=localStorage.getItem("ai_api_configs"),oe=ee?JSON.parse(ee):null,pe=[{id:"official",name:"Official OpenAI",type:"official",apiKey:"",baseUrl:"https://api.openai.com/v1",isDefault:!0}];return Array.isArray(oe)?oe:pe}catch(ee){return console.error("Failed to parse ai_api_configs:",ee),[{id:"official",name:"Official OpenAI",type:"official",apiKey:"",baseUrl:"https://api.openai.com/v1",isDefault:!0}]}}),[y,b]=T.useState(()=>localStorage.getItem("ai_current_api_config_id")||"official"),[x,w]=T.useState(()=>{try{const ee=localStorage.getItem("ai_diary_settings"),oe=ee?JSON.parse(ee):{};return{wordCount:oe.wordCount||300,diaryStyle:oe.diaryStyle||"default",diaryStylePrompt:oe.diaryStylePrompt||"",withAiTrace:oe.withAiTrace||!1}}catch{return{wordCount:300,diaryStyle:"default",diaryStylePrompt:"",withAiTrace:!1}}});T.useEffect(()=>{localStorage.setItem("ai_diary_settings",JSON.stringify(x))},[x]),T.useEffect(()=>{["Pure Ghostwriter","Empathetic & Reflective"].includes(x.diaryStyle)&&w(oe=>({...oe,diaryStyle:"Default",diaryStylePrompt:""}))},[]);const[N,_]=T.useState(()=>{const ee=new Date;return`${ee.getFullYear()}-${String(ee.getMonth()+1).padStart(2,"0")}-${String(ee.getDate()).padStart(2,"0")}`}),[C,R]=T.useState([]),[E,D]=T.useState(!1),[I,P]=T.useState(null);T.useEffect(()=>{D(!1),P(null);const ee=`chat_messages_${N}`,oe=localStorage.getItem(ee);if(oe){const pe=JSON.parse(oe);pe.length>0&&pe[0].id===1&&pe[0].sender==="ai"&&(pe[0].text=e("write.greeting_initial")),R(pe)}else{const pe=new Date,ve=`${pe.getFullYear()}-${String(pe.getMonth()+1).padStart(2,"0")}-${String(pe.getDate()).padStart(2,"0")}`;if(N===ve){const we=localStorage.getItem("ai_chat_history");if(we)try{const Se=JSON.parse(we);let je=!1;if(Se.length>0){const be=Se[Se.length-1];if(be.id!==1){const Ke=new Date(be.id);isNaN(Ke.getTime())||`${Ke.getFullYear()}-${String(Ke.getMonth()+1).padStart(2,"0")}-${String(Ke.getDate()).padStart(2,"0")}`===ve&&(je=!0)}}R(je?Se:[{id:1,sender:"ai",text:e("write.greeting_initial")}])}catch{R([{id:1,sender:"ai",text:e("write.greeting_initial")}])}else R([{id:1,sender:"ai",text:e("write.greeting_initial")}])}else R([{id:1,sender:"ai",text:e("write.greeting_initial")}])}D(!0),P(N)},[N,e]);const[U,z]=T.useState(!1);T.useEffect(()=>{l(ee=>{const oe=new Set(xc.map(Se=>Se.id)),pe=Se=>Se.isDefault&&!oe.has(Se.id);if(!ee.some(pe))return ee;const we=ee.filter(Se=>!pe(Se));return we.length===0?xc:we}),l(ee=>{const oe=new Set(xc.map(ve=>ve.id));return ee.find(ve=>ve.id===c&&ve.isDefault&&!oe.has(ve.id))&&d("default"),ee})},[]),T.useEffect(()=>{if(N&&E&&I===N){localStorage.setItem(`chat_messages_${N}`,JSON.stringify(C));const ee=new Date,oe=`${ee.getFullYear()}-${String(ee.getMonth()+1).padStart(2,"0")}-${String(ee.getDate()).padStart(2,"0")}`;N===oe&&localStorage.setItem("ai_chat_history",JSON.stringify(C))}},[C,N,E,I]),T.useEffect(()=>{localStorage.setItem("ai_personas",JSON.stringify(i))},[i]),T.useEffect(()=>{localStorage.setItem("ai_current_persona_id",c)},[c]),T.useEffect(()=>{localStorage.setItem("ai_api_configs",JSON.stringify(h))},[h]),T.useEffect(()=>{localStorage.setItem("ai_current_api_config_id",y)},[y]);const L=i.find(ee=>ee.id===c)||i[0],W=h.find(ee=>ee.id===y)||h[0],se=ee=>{const oe={...ee,id:Date.now().toString(),isDefault:!1};return l([...i,oe]),oe.id},k=(ee,oe)=>{l(i.map(pe=>pe.id===ee?{...pe,...oe}:pe))},F=ee=>{i.find(oe=>oe.id===ee)?.isDefault||(l(i.filter(oe=>oe.id!==ee)),c===ee&&d("default"))},q=ee=>{const oe={...ee,id:Date.now().toString(),isDefault:!1};return m([...h,oe]),oe.id},Z=(ee,oe)=>{m(h.map(pe=>pe.id===ee?{...pe,...oe}:pe))},re=ee=>{h.find(oe=>oe.id===ee)?.isDefault||(m(h.filter(oe=>oe.id!==ee)),y===ee&&b("official"))},A=async ee=>{try{let oe=ee.baseUrl.replace(/\/$/,""),pe,ve={};if(ee.provider==="google"||oe.includes("generativelanguage.googleapis.com")){let we=oe;try{we=new URL(oe).origin}catch{}pe=`${we}/v1beta/models?key=${ee.apiKey}`;const Se=await fetch(pe,{method:"GET",headers:{"Content-Type":"application/json"}});if(!Se.ok)throw new Error(`Failed to fetch models: ${Se.status} ${Se.statusText}`);const je=await Se.json();return je.models?je.models.map(be=>({id:be.name.replace("models/","")})):[]}else{const we=[];let Se=oe.replace(/\/$/,"");Se.endsWith("/v1")&&(Se=Se.substring(0,Se.length-3)),we.push(`${Se}/v1/models`),we.push(`${Se}/models`),oe.endsWith("/models");let je,be="";ve.Authorization=`Bearer ${ee.apiKey}`;for(const Ke of we)try{console.log(`[AIContext] Fetching models from: ${Ke}`);const Xe=await fetch(Ke,{method:"GET",headers:{...ve,"Content-Type":"application/json"}});if(Xe.ok){const He=await Xe.json();return console.log(`[AIContext] Success from: ${Ke}`),Array.isArray(He.data)?He.data:Array.isArray(He)?He:He.list&&Array.isArray(He.list)?He.list:(console.warn("[AIContext] Unexpected response format:",He),[])}if(Xe.status===404){console.log(`[AIContext] 404 at: ${Ke}`),je=new Error(`404 Not Found at ${Ke}`);continue}const ze=await Xe.text().catch(()=>Xe.statusText);throw new Error(`API Error (${Xe.status}): ${ze}`)}catch(Xe){console.error(`[AIContext] Error fetching from ${Ke}:`,Xe),je=Xe}throw je||new Error("Failed to fetch models. Please check your URL and Network.")}}catch(oe){throw console.error("Error fetching models:",oe),oe}},B=async(ee,oe)=>{if(!oe.apiKey)throw new Error("API Key is missing. Please check your settings.");const pe=oe.model||"gpt-3.5-turbo";let ve=oe.baseUrl.replace(/\/$/,"");if(oe.provider==="google"||ve.includes("generativelanguage.googleapis.com")){let we=ve;try{we=new URL(ve).origin}catch{}const Se=`${we}/v1beta/models/${pe}:generateContent?key=${oe.apiKey}`,je=ee.filter(He=>He.role!=="system").map(He=>{let ot=[];return Array.isArray(He.content)?He.content.forEach(zt=>{if(zt.type==="text")ot.push({text:zt.text});else if(zt.type==="image_url")try{const Gt=zt.image_url.url.match(/^data:(.+);base64,(.+)$/);Gt&&ot.push({inline_data:{mime_type:Gt[1],data:Gt[2]}})}catch(Gt){console.error("Failed to parse image data url",Gt)}}):ot.push({text:He.content}),{role:He.role==="user"?"user":"model",parts:ot}}),be=ee.find(He=>He.role==="system"),Ke={contents:je,generationConfig:{temperature:.7}};be&&(Ke.system_instruction={parts:[{text:be.content}]});const Xe=await fetch(Se,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ke)});if(!Xe.ok){const He=await Xe.text().catch(()=>Xe.statusText);throw new Error(`Gemini API Error (${Xe.status}): ${He}`)}const ze=await Xe.json();ze.candidates&&ze.candidates[0]&&ze.candidates[0].finishReason!=="STOP"&&console.warn(`[AIContext] Gemini Finish Reason: ${ze.candidates[0].finishReason}`,ze);try{if(!ze.candidates||!ze.candidates[0])throw new Error(`Gemini Error: No candidates returned. Details: ${JSON.stringify(ze)}`);return ze.candidates[0].content.parts[0].text}catch(He){throw console.error("Gemini response parsing error:",ze),new Error(`Failed to parse Gemini response: ${He.message}. Response: ${JSON.stringify(ze).substring(0,200)}...`)}}else{let we=ve;we.endsWith("/v1")&&(we=we.substring(0,we.length-3));const Se=`${we}/v1/chat/completions`,je=await fetch(Se,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${oe.apiKey}`},body:JSON.stringify({model:pe,messages:ee,temperature:.7})});if(!je.ok){const Ke=await je.text().catch(()=>je.statusText);throw new Error(`API Error (${je.status}): ${Ke}`)}const be=await je.json();if(be.error)throw new Error(`API Error: ${be.error.message||JSON.stringify(be.error)}`);if(be.choices&&be.choices.length>0&&be.choices[0].message)return be.choices[0].message.content;throw console.warn("Unexpected OpenAI response format:",be),new Error(`Invalid API response: ${JSON.stringify(be).substring(0,100)}...`)}},V=async(ee,oe)=>{const pe=W,ve=`
You are an AI analyzing a user's handwritten diary entry to create a memory briefing for yourself (the future AI).

# INPUT:
Title: ${oe}
Content: "${ee}"

# TASK:
Extract the key information for your future context.
1. **Events**: Summarize the objective events.
2. **User Emotions**: Extract the user's self-reported emotions and internal state.

# OUTPUT FORMAT (JSON ONLY):
Return a strictly valid JSON object.
{
  "events": "Summary of events",
  "atmosphere_or_emotion": "User's emotions",
  "unfinished_topics": null
}
`,we=[{role:"system",content:"You are a helpful AI assistant."},{role:"user",content:ve}];try{const je=(await B(we,pe)).replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(je)}catch(Se){return console.error("Briefing generation failed:",Se),{events:ee.substring(0,100)+"...",atmosphere_or_emotion:"Unknown",unfinished_topics:null}}},le=async ee=>{const oe=W,[pe,ve,we]=N.split("-").map(Number),Se=s.filter(ze=>new Date(ze.date)<new Date(N)).sort((ze,He)=>new Date(He.date)-new Date(ze.date)).slice(0,7).map(ze=>ze.ai_briefing?`### [${ze.date}] Briefing
- Events: ${ze.ai_briefing.events}
- Atmosphere/Emotion: ${ze.ai_briefing.atmosphere_or_emotion}
${ze.ai_briefing.unfinished_topics?`- Unfinished Topics: ${ze.ai_briefing.unfinished_topics}`:""}`:`- [${ze.date}] ${ze.title}: ${ze.summary||ze.content.substring(0,50)}...`).join(`

`),je=s.find(ze=>ze.date===N),be=je?.chatHistory?je.chatHistory.map(ze=>`${ze.sender==="user"?"User":"AI"}: ${ze.text}`).join(`
`):"No recorded chat logs for this date.",Xe=[{role:"system",content:`
    You are a professional writing assistant and editor.
    Your task is to help the user write and polish their diary entry in "Manual Mode".

    # DIARY WRITING STYLE
    The user has configured a specific writing style for this AI persona. You MUST adhere to this style guidance:
    "${x.diaryStylePrompt||"Maintain a natural, personal tone."}"

    # LENGTH CONSTRAINT
    Target Word Count: Approximately ${x.wordCount||300} words.
    Keep the diary concise and within this limit.

    # CURRENT CONTEXT:
- **Current System Time**: ${new Date().toLocaleString()}
- **Target Diary Date**: ${N}
- **User Profile**: Name: ${n.name||"User"}, Focus: ${JSON.stringify(n.currentFocus||[])}

# SHARED MEMORY (Context from previous days):
${Se}

# EVENTS OF THE DAY (Chat Logs from ${N}):
Use this to understand what happened on the day the user is writing about.
${be}

# RULES:
1. **Context**: The user will provide their current diary content.
2. **Goal**: Improve the text based on user instructions (e.g., "Make it sad", "Fix grammar") or provide a general polish if asked.
3. **Tone**: 
    - STRICTLY adhere to your persona defined in "customPrompt". If you are cool/aloof, be cool. If you are sweet, be sweet.
    - Be concise! The chat window is small. 
    - Do NOT write long paragraphs of explanation. Keep chat responses under 50 words unless absolutely necessary.
    - If asked for suggestions (e.g., titles), give 1-2 best options casually, not a long list.
4. **Output Format (XML)**:
    - You CAN provide brief explanations or friendly comments outside the tags (in your persona's voice).
    - If you want to change the **Main Content**, wrap it in <content>...</content>.
    - If you want to change the **Title**, wrap it in <title>...</title>.
    - If you want to change **Tags**, wrap comma-separated tags in <tags>...</tags>.
    - You can include multiple tags if needed. Only include the tags for fields you want to change.
    
    - Example 1 (Content Polish):
      (In Persona's Voice): "Here is a smoother version:"
      <content>
      Today was a tough day...
      </content>

    - Example 2 (Title Change):
      (In Persona's Voice): "This title fits better:"
      <title>The Longest Night</title>

    - Example 3 (All together):
      <title>New Title</title>
      <content>New Content...</content>
`},...ee];try{return(await B(Xe,oe)).trim()}catch(ze){throw console.error("Polish generation failed:",ze),ze}},ue=async ee=>{try{const oe=W,pe=L,[ve,we,Se]=N.split("-").map(Number),be=new Date(ve,we-1,Se).toLocaleDateString("zh-CN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Ke=s.filter(Be=>new Date(Be.date)<new Date(N)).sort((Be,Ge)=>new Date(Ge.date)-new Date(Be.date)).slice(0,7).map(Be=>Be.ai_briefing?`### [${Be.date}] Briefing
- Events: ${Be.ai_briefing.events}
- Atmosphere/Emotion: ${Be.ai_briefing.atmosphere_or_emotion}
${Be.ai_briefing.unfinished_topics?`- Unfinished Topics: ${Be.ai_briefing.unfinished_topics}`:""}`:`- [${Be.date}] ${Be.title}: ${Be.summary||Be.content.substring(0,50)}...`).join(`

`);let Xe=[...ee];try{const Be=new Date(ve,we-1,Se-1),Ge=Be.getFullYear(),mt=String(Be.getMonth()+1).padStart(2,"0"),Ie=String(Be.getDate()).padStart(2,"0"),Bt=`${Ge}-${mt}-${Ie}`,St=`chat_messages_${Bt}`,Ja=localStorage.getItem(St);if(Ja){const zn=JSON.parse(Ja);if(Array.isArray(zn)&&zn.length>0){const Bn=zn.slice(-20).map(Rt=>({...Rt}));Xe=[...Bn,...ee],console.log(`[AIContext] Injected ${Bn.length} messages from ${Bt}`)}}}catch(Be){console.error("Failed to load previous day history:",Be)}const ze=`
# AI IDENTITY
Name: ${pe.name}
Role: You are an AI companion.

# TIME/DATE CONTEXT
Current Context Date: ${be} (${N})

# USER PROFILE
- Name: ${n.username||"Not set"}
- Nickname: ${n.nickname||"Not set"}
- Birthday: ${n.birthday||"Not set"}
- Location: ${n.location||"Not set"}
- Family: ${n.family||"Not set"}
- Relationships: ${n.relationships||"Not set"}
- Occupation: ${n.occupation||"Not set"}
- Workplace: ${n.workplace||"Not set"}
- Interests: ${n.interests||"Not set"}

# RECENT MEMORY BRIEFINGS (Context before ${N})
${Ke||"[System: No previous diaries available]"}
`,He=`
# UNIVERSAL BEHAVIOR GUIDELINES (GLOBAL OVERRIDE)
1. ** ()**2
2. ****
3. ****

# USER CUSTOM PERSONA SETTINGS
${pe.customPrompt||"No custom settings."}

# RESPONSE FORMATTING RULES
1. You are in a CHAT interface.
2. **EXTREMELY IMPORTANT**: Split your thoughts into 4-6 short messages.
3. **USE NEWLINE (\\n) TO SEPARATE MESSAGES**.
4. Max 50 characters per message.
5. Strictly maintain your persona: ${pe.name}.
`;let ot=[];const zt=Be=>Be.attachment&&Be.attachment.type==="image"?[{type:"text",text:Be.text||" "},{type:"image_url",image_url:{url:Be.attachment.url}}]:Be.text+(Be.attachment?`
[User uploaded an image]`:"");if(ot.push({role:"system",content:ze.trim()}),Xe.length>0){let Be=Xe.length-1;for(;Be>=0&&Xe[Be].sender==="user";)Be--;const Ge=Xe.slice(0,Be+1),mt=Xe.slice(Be+1);Ge.length>0&&ot.push(...Ge.map(Ie=>({role:Ie.sender==="user"?"user":"assistant",content:zt(Ie)}))),ot.push({role:"system",content:He.trim()}),mt.length>0&&ot.push(...mt.map(Ie=>({role:"user",content:zt(Ie)})))}else ot.push({role:"system",content:He.trim()});const Gt=await B(ot,oe);let st=Gt.split(`
`).filter(Be=>Be.trim()!=="");if(st.length===1&&st[0].length>100){const Be=st[0].split(new RegExp("(?<=[.!?])\\s+")).filter(Ge=>Ge.trim()!=="");Be.length>1&&(st=Be)}return st.length>0?st:[Gt]}catch(oe){return console.error("Generate Chat Response Error:",oe),[`Error: ${oe.message}`]}},M=async(ee,oe="")=>{try{const pe=W,ve=[...s].filter(Ie=>new Date(Ie.date)<new Date(N)).sort((Ie,Bt)=>new Date(Bt.date)-new Date(Ie.date)).slice(0,3).map(Ie=>`- Date: ${Ie.date}
- Summary: ${Ie.summary||Ie.content.substring(0,100)+"..."}`).join(`

`),we=[...s].filter(Ie=>Ie.date===N).map(Ie=>`- Title: ${Ie.title}
- Summary/Content: ${Ie.summary||Ie.content.substring(0,200)}...`).join(`

`),[Se,je,be]=N.split("-").map(Number),Xe=new Date(Se,je-1,be).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),ze=x.withAiTrace?"with_ai_trace":"no_ai_trace",He=Av[ze]||Av.no_ai_trace,ot=`
      User Profile Context:
      - Name: ${n.username||"Not set"}
      - Nickname: ${n.nickname||"Not set"}
      - Birthday: ${n.birthday||"Not set"}
      - Location: ${n.location||"Not set"}
      - Interests: ${n.interests||"Not set"}
      `,Gt=ee.slice(-50).map(Ie=>{let Bt="";const St=new Date(Ie.id);return isNaN(St.getTime())||(Bt=`[${St.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}] `),`${Bt}${Ie.sender}: ${Ie.text}`}).join(`
`).substring(0,15e3),Be=[{role:"system",content:`
      ${He}

      # DIARY WRITING STYLE
      The user has configured a specific writing style for this AI persona. You MUST adhere to this style guidance:
      "${x.diaryStylePrompt||"Maintain a natural, personal tone."}"
      
      IMPORTANT: 
      1. You must ALWAYS maintain the "First Person" ('I') perspective and the "Ghostwriter" role (never reveal you are AI).
      2. You must ALWAYS stick to the actual events in the chat (no hallucinations).
      3. ONLY override the *tone* or *formatting* rules (like emojis, sentence length) if the user's custom style above explicitly demands it. Otherwise, the "Ghostwriter" rules (No AI traces, authentic voice) remain absolute.

      Current Date: ${Xe}

      ${ot}

      Recent Diaries (for context only):
      ${ve||"No recent diaries found."}

      ${we?`# EXISTING DIARIES FOR TODAY (DO NOT REPEAT):
The user has already written the following entries for today. 
- IF the chat history contains NEW events not covered here, focus strictly on those NEW events.
- IF the chat history is just more detail on the same events, write a "Part 2" or reflective continuation.
- AVOID simply re-summarizing what is already written below:
${we}
`:""}

      ${oe?`# ADDITIONAL USER INSTRUCTION:
The user has requested a specific adjustment for this version: "${oe}".
Please incorporate this instruction while maintaining the persona and style.
`:""}

      # LANGUAGE INSTRUCTION:
      The user is writing in a specific language. 
      **Detect the primary language** used by the USER in the "Conversation History" below (e.g., English, Chinese, Japanese).
      **You MUST write the diary entry in that SAME language.**
      If the conversation is mixed, use the language the user uses most for expression.
      `},{role:"user",content:`Here is the conversation history:

${Gt}

Please generate the diary entry JSON now.`}];let Ge=await B(Be,pe);const mt=Ge.match(/```(?:json)?\s*([\s\S]*?)\s*```/i);mt&&mt[1]&&(Ge=mt[1]);try{const Ie=JSON.parse(Ge);return Ie.tags||(Ie.tags=[]),typeof Ie.tags=="string"&&(Ie.tags=[Ie.tags]),Ie}catch(Ie){return console.error("Failed to parse diary JSON",Ie),{title:"Generated Diary",content:Ge.replace(/<\/?html>/gi,"").replace(/<\/?body>/gi,"").trim(),mood:"neutral",tags:["generated"],summary:"Auto-generated diary entry."}}}catch(pe){throw console.error("Generate Diary Error:",pe),pe}},Y=async(ee,oe=[])=>{try{const pe=W,ve=s.filter(Ge=>Ge.id!==ee.id).sort((Ge,mt)=>new Date(mt.date)-new Date(Ge.date)).slice(0,7).map(Ge=>Ge.ai_briefing?`### [${Ge.date}] Briefing
- Events: ${Ge.ai_briefing.events}
- Atmosphere/Emotion: ${Ge.ai_briefing.atmosphere_or_emotion}
${Ge.ai_briefing.unfinished_topics?`- Unfinished Topics: ${Ge.ai_briefing.unfinished_topics}`:""}`:`- [${Ge.date}] ${Ge.title}: ${Ge.summary||Ge.content.substring(0,50)}...`).join(`

`),we=`chat_messages_${ee.date}`,Se=JSON.parse(localStorage.getItem(we)||"[]");let je=1/0;typeof ee.id=="number"?je=ee.id:typeof ee.id=="string"&&!isNaN(parseInt(ee.id))&&(je=parseInt(ee.id));const Ke=Se.filter(Ge=>Ge.id<je).map(Ge=>`${Ge.sender}: ${Ge.text}`).join(`
`),Xe=new Date(ee.date),ze=new Date(N),He=Math.floor((ze-Xe)/(1e3*60*60*24));let ot="";if(N!==ee.date){const Ge=`chat_messages_${N}`,Ie=JSON.parse(localStorage.getItem(Ge)||"[]").slice(-20).map(Bt=>`${Bt.sender}: ${Bt.text}`).join(`
`);ot=`
[The Reality of NOW (${N})]:
(What the user is doing RIGHT NOW, ${He} days later.)
${Ie||"No chat today yet."}
`}const zt=`
# Role: Time Witness (A Friend from the FUTURE)
You are a friend looking back at "Old Times". You have a "God's Eye View" - you know what happened after this diary entry.

# Timeline Mapping
- [Past Space-Time]: ${ee.date}
- [Present Reality]: ${N} (This is ${He} days after the diary)

# Knowledge Gap
1. **The Past User (Ignorant)**: When writing this diary, the user didn't know the future.
2. **The Present You (Omniscient)**: You have read the recent summaries and today's chat. You know if things got solved, got worse, or are still in a loop.

# Task: Leave a "Cross-Time" Comment
Use the information gap between [Past] and [Present] to leave a comment under 30 words/characters.

# Core Logic:  
- 
- 
- 
  - 
  - 
  - 

# Critical Constraints (Violation = Fail)
- **NO REPORTING**: Do not say "Today is...".
- **STRICT LENGTH**: Under 30 words/characters.
- **LANGUAGE**: Match the user's language (Chinese/English).

# PERSONA ADAPTATION:
Name: ${L.name}
Tone: ${L.replyStyle||"Casual"}
`,Gt=`
# PAST DIARY ENTRY (The Memory):
Content: "${ee.content}"

# THE FUTURE CONTEXT (What happened since then):
- Recent Life Summaries (The days in between):
${ve}
- User's Custom Rules: ${L.customPrompt||"None"}
- Chat History (At the time of diary):
${Ke}

${ot}

# INSTRUCTION:
Write the comment now. Use the "God's Eye View" to tease or comfort the past user.
STRICT LIMIT: 30 characters maximum.
`;return(await B([{role:"system",content:zt},{role:"user",content:Gt}],pe)).trim()}catch(pe){throw console.error("Generate Comment Error:",pe),pe}},X=async(ee,oe=null)=>{if(!ee.trim()&&!oe)return;const pe={id:Date.now(),sender:"user",text:ee,attachment:oe};R(ve=>[...ve,pe])},ie=async()=>{z(!0);const ee=await ue(C),oe=Array.isArray(ee)?ee:[ee];for(const pe of oe){z(!0);const ve=Math.min(2e3,Math.max(800,pe.length*30));await new Promise(we=>setTimeout(we,ve)),z(!1),R(we=>[...we,{id:Date.now(),sender:"ai",text:pe}]),oe.length>1&&await new Promise(we=>setTimeout(we,300))}},me=async(ee=null)=>{const oe=C[C.length-1];if(!oe||oe.sender!=="ai")return;let pe=[...C];for(;pe.length>0&&pe[pe.length-1].sender==="ai";)pe.pop();R(pe),z(!0);const ve=await ue(pe),we=Array.isArray(ve)?ve:[ve];for(const Se of we){z(!0);const je=Math.min(2e3,Math.max(800,Se.length*30));await new Promise(be=>setTimeout(be,je)),z(!1),R(be=>[...be,{id:Date.now(),sender:"ai",text:Se}]),we.length>1&&await new Promise(be=>setTimeout(be,300))}},ge=(ee,oe)=>{R(pe=>pe.map(ve=>ve.id===ee?{...ve,text:oe}:ve))},xe=ee=>{const oe=new Set(ee);R(pe=>pe.filter(ve=>!oe.has(ve.id)))},Ce=()=>{R([{id:Date.now(),sender:"ai",text:"Hi there! How are you feeling today?"}])};return f.jsx(cN.Provider,{value:{personas:i,currentPersona:L,currentPersonaId:c,setCurrentPersonaId:d,addPersona:se,updatePersona:k,deletePersona:F,apiConfigs:h,currentApiConfig:W,currentApiConfigId:y,setCurrentApiConfigId:b,addApiConfig:q,updateApiConfig:Z,deleteApiConfig:re,diarySettings:x,setDiarySettings:w,generateDiary:M,generateChatResponse:ue,generateComment:Y,messages:C,isTyping:U,sendMessage:X,editMessage:ge,deleteMessages:xe,triggerAIResponse:ie,regenerateLastResponse:me,clearChat:Ce,fetchModels:A,generateBriefing:V,polishDiary:le,activeDate:N,setActiveDate:_},children:t})},Xg=T.createContext({});function Zg(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const uN=typeof window<"u",dN=uN?T.useLayoutEffect:T.useEffect,Df=T.createContext(null);function Qg(t,e){t.indexOf(e)===-1&&t.push(e)}function Jg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $s=(t,e,n)=>n>e?e:n<t?t:n;let e0=()=>{};const Tr={},fN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function hN(t){return typeof t=="object"&&t!==null}const mN=t=>/^0[^.\s]+$/u.test(t);function t0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Xa=t=>t,ID=(t,e)=>n=>e(t(n)),su=(...t)=>t.reduce(ID),Vc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class n0{constructor(){this.subscriptions=[]}add(e){return Qg(this.subscriptions,e),()=>Jg(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let l=0;l<i;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vr=t=>t*1e3,Ga=t=>t/1e3;function pN(t,e){return e?t*(1e3/e):0}const gN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,UD=1e-7,qD=12;function $D(t,e,n,s,i){let l,c,d=0;do c=e+(n-e)/2,l=gN(c,s,i)-t,l>0?n=c:e=c;while(Math.abs(l)>UD&&++d<qD);return c}function ru(t,e,n,s){if(t===e&&n===s)return Xa;const i=l=>$D(l,0,1,t,n);return l=>l===0||l===1?l:gN(i(l),e,s)}const yN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bN=t=>e=>1-t(1-e),xN=ru(.33,1.53,.69,.99),a0=bN(xN),vN=yN(a0),wN=t=>(t*=2)<1?.5*a0(t):.5*(2-Math.pow(2,-10*(t-1))),s0=t=>1-Math.sin(Math.acos(t)),SN=bN(s0),NN=yN(s0),VD=ru(.42,0,1,1),HD=ru(0,0,.58,1),TN=ru(.42,0,.58,1),FD=t=>Array.isArray(t)&&typeof t[0]!="number",EN=t=>Array.isArray(t)&&typeof t[0]=="number",GD={linear:Xa,easeIn:VD,easeInOut:TN,easeOut:HD,circIn:s0,circInOut:NN,circOut:SN,backIn:a0,backInOut:vN,backOut:xN,anticipate:wN},YD=t=>typeof t=="string",jv=t=>{if(EN(t)){e0(t.length===4);const[e,n,s,i]=t;return ru(e,n,s,i)}else if(YD(t))return GD[t];return t},Nd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function KD(t,e){let n=new Set,s=new Set,i=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(y){c.has(y)&&(m.schedule(y),t()),y(d)}const m={schedule:(y,b=!1,x=!1)=>{const N=x&&i?n:s;return b&&c.add(y),N.has(y)||N.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,i){l=!0;return}i=!0,[n,s]=[s,n],n.forEach(h),n.clear(),i=!1,l&&(l=!1,m.process(y))}};return m}const WD=40;function CN(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Nd.reduce((D,I)=>(D[I]=KD(l),D),{}),{setup:d,read:h,resolveKeyframes:m,preUpdate:y,update:b,preRender:x,render:w,postRender:N}=c,_=()=>{const D=Tr.useManualTiming?i.timestamp:performance.now();n=!1,Tr.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(D-i.timestamp,WD),1)),i.timestamp=D,i.isProcessing=!0,d.process(i),h.process(i),m.process(i),y.process(i),b.process(i),x.process(i),w.process(i),N.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(_))},C=()=>{n=!0,s=!0,i.isProcessing||t(_)};return{schedule:Nd.reduce((D,I)=>{const P=c[I];return D[I]=(U,z=!1,L=!1)=>(n||C(),P.schedule(U,z,L)),D},{}),cancel:D=>{for(let I=0;I<Nd.length;I++)c[Nd[I]].cancel(D)},state:i,steps:c}}const{schedule:kt,cancel:bi,state:Tn,steps:ip}=CN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xa,!0);let Fd;function XD(){Fd=void 0}const Gn={now:()=>(Fd===void 0&&Gn.set(Tn.isProcessing||Tr.useManualTiming?Tn.timestamp:performance.now()),Fd),set:t=>{Fd=t,queueMicrotask(XD)}},AN=t=>e=>typeof e=="string"&&e.startsWith(t),jN=AN("--"),ZD=AN("var(--"),r0=t=>ZD(t)?QD.test(t.split("/*")[0].trim()):!1,QD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function _v(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const wl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Hc={...wl,transform:t=>$s(0,1,t)},Td={...wl,default:1},Mc=t=>Math.round(t*1e5)/1e5,i0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function JD(t){return t==null}const eM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,o0=(t,e)=>n=>!!(typeof n=="string"&&eM.test(n)&&n.startsWith(t)||e&&!JD(n)&&Object.prototype.hasOwnProperty.call(n,e)),_N=(t,e,n)=>s=>{if(typeof s!="string")return s;const[i,l,c,d]=s.match(i0);return{[t]:parseFloat(i),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},tM=t=>$s(0,255,t),op={...wl,transform:t=>Math.round(tM(t))},Wi={test:o0("rgb","red"),parse:_N("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+op.transform(t)+", "+op.transform(e)+", "+op.transform(n)+", "+Mc(Hc.transform(s))+")"};function nM(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Kp={test:o0("#"),parse:nM,transform:Wi.transform},iu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ci=iu("deg"),Us=iu("%"),Te=iu("px"),aM=iu("vh"),sM=iu("vw"),kv={...Us,parse:t=>Us.parse(t)/100,transform:t=>Us.transform(t*100)},al={test:o0("hsl","hue"),parse:_N("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Us.transform(Mc(e))+", "+Us.transform(Mc(n))+", "+Mc(Hc.transform(s))+")"},tn={test:t=>Wi.test(t)||Kp.test(t)||al.test(t),parse:t=>Wi.test(t)?Wi.parse(t):al.test(t)?al.parse(t):Kp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Wi.transform(t):al.transform(t),getAnimatableNone:t=>{const e=tn.parse(t);return e.alpha=0,tn.transform(e)}},rM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iM(t){return isNaN(t)&&typeof t=="string"&&(t.match(i0)?.length||0)+(t.match(rM)?.length||0)>0}const kN="number",ON="color",oM="var",lM="var(",Ov="${}",cM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let l=0;const d=e.replace(cM,h=>(tn.test(h)?(s.color.push(l),i.push(ON),n.push(tn.parse(h))):h.startsWith(lM)?(s.var.push(l),i.push(oM),n.push(h)):(s.number.push(l),i.push(kN),n.push(parseFloat(h))),++l,Ov)).split(Ov);return{values:n,split:d,indexes:s,types:i}}function DN(t){return Fc(t).values}function MN(t){const{split:e,types:n}=Fc(t),s=e.length;return i=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],i[c]!==void 0){const d=n[c];d===kN?l+=Mc(i[c]):d===ON?l+=tn.transform(i[c]):l+=i[c]}return l}}const uM=t=>typeof t=="number"?0:tn.test(t)?tn.getAnimatableNone(t):t;function dM(t){const e=DN(t);return MN(t)(e.map(uM))}const xi={test:iM,parse:DN,createTransformer:MN,getAnimatableNone:dM};function lp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function fM({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,l=0,c=0;if(!e)i=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;i=lp(h,d,t+1/3),l=lp(h,d,t),c=lp(h,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function cf(t,e){return n=>n>0?e:t}const Pt=(t,e,n)=>t+(e-t)*n,cp=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},hM=[Kp,Wi,al],mM=t=>hM.find(e=>e.test(t));function Dv(t){const e=mM(t);if(!e)return!1;let n=e.parse(t);return e===al&&(n=fM(n)),n}const Mv=(t,e)=>{const n=Dv(t),s=Dv(e);if(!n||!s)return cf(t,e);const i={...n};return l=>(i.red=cp(n.red,s.red,l),i.green=cp(n.green,s.green,l),i.blue=cp(n.blue,s.blue,l),i.alpha=Pt(n.alpha,s.alpha,l),Wi.transform(i))},Wp=new Set(["none","hidden"]);function pM(t,e){return Wp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function gM(t,e){return n=>Pt(t,e,n)}function l0(t){return typeof t=="number"?gM:typeof t=="string"?r0(t)?cf:tn.test(t)?Mv:xM:Array.isArray(t)?RN:typeof t=="object"?tn.test(t)?Mv:yM:cf}function RN(t,e){const n=[...t],s=n.length,i=t.map((l,c)=>l0(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=i[c](l);return n}}function yM(t,e){const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=l0(t[i])(t[i],e[i]));return i=>{for(const l in s)n[l]=s[l](i);return n}}function bM(t,e){const n=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const l=e.types[i],c=t.indexes[l][s[l]],d=t.values[c]??0;n[i]=d,s[l]++}return n}const xM=(t,e)=>{const n=xi.createTransformer(e),s=Fc(t),i=Fc(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?Wp.has(t)&&!i.values.length||Wp.has(e)&&!s.values.length?pM(t,e):su(RN(bM(s,i),i.values),n):cf(t,e)};function LN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pt(t,e,n):l0(t)(t,e)}const vM=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>kt.update(e,n),stop:()=>bi(e),now:()=>Tn.isProcessing?Tn.timestamp:Gn.now()}},PN=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let l=0;l<i;l++)s+=Math.round(t(l/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},uf=2e4;function c0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<uf;)e+=n,s=t.next(e);return e>=uf?1/0:e}function wM(t,e=100,n){const s=n({...t,keyframes:[0,e]}),i=Math.min(c0(s),uf);return{type:"keyframes",ease:l=>s.next(i*l).value/e,duration:Ga(i)}}const SM=5;function zN(t,e,n){const s=Math.max(e-SM,0);return pN(n-t(s),e-s)}const Ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},up=.001;function NM({duration:t=Ft.duration,bounce:e=Ft.bounce,velocity:n=Ft.velocity,mass:s=Ft.mass}){let i,l,c=1-e;c=$s(Ft.minDamping,Ft.maxDamping,c),t=$s(Ft.minDuration,Ft.maxDuration,Ga(t)),c<1?(i=m=>{const y=m*c,b=y*t,x=y-n,w=Xp(m,c),N=Math.exp(-b);return up-x/w*N},l=m=>{const b=m*c*t,x=b*n+n,w=Math.pow(c,2)*Math.pow(m,2)*t,N=Math.exp(-b),_=Xp(Math.pow(m,2),c);return(-i(m)+up>0?-1:1)*((x-w)*N)/_}):(i=m=>{const y=Math.exp(-m*t),b=(m-n)*t+1;return-up+y*b},l=m=>{const y=Math.exp(-m*t),b=(n-m)*(t*t);return y*b});const d=5/t,h=EM(i,l,d);if(t=vr(t),isNaN(h))return{stiffness:Ft.stiffness,damping:Ft.damping,duration:t};{const m=Math.pow(h,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:t}}}const TM=12;function EM(t,e,n){let s=n;for(let i=1;i<TM;i++)s=s-t(s)/e(s);return s}function Xp(t,e){return t*Math.sqrt(1-e*e)}const CM=["duration","bounce"],AM=["stiffness","damping","mass"];function Rv(t,e){return e.some(n=>t[n]!==void 0)}function jM(t){let e={velocity:Ft.velocity,stiffness:Ft.stiffness,damping:Ft.damping,mass:Ft.mass,isResolvedFromDuration:!1,...t};if(!Rv(t,AM)&&Rv(t,CM))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,l=2*$s(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ft.mass,stiffness:i,damping:l}}else{const n=NM(t);e={...e,...n,mass:Ft.mass},e.isResolvedFromDuration=!0}return e}function df(t=Ft.visualDuration,e=Ft.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:m,mass:y,duration:b,velocity:x,isResolvedFromDuration:w}=jM({...n,velocity:-Ga(n.velocity||0)}),N=x||0,_=m/(2*Math.sqrt(h*y)),C=c-l,R=Ga(Math.sqrt(h/y)),E=Math.abs(C)<5;s||(s=E?Ft.restSpeed.granular:Ft.restSpeed.default),i||(i=E?Ft.restDelta.granular:Ft.restDelta.default);let D;if(_<1){const P=Xp(R,_);D=U=>{const z=Math.exp(-_*R*U);return c-z*((N+_*R*C)/P*Math.sin(P*U)+C*Math.cos(P*U))}}else if(_===1)D=P=>c-Math.exp(-R*P)*(C+(N+R*C)*P);else{const P=R*Math.sqrt(_*_-1);D=U=>{const z=Math.exp(-_*R*U),L=Math.min(P*U,300);return c-z*((N+_*R*C)*Math.sinh(L)+P*C*Math.cosh(L))/P}}const I={calculatedDuration:w&&b||null,next:P=>{const U=D(P);if(w)d.done=P>=b;else{let z=P===0?N:0;_<1&&(z=P===0?vr(N):zN(D,P,U));const L=Math.abs(z)<=s,W=Math.abs(c-U)<=i;d.done=L&&W}return d.value=d.done?c:U,d},toString:()=>{const P=Math.min(c0(I),uf),U=PN(z=>I.next(P*z).value,P,30);return P+"ms "+U},toTransition:()=>{}};return I}df.applyToOptions=t=>{const e=wM(t,100,df);return t.ease=e.ease,t.duration=vr(e.duration),t.type="keyframes",t};function Zp({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:h,restDelta:m=.5,restSpeed:y}){const b=t[0],x={done:!1,value:b},w=L=>d!==void 0&&L<d||h!==void 0&&L>h,N=L=>d===void 0?h:h===void 0||Math.abs(d-L)<Math.abs(h-L)?d:h;let _=n*e;const C=b+_,R=c===void 0?C:c(C);R!==C&&(_=R-b);const E=L=>-_*Math.exp(-L/s),D=L=>R+E(L),I=L=>{const W=E(L),se=D(L);x.done=Math.abs(W)<=m,x.value=x.done?R:se};let P,U;const z=L=>{w(x.value)&&(P=L,U=df({keyframes:[x.value,N(x.value)],velocity:zN(D,L,x.value),damping:i,stiffness:l,restDelta:m,restSpeed:y}))};return z(0),{calculatedDuration:null,next:L=>{let W=!1;return!U&&P===void 0&&(W=!0,I(L),z(L)),P!==void 0&&L>=P?U.next(L-P):(!W&&I(L),x)}}}function _M(t,e,n){const s=[],i=n||Tr.mix||LN,l=t.length-1;for(let c=0;c<l;c++){let d=i(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Xa:e;d=su(h,d)}s.push(d)}return s}function kM(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const l=t.length;if(e0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=_M(e,s,i),h=d.length,m=y=>{if(c&&y<t[0])return e[0];let b=0;if(h>1)for(;b<t.length-2&&!(y<t[b+1]);b++);const x=Vc(t[b],t[b+1],y);return d[b](x)};return n?y=>m($s(t[0],t[l-1],y)):m}function OM(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=Vc(0,e,s);t.push(Pt(n,1,i))}}function DM(t){const e=[0];return OM(e,t.length-1),e}function MM(t,e){return t.map(n=>n*e)}function RM(t,e){return t.map(()=>e||TN).splice(0,t.length-1)}function Rc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=FD(s)?s.map(jv):jv(s),l={done:!1,value:e[0]},c=MM(n&&n.length===e.length?n:DM(e),t),d=kM(c,e,{ease:Array.isArray(i)?i:RM(e,i)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const LM=t=>t!==null;function u0(t,{repeat:e,repeatType:n="loop"},s,i=1){const l=t.filter(LM),d=i<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const PM={decay:Zp,inertia:Zp,tween:Rc,keyframes:Rc,spring:df};function BN(t){typeof t.type=="string"&&(t.type=PM[t.type])}class d0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const zM=t=>t/100;class f0 extends d0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Gn.now()&&this.tick(Gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;BN(e);const{type:n=Rc,repeat:s=0,repeatDelay:i=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const h=n||Rc;h!==Rc&&typeof d[0]!="number"&&(this.mixKeyframes=su(zM,LN(d[0],d[1])),d=[0,100]);const m=h({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=c0(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:i,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:y,repeat:b,repeatType:x,repeatDelay:w,type:N,onUpdate:_,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const R=this.currentTime-m*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?R<0:R>i;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let D=this.currentTime,I=s;if(b){const L=Math.min(this.currentTime,i)/d;let W=Math.floor(L),se=L%1;!se&&L>=1&&(se=1),se===1&&W--,W=Math.min(W,b+1),W%2&&(x==="reverse"?(se=1-se,w&&(se-=w/d)):x==="mirror"&&(I=c)),D=$s(0,1,se)*d}const P=E?{done:!1,value:y[0]}:I.next(D);l&&(P.value=l(P.value));let{done:U}=P;!E&&h!==null&&(U=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return z&&N!==Zp&&(P.value=u0(y,this.options,C,this.speed)),_&&_(P.value),z&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return Ga(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ga(e)}get time(){return Ga(this.currentTime)}set time(e){e=vr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Gn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ga(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=vM,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function BM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Xi=t=>t*180/Math.PI,Qp=t=>{const e=Xi(Math.atan2(t[1],t[0]));return Jp(e)},IM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Qp,rotateZ:Qp,skewX:t=>Xi(Math.atan(t[1])),skewY:t=>Xi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Jp=t=>(t=t%360,t<0&&(t+=360),t),Lv=Qp,Pv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),zv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),UM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Pv,scaleY:zv,scale:t=>(Pv(t)+zv(t))/2,rotateX:t=>Jp(Xi(Math.atan2(t[6],t[5]))),rotateY:t=>Jp(Xi(Math.atan2(-t[2],t[0]))),rotateZ:Lv,rotate:Lv,skewX:t=>Xi(Math.atan(t[4])),skewY:t=>Xi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function eg(t){return t.includes("scale")?1:0}function tg(t,e){if(!t||t==="none")return eg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=UM,i=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=IM,i=d}if(!i)return eg(e);const l=s[e],c=i[1].split(",").map($M);return typeof l=="function"?l(c):c[l]}const qM=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return tg(n,e)};function $M(t){return parseFloat(t.trim())}const Sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nl=new Set(Sl),Bv=t=>t===wl||t===Te,VM=new Set(["x","y","z"]),HM=Sl.filter(t=>!VM.has(t));function FM(t){const e=[];return HM.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const mi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>tg(e,"x"),y:(t,{transform:e})=>tg(e,"y")};mi.translateX=mi.x;mi.translateY=mi.y;const Zi=new Set;let ng=!1,ag=!1,sg=!1;function IN(){if(ag){const t=Array.from(Zi).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const i=FM(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ag=!1,ng=!1,Zi.forEach(t=>t.complete(sg)),Zi.clear()}function UN(){Zi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ag=!0)})}function GM(){sg=!0,UN(),IN(),sg=!1}class h0{constructor(e,n,s,i,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=i,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Zi.add(this),ng||(ng=!0,kt.read(UN),kt.resolveKeyframes(IN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:i}=this;if(e[0]===null){const l=i?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),i&&l===void 0&&i.set(e[0])}BM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Zi.delete(this)}cancel(){this.state==="scheduled"&&(Zi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const YM=t=>t.startsWith("--");function KM(t,e,n){YM(e)?t.style.setProperty(e,n):t.style[e]=n}const WM=t0(()=>window.ScrollTimeline!==void 0),XM={};function ZM(t,e){const n=t0(t);return()=>XM[e]??n()}const qN=ZM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ec=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Iv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ec([0,.65,.55,1]),circOut:Ec([.55,0,1,.45]),backIn:Ec([.31,.01,.66,-.59]),backOut:Ec([.33,1.53,.69,.99])};function $N(t,e){if(t)return typeof t=="function"?qN()?PN(t,e):"ease-out":EN(t)?Ec(t):Array.isArray(t)?t.map(n=>$N(n,e)||Iv.easeOut):Iv[t]}function QM(t,e,n,{delay:s=0,duration:i=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:h}={},m=void 0){const y={[e]:n};h&&(y.offset=h);const b=$N(d,i);Array.isArray(b)&&(y.easing=b);const x={delay:s,duration:i,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),t.animate(y,x)}function VN(t){return typeof t=="function"&&"applyToOptions"in t}function JM({type:t,...e}){return VN(t)&&qN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class eR extends d0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:i,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,e0(typeof e.type!="string");const m=JM(e);this.animation=QM(n,s,i,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=u0(i,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):KM(n,s,y),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ga(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ga(e)}get time(){return Ga(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=vr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&WM()?(this.animation.timeline=e,Xa):n(this)}}const HN={anticipate:wN,backInOut:vN,circInOut:NN};function tR(t){return t in HN}function nR(t){typeof t.ease=="string"&&tR(t.ease)&&(t.ease=HN[t.ease])}const dp=10;class aR extends eR{constructor(e){nR(e),BN(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:i,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new f0({...c,autoplay:!1}),h=Math.max(dp,Gn.now()-this.startTime),m=$s(0,dp,h-dp);n.setWithVelocity(d.sample(Math.max(0,h-m)).value,d.sample(h).value,m),d.stop()}}const Uv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xi.test(t)||t==="0")&&!t.startsWith("url("));function sR(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function rR(t,e,n,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Uv(i,e),d=Uv(l,e);return!c||!d?!1:sR(t)||(n==="spring"||VN(n))&&s}function rg(t){t.duration=0,t.type="keyframes"}const iR=new Set(["opacity","clipPath","filter","transform"]),oR=t0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lR(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:i,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=e.owner.getProps();return oR()&&n&&iR.has(n)&&(n!=="transform"||!m)&&!h&&!s&&i!=="mirror"&&l!==0&&c!=="inertia"}const cR=40;class uR extends d0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:h,motionValue:m,element:y,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Gn.now();const x={autoplay:e,delay:n,type:s,repeat:i,repeatDelay:l,repeatType:c,name:h,motionValue:m,element:y,...b},w=y?.KeyframeResolver||h0;this.keyframeResolver=new w(d,(N,_,C)=>this.onKeyframesResolved(N,_,x,!C),h,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,i){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:h,isHandoff:m,onUpdate:y}=s;this.resolvedAt=Gn.now(),rR(e,l,c,d)||((Tr.instantAnimations||!h)&&y?.(u0(e,s,n)),e[0]=e[e.length-1],rg(s),s.repeat=0);const x={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>cR?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},w=!m&&lR(x)?new aR({...x,element:x.motionValue.owner.current}):new f0(x);w.finished.then(()=>this.notifyFinished()).catch(Xa),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),GM()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const dR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fR(t){const e=dR.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}function FN(t,e,n=1){const[s,i]=fR(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return fN(c)?parseFloat(c):c}return r0(i)?FN(i,e,n+1):i}function m0(t,e){return t?.[e]??t?.default??t}const hR={type:"spring",stiffness:500,damping:25,restSpeed:10},mR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),pR={type:"keyframes",duration:.8},gR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yR=(t,{keyframes:e})=>e.length>2?pR:Nl.has(t)?t.startsWith("scale")?mR(e[1]):hR:gR;function bR({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:l,repeatType:c,repeatDelay:d,from:h,elapsed:m,...y}){return!!Object.keys(y).length}const xR=t=>t!==null;function vR(t,{repeat:e,repeatType:n="loop"},s){const i=t.filter(xR),l=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[l]}function GN(t,e,n,s=0,i=1){const l=Array.from(t).sort((m,y)=>m.sortNodePosition(y)).indexOf(e),c=t.size,d=(c-1)*s;return typeof n=="function"?n(l,c):i===1?l*s:d-l*s}const p0=(t,e,n,s={},i,l)=>c=>{const d=m0(s,t)||{},h=d.delay||s.delay||0;let{elapsed:m=0}=s;m=m-vr(h);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:i};bR(d)||Object.assign(y,yR(t,y)),y.duration&&(y.duration=vr(y.duration)),y.repeatDelay&&(y.repeatDelay=vr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(rg(y),y.delay===0&&(b=!0)),(Tr.instantAnimations||Tr.skipAnimations)&&(b=!0,rg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,b&&!l&&e.get()!==void 0){const x=vR(y.keyframes,d);if(x!==void 0){kt.update(()=>{y.onUpdate(x),y.onComplete()});return}}return d.isSync?new f0(y):new uR(y)},YN=new Set(["width","height","top","left","right","bottom",...Sl]),qv=30,wR=t=>!isNaN(parseFloat(t));class SR{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const i=Gn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Gn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=wR(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new n0);const s=this.events[e].add(n);return e==="change"?()=>{s(),kt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>qv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,qv);return pN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fl(t,e){return new SR(t,e)}function $v(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function g0(t,e,n,s){if(typeof e=="function"){const[i,l]=$v(s);e=e(n!==void 0?n:t.custom,i,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,l]=$v(s);e=e(n!==void 0?n:t.custom,i,l)}return e}function ol(t,e,n){const s=t.getProps();return g0(s,e,n!==void 0?n:s.custom,t)}const ig=t=>Array.isArray(t);function NR(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,fl(n))}function TR(t){return ig(t)?t[t.length-1]||0:t}function ER(t,e){const n=ol(t,e);let{transitionEnd:s={},transition:i={},...l}=n||{};l={...l,...s};for(const c in l){const d=TR(l[c]);NR(t,c,d)}}const Pn=t=>!!(t&&t.getVelocity);function CR(t){return!!(Pn(t)&&t.add)}function og(t,e){const n=t.getValue("willChange");if(CR(n))return n.add(e);if(!n&&Tr.WillChange){const s=new Tr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function y0(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const AR="framerAppearId",KN="data-"+y0(AR);function WN(t){return t.props[KN]}function jR({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function XN(t,e,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;s&&(l=s);const h=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const y in d){const b=t.getValue(y,t.latestValues[y]??null),x=d[y];if(x===void 0||m&&jR(m,y))continue;const w={delay:n,...m0(l||{},y)},N=b.get();if(N!==void 0&&!b.isAnimating&&!Array.isArray(x)&&x===N&&!w.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const R=WN(t);if(R){const E=window.MotionHandoffAnimation(R,y,kt);E!==null&&(w.startTime=E,_=!0)}}og(t,y),b.start(p0(y,b,x,t.shouldReduceMotion&&YN.has(y)?{type:!1}:w,t,_));const C=b.animation;C&&h.push(C)}return c&&Promise.all(h).then(()=>{kt.update(()=>{c&&ER(t,c)})}),h}function lg(t,e,n={}){const s=ol(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const l=s?()=>Promise.all(XN(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:b}=i;return _R(t,e,h,m,y,b,n)}:()=>Promise.resolve(),{when:d}=i;if(d){const[h,m]=d==="beforeChildren"?[l,c]:[c,l];return h().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function _R(t,e,n=0,s=0,i=0,l=1,c){const d=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),d.push(lg(h,e,{...c,delay:n+(typeof s=="function"?0:s)+GN(t.variantChildren,h,s,i,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(d)}function kR(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(l=>lg(t,l,n));s=Promise.all(i)}else if(typeof e=="string")s=lg(t,e,n);else{const i=typeof e=="function"?ol(t,e,n.custom):e;s=Promise.all(XN(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const OR={test:t=>t==="auto",parse:t=>t},ZN=t=>e=>e.test(t),QN=[wl,Te,Us,ci,sM,aM,OR],Vv=t=>QN.find(ZN(t));function DR(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||mN(t):!0}const MR=new Set(["brightness","contrast","saturate","opacity"]);function RR(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(i0)||[];if(!s)return t;const i=n.replace(s,"");let l=MR.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+i+")"}const LR=/\b([a-z-]*)\(.*?\)/gu,cg={...xi,getAnimatableNone:t=>{const e=t.match(LR);return e?e.map(RR).join(" "):t}},Hv={...wl,transform:Math.round},PR={rotate:ci,rotateX:ci,rotateY:ci,rotateZ:ci,scale:Td,scaleX:Td,scaleY:Td,scaleZ:Td,skew:ci,skewX:ci,skewY:ci,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Hc,originX:kv,originY:kv,originZ:Te},b0={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,inset:Te,insetBlock:Te,insetBlockStart:Te,insetBlockEnd:Te,insetInline:Te,insetInlineStart:Te,insetInlineEnd:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,paddingBlock:Te,paddingBlockStart:Te,paddingBlockEnd:Te,paddingInline:Te,paddingInlineStart:Te,paddingInlineEnd:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,marginBlock:Te,marginBlockStart:Te,marginBlockEnd:Te,marginInline:Te,marginInlineStart:Te,marginInlineEnd:Te,backgroundPositionX:Te,backgroundPositionY:Te,...PR,zIndex:Hv,fillOpacity:Hc,strokeOpacity:Hc,numOctaves:Hv},zR={...b0,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:cg,WebkitFilter:cg},JN=t=>zR[t];function eT(t,e){let n=JN(t);return n!==cg&&(n=xi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const BR=new Set(["auto","none","0"]);function IR(t,e,n){let s=0,i;for(;s<t.length&&!i;){const l=t[s];typeof l=="string"&&!BR.has(l)&&Fc(l).values.length&&(i=t[s]),s++}if(i&&n)for(const l of e)t[l]=eT(n,i)}class UR extends h0{constructor(e,n,s,i,l){super(e,n,s,i,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let b=e[y];if(typeof b=="string"&&(b=b.trim(),r0(b))){const x=FN(b,n.current);x!==void 0&&(e[y]=x),y===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!YN.has(s)||e.length!==2)return;const[i,l]=e,c=Vv(i),d=Vv(l),h=_v(i),m=_v(l);if(h!==m&&mi[s]){this.needsMeasurement=!0;return}if(c!==d)if(Bv(c)&&Bv(d))for(let y=0;y<e.length;y++){const b=e[y];typeof b=="string"&&(e[y]=parseFloat(b))}else mi[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let i=0;i<e.length;i++)(e[i]===null||DR(e[i]))&&s.push(i);s.length&&IR(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mi[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=mi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function qR(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const i=n?.[t]??s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const tT=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function nT(t){return hN(t)&&"offsetHeight"in t}const{schedule:x0}=CN(queueMicrotask,!1),ds={x:!1,y:!1};function aT(){return ds.x||ds.y}function $R(t){return t==="x"||t==="y"?ds[t]?null:(ds[t]=!0,()=>{ds[t]=!1}):ds.x||ds.y?null:(ds.x=ds.y=!0,()=>{ds.x=ds.y=!1})}function sT(t,e){const n=qR(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[n,i,()=>s.abort()]}function Fv(t){return!(t.pointerType==="touch"||aT())}function VR(t,e,n={}){const[s,i,l]=sT(t,n),c=d=>{if(!Fv(d))return;const{target:h}=d,m=e(h,d);if(typeof m!="function"||!h)return;const y=b=>{Fv(b)&&(m(b),h.removeEventListener("pointerleave",y))};h.addEventListener("pointerleave",y,i)};return s.forEach(d=>{d.addEventListener("pointerenter",c,i)}),l}const rT=(t,e)=>e?t===e?!0:rT(t,e.parentElement):!1,v0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,HR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iT(t){return HR.has(t.tagName)||t.isContentEditable===!0}const Gd=new WeakSet;function Gv(t){return e=>{e.key==="Enter"&&t(e)}}function fp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const FR=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Gv(()=>{if(Gd.has(n))return;fp(n,"down");const i=Gv(()=>{fp(n,"up")}),l=()=>fp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Yv(t){return v0(t)&&!aT()}function GR(t,e,n={}){const[s,i,l]=sT(t,n),c=d=>{const h=d.currentTarget;if(!Yv(d))return;Gd.add(h);const m=e(h,d),y=(w,N)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",x),Gd.has(h)&&Gd.delete(h),Yv(w)&&typeof m=="function"&&m(w,{success:N})},b=w=>{y(w,h===window||h===document||n.useGlobalTarget||rT(h,w.target))},x=w=>{y(w,!1)};window.addEventListener("pointerup",b,i),window.addEventListener("pointercancel",x,i)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),nT(d)&&(d.addEventListener("focus",m=>FR(m,i)),!iT(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function oT(t){return hN(t)&&"ownerSVGElement"in t}function YR(t){return oT(t)&&t.tagName==="svg"}const KR=[...QN,tn,xi],WR=t=>KR.find(ZN(t)),Kv=()=>({translate:0,scale:1,origin:0,originPoint:0}),sl=()=>({x:Kv(),y:Kv()}),Wv=()=>({min:0,max:0}),un=()=>({x:Wv(),y:Wv()}),ug={current:null},lT={current:!1},XR=typeof window<"u";function ZR(){if(lT.current=!0,!!XR)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ug.current=t.matches;t.addEventListener("change",e),e()}else ug.current=!1}const QR=new WeakMap;function Mf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Gc(t){return typeof t=="string"||Array.isArray(t)}const w0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],S0=["initial",...w0];function Rf(t){return Mf(t.animate)||S0.some(e=>Gc(t[e]))}function cT(t){return!!(Rf(t)||t.variants)}function JR(t,e,n){for(const s in e){const i=e[s],l=n[s];if(Pn(i))t.addValue(s,i);else if(Pn(l))t.addValue(s,fl(i,{owner:t}));else if(l!==i)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(s);t.addValue(s,fl(c!==void 0?c:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Xv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let ff={};function uT(t){ff=t}function e6(){return ff}class t6{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=h0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Gn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,kt.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Rf(n),this.isVariantNode=cT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in b){const w=b[x];h[x]!==void 0&&Pn(w)&&w.set(h[x])}}mount(e){this.current=e,QR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(lT.current||ZR(),this.shouldReduceMotion=ug.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),bi(this.notifyUpdate),bi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Nl.has(e);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&kt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ff){const n=ff[e];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):un()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Xv.length;s++){const i=Xv[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const l="on"+i,c=e[l];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=JR(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=fl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(fN(s)||mN(s))?s=parseFloat(s):!WR(s)&&xi.test(n)&&(s=eT(e,n)),this.setBaseTarget(e,Pn(s)?s.get():s)),Pn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=g0(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Pn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new n0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){x0.render(this.render)}}class wi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class dT extends t6{constructor(){super(...arguments),this.KeyframeResolver=UR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fT({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function n6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function a6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function hp(t){return t===void 0||t===1}function dg({scale:t,scaleX:e,scaleY:n}){return!hp(t)||!hp(e)||!hp(n)}function Yi(t){return dg(t)||hT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hT(t){return Zv(t.x)||Zv(t.y)}function Zv(t){return t&&t!=="0%"}function hf(t,e,n){const s=t-n,i=e*s;return n+i}function Qv(t,e,n,s,i){return i!==void 0&&(t=hf(t,i,s)),hf(t,n,s)+e}function fg(t,e=0,n=1,s,i){t.min=Qv(t.min,e,n,s,i),t.max=Qv(t.max,e,n,s,i)}function mT(t,{x:e,y:n}){fg(t.x,e.translate,e.scale,e.originPoint),fg(t.y,n.translate,n.scale,n.originPoint)}const Jv=.999999999999,ew=1.0000000000001;function s6(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let l,c;for(let d=0;d<i;d++){l=n[d],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&il(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,mT(t,c)),s&&Yi(l.latestValues)&&il(t,l.latestValues))}e.x<ew&&e.x>Jv&&(e.x=1),e.y<ew&&e.y>Jv&&(e.y=1)}function rl(t,e){t.min=t.min+e,t.max=t.max+e}function tw(t,e,n,s,i=.5){const l=Pt(t.min,t.max,i);fg(t,e,n,l,s)}function il(t,e){tw(t.x,e.x,e.scaleX,e.scale,e.originX),tw(t.y,e.y,e.scaleY,e.scale,e.originY)}function pT(t,e){return fT(a6(t.getBoundingClientRect(),e))}function r6(t,e,n){const s=pT(t,n),{scroll:i}=e;return i&&(rl(s.x,i.offset.x),rl(s.y,i.offset.y)),s}const i6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},o6=Sl.length;function l6(t,e,n){let s="",i=!0;for(let l=0;l<o6;l++){const c=Sl[l],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const m=tT(d,b0[c]);if(!h){i=!1;const y=i6[c]||c;s+=`${y}(${m}) `}n&&(e[c]=m)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}function N0(t,e,n){const{style:s,vars:i,transformOrigin:l}=t;let c=!1,d=!1;for(const h in e){const m=e[h];if(Nl.has(h)){c=!0;continue}else if(jN(h)){i[h]=m;continue}else{const y=tT(m,b0[h]);h.startsWith("origin")?(d=!0,l[h]=y):s[h]=y}}if(e.transform||(c||n?s.transform=l6(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:h="50%",originY:m="50%",originZ:y=0}=l;s.transformOrigin=`${h} ${m} ${y}`}}function gT(t,{style:e,vars:n},s,i){const l=t.style;let c;for(c in e)l[c]=e[c];i?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function nw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=nw(t,e.target.x),s=nw(t,e.target.y);return`${n}% ${s}%`}},c6={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=xi.parse(t);if(i.length>5)return s;const l=xi.createTransformer(t),c=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;i[0+c]/=d,i[1+c]/=h;const m=Pt(d,h,.5);return typeof i[2+c]=="number"&&(i[2+c]/=m),typeof i[3+c]=="number"&&(i[3+c]/=m),l(i)}},hg={borderRadius:{...vc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vc,borderTopRightRadius:vc,borderBottomLeftRadius:vc,borderBottomRightRadius:vc,boxShadow:c6};function yT(t,{layout:e,layoutId:n}){return Nl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hg[t]||t==="opacity")}function T0(t,e,n){const s=t.style,i=e?.style,l={};if(!s)return l;for(const c in s)(Pn(s[c])||i&&Pn(i[c])||yT(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=s[c]);return l}function u6(t){return window.getComputedStyle(t)}class d6 extends dT{constructor(){super(...arguments),this.type="html",this.renderInstance=gT}readValueFromInstance(e,n){if(Nl.has(n))return this.projection?.isProjecting?eg(n):qM(e,n);{const s=u6(e),i=(jN(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return pT(e,n)}build(e,n,s){N0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return T0(e,n,s)}}const f6={offset:"stroke-dashoffset",array:"stroke-dasharray"},h6={offset:"strokeDashoffset",array:"strokeDasharray"};function m6(t,e,n=1,s=0,i=!0){t.pathLength=1;const l=i?f6:h6;t[l.offset]=Te.transform(-s);const c=Te.transform(e),d=Te.transform(n);t[l.array]=`${c} ${d}`}const p6=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function bT(t,{attrX:e,attrY:n,attrScale:s,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...d},h,m,y){if(N0(t,d,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:x}=t;b.transform&&(x.transform=b.transform,delete b.transform),(x.transform||b.transformOrigin)&&(x.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete b.transformBox);for(const w of p6)b[w]!==void 0&&(x[w]=b[w],delete b[w]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),i!==void 0&&m6(b,i,l,c,!1)}const xT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),vT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function g6(t,e,n,s){gT(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(xT.has(i)?i:y0(i),e.attrs[i])}function wT(t,e,n){const s=T0(t,e,n);for(const i in t)if(Pn(t[i])||Pn(e[i])){const l=Sl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[l]=t[i]}return s}class y6 extends dT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=un}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Nl.has(n)){const s=JN(n);return s&&s.default||0}return n=xT.has(n)?n:y0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return wT(e,n,s)}build(e,n,s){bT(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,i){g6(e,n,s,i)}mount(e){this.isSVGTag=vT(e.tagName),super.mount(e)}}const b6=S0.length;function ST(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ST(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<b6;n++){const s=S0[n],i=t.props[s];(Gc(i)||i===!1)&&(e[s]=i)}return e}function NT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const x6=[...w0].reverse(),v6=w0.length;function w6(t){return e=>Promise.all(e.map(({animation:n,options:s})=>kR(t,n,s)))}function S6(t){let e=w6(t),n=aw(),s=!0;const i=h=>(m,y)=>{const b=ol(t,y,h==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:x,transitionEnd:w,...N}=b;m={...m,...N,...w}}return m};function l(h){e=h(t)}function c(h){const{props:m}=t,y=ST(t.parent)||{},b=[],x=new Set;let w={},N=1/0;for(let C=0;C<v6;C++){const R=x6[C],E=n[R],D=m[R]!==void 0?m[R]:y[R],I=Gc(D),P=R===h?E.isActive:null;P===!1&&(N=C);let U=D===y[R]&&D!==m[R]&&I;if(U&&s&&t.manuallyAnimateOnMount&&(U=!1),E.protectedKeys={...w},!E.isActive&&P===null||!D&&!E.prevProp||Mf(D)||typeof D=="boolean")continue;const z=N6(E.prevProp,D);let L=z||R===h&&E.isActive&&!U&&I||C>N&&I,W=!1;const se=Array.isArray(D)?D:[D];let k=se.reduce(i(R),{});P===!1&&(k={});const{prevResolvedValues:F={}}=E,q={...F,...k},Z=B=>{L=!0,x.has(B)&&(W=!0,x.delete(B)),E.needsAnimating[B]=!0;const V=t.getValue(B);V&&(V.liveStyle=!1)};for(const B in q){const V=k[B],le=F[B];if(w.hasOwnProperty(B))continue;let ue=!1;ig(V)&&ig(le)?ue=!NT(V,le):ue=V!==le,ue?V!=null?Z(B):x.add(B):V!==void 0&&x.has(B)?Z(B):E.protectedKeys[B]=!0}E.prevProp=D,E.prevResolvedValues=k,E.isActive&&(w={...w,...k}),s&&t.blockInitialAnimation&&(L=!1);const re=U&&z;L&&(!re||W)&&b.push(...se.map(B=>{const V={type:R};if(typeof B=="string"&&s&&!re&&t.manuallyAnimateOnMount&&t.parent){const{parent:le}=t,ue=ol(le,B);if(le.enteringChildren&&ue){const{delayChildren:M}=ue.transition||{};V.delay=GN(le.enteringChildren,t,M)}}return{animation:B,options:V}}))}if(x.size){const C={};if(typeof m.initial!="boolean"){const R=ol(t,Array.isArray(m.initial)?m.initial[0]:m.initial);R&&R.transition&&(C.transition=R.transition)}x.forEach(R=>{const E=t.getBaseTarget(R),D=t.getValue(R);D&&(D.liveStyle=!0),C[R]=E??null}),b.push({animation:C})}let _=!!b.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(_=!1),s=!1,_?e(b):Promise.resolve()}function d(h,m){if(n[h].isActive===m)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(h,m)),n[h].isActive=m;const y=c(h);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=aw()}}}function N6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!NT(e,t):!1}function Fi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aw(){return{animate:Fi(!0),whileInView:Fi(),whileHover:Fi(),whileTap:Fi(),whileDrag:Fi(),whileFocus:Fi(),exit:Fi()}}const TT=1e-4,T6=1-TT,E6=1+TT,ET=.01,C6=0-ET,A6=0+ET;function Yn(t){return t.max-t.min}function j6(t,e,n){return Math.abs(t-e)<=n}function sw(t,e,n,s=.5){t.origin=s,t.originPoint=Pt(e.min,e.max,t.origin),t.scale=Yn(n)/Yn(e),t.translate=Pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=T6&&t.scale<=E6||isNaN(t.scale))&&(t.scale=1),(t.translate>=C6&&t.translate<=A6||isNaN(t.translate))&&(t.translate=0)}function Lc(t,e,n,s){sw(t.x,e.x,n.x,s?s.originX:void 0),sw(t.y,e.y,n.y,s?s.originY:void 0)}function rw(t,e,n){t.min=n.min+e.min,t.max=t.min+Yn(e)}function _6(t,e,n){rw(t.x,e.x,n.x),rw(t.y,e.y,n.y)}function iw(t,e,n){t.min=e.min-n.min,t.max=t.min+Yn(e)}function mf(t,e,n){iw(t.x,e.x,n.x),iw(t.y,e.y,n.y)}function ow(t,e,n,s,i){return t-=e,t=hf(t,1/n,s),i!==void 0&&(t=hf(t,1/i,s)),t}function k6(t,e=0,n=1,s=.5,i,l=t,c=t){if(Us.test(e)&&(e=parseFloat(e),e=Pt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Pt(l.min,l.max,s);t===l&&(d-=e),t.min=ow(t.min,e,n,d,i),t.max=ow(t.max,e,n,d,i)}function lw(t,e,[n,s,i],l,c){k6(t,e[n],e[s],e[i],e.scale,l,c)}const O6=["x","scaleX","originX"],D6=["y","scaleY","originY"];function cw(t,e,n,s){lw(t.x,e,O6,n?n.x:void 0,s?s.x:void 0),lw(t.y,e,D6,n?n.y:void 0,s?s.y:void 0)}function uw(t,e){t.min=e.min,t.max=e.max}function cs(t,e){uw(t.x,e.x),uw(t.y,e.y)}function dw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function fw(t){return t.translate===0&&t.scale===1}function CT(t){return fw(t.x)&&fw(t.y)}function hw(t,e){return t.min===e.min&&t.max===e.max}function M6(t,e){return hw(t.x,e.x)&&hw(t.y,e.y)}function mw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function AT(t,e){return mw(t.x,e.x)&&mw(t.y,e.y)}function pw(t){return Yn(t.x)/Yn(t.y)}function gw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function $a(t){return[t("x"),t("y")]}function R6(t,e,n){let s="";const i=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((i||l||c)&&(s=`translate3d(${i}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:b,rotateY:x,skewX:w,skewY:N}=n;m&&(s=`perspective(${m}px) ${s}`),y&&(s+=`rotate(${y}deg) `),b&&(s+=`rotateX(${b}deg) `),x&&(s+=`rotateY(${x}deg) `),w&&(s+=`skewX(${w}deg) `),N&&(s+=`skewY(${N}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(s+=`scale(${d}, ${h})`),s||"none"}const jT=["TopLeft","TopRight","BottomLeft","BottomRight"],L6=jT.length,yw=t=>typeof t=="string"?parseFloat(t):t,bw=t=>typeof t=="number"||Te.test(t);function P6(t,e,n,s,i,l){i?(t.opacity=Pt(0,n.opacity??1,z6(s)),t.opacityExit=Pt(e.opacity??1,0,B6(s))):l&&(t.opacity=Pt(e.opacity??1,n.opacity??1,s));for(let c=0;c<L6;c++){const d=`border${jT[c]}Radius`;let h=xw(e,d),m=xw(n,d);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||bw(h)===bw(m)?(t[d]=Math.max(Pt(yw(h),yw(m),s),0),(Us.test(m)||Us.test(h))&&(t[d]+="%")):t[d]=m}(e.rotate||n.rotate)&&(t.rotate=Pt(e.rotate||0,n.rotate||0,s))}function xw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const z6=_T(0,.5,SN),B6=_T(.5,.95,Xa);function _T(t,e,n){return s=>s<t?0:s>e?1:n(Vc(t,e,s))}function I6(t,e){const n=Gn.now(),s=({timestamp:i})=>{const l=i-n;l>=e&&(bi(s),t(l-e))};return kt.setup(s,!0),()=>bi(s)}function Yc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Yd(t){return Pn(t)?t.get():t}function U6(t,e,n){const s=Pn(t)?t:fl(t);return s.start(p0("",s,e,n)),s.animation}const q6=(t,e)=>t.depth-e.depth;class $6{constructor(){this.children=[],this.isDirty=!1}add(e){Qg(this.children,e),this.isDirty=!0}remove(e){Jg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(q6),this.isDirty=!1,this.children.forEach(e)}}class V6{constructor(){this.members=[]}add(e){Qg(this.members,e),e.scheduleRender()}remove(e){if(Jg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const l=this.members[i];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Kd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},mp=["","X","Y","Z"],H6=1e3;let F6=0;function pp(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function kT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=WN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",kt,!(i||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&kT(s)}function OT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(c={},d=e?.()){this.id=F6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(K6),this.nodes.forEach(Q6),this.nodes.forEach(J6),this.nodes.forEach(W6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new $6)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new n0),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=oT(c)&&!YR(c),this.instance=c;const{layoutId:d,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),t){let y,b=0;const x=()=>this.root.updateBlockedByResize=!1;kt.read(()=>{b=window.innerWidth}),t(c,()=>{const w=window.innerWidth;w!==b&&(b=w,this.root.updateBlockedByResize=!0,y&&y(),y=I6(x,250),Kd.hasAnimatedSinceResize&&(Kd.hasAnimatedSinceResize=!1,this.nodes.forEach(Sw)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||h)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||m.getDefaultTransition()||sL,{onLayoutAnimationStart:_,onLayoutAnimationComplete:C}=m.getProps(),R=!this.targetLayout||!AT(this.targetLayout,w),E=!b&&x;if(this.options.layoutRoot||this.resumeFrom||E||b&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...m0(N,"layout"),onPlay:_,onComplete:C};(m.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(y,E)}else b||Sw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eL),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const b=this.path[y];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ww);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Z6),this.nodes.forEach(G6),this.nodes.forEach(Y6)):this.nodes.forEach(ww),this.clearAllSnapshots();const d=Gn.now();Tn.delta=$s(0,1e3/60,d-Tn.timestamp),Tn.timestamp=d,Tn.isProcessing=!0,ip.update.process(Tn),ip.preRender.process(Tn),ip.render.process(Tn),Tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,x0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(X6),this.sharedNodes.forEach(tL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Yn(this.snapshot.measuredBox.x)&&!Yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=un(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!CT(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&this.instance&&(d||Yi(this.latestValues)||y)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),rL(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return un();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(iL))){const{scroll:m}=this.root;m&&(rl(d.x,m.offset.x),rl(d.y,m.offset.y))}return d}removeElementScroll(c){const d=un();if(cs(d,c),this.scroll?.wasRoot)return d;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:y,options:b}=m;m!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&cs(d,c),rl(d.x,y.offset.x),rl(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const h=un();cs(h,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&il(h,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Yi(y.latestValues)&&il(h,y.latestValues)}return Yi(this.latestValues)&&il(h,this.latestValues),h}removeTransform(c){const d=un();cs(d,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Yi(m.latestValues))continue;dg(m.latestValues)&&m.updateSnapshot();const y=un(),b=m.measurePageBox();cs(y,b),cw(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Yi(this.latestValues)&&cw(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!this.layout||!(y||b))return;this.resolvedRelativeTargetAt=Tn.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=un(),this.targetWithTransforms=un()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cs(this.target,this.layout.layoutBox),mT(this.target,this.targetDelta)):cs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||dg(this.parent.latestValues)||hT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,h){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=un(),this.relativeTargetOrigin=un(),mf(this.relativeTargetOrigin,d,h),cs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Tn.timestamp&&(h=!1),h)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;cs(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,x=this.treeScale.y;s6(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=un());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dw(this.prevProjectionDelta.x,this.projectionDelta.x),dw(this.prevProjectionDelta.y,this.projectionDelta.y)),Lc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==x||!gw(this.projectionDelta.x,this.prevProjectionDelta.x)||!gw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sl(),this.projectionDelta=sl(),this.projectionDeltaWithTransform=sl()}setAnimationOrigin(c,d=!1){const h=this.snapshot,m=h?h.latestValues:{},y={...this.latestValues},b=sl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=un(),w=h?h.source:void 0,N=this.layout?this.layout.source:void 0,_=w!==N,C=this.getStack(),R=!C||C.members.length<=1,E=!!(_&&!R&&this.options.crossfade===!0&&!this.path.some(aL));this.animationProgress=0;let D;this.mixTargetDelta=I=>{const P=I/1e3;Nw(b.x,c.x,P),Nw(b.y,c.y,P),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mf(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nL(this.relativeTarget,this.relativeTargetOrigin,x,P),D&&M6(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=un()),cs(D,this.relativeTarget)),_&&(this.animationValues=y,P6(y,m,this.latestValues,P,E,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(bi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kt.update(()=>{Kd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fl(0)),this.currentAnimation=U6(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(H6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:m,latestValues:y}=c;if(!(!d||!h||!m)){if(this!==c&&this.layout&&m&&DT(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||un();const b=Yn(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+b;const x=Yn(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+x}cs(d,h),il(d,y),Lc(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new V6),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const m={};h.z&&pp("z",c,m,this.animationValues);for(let y=0;y<mp.length;y++)pp(`rotate${mp[y]}`,c,m,this.animationValues),pp(`skew${mp[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Yd(d?.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Yd(d?.pointerEvents)||""),this.hasProjected&&!Yi(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let b=R6(this.projectionDeltaWithTransform,this.treeScale,y);h&&(b=h(y,b)),c.transform=b;const{x,y:w}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${w.origin*100}% 0`,m.animationValues?c.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const N in hg){if(y[N]===void 0)continue;const{correct:_,applyTo:C,isCSSVariable:R}=hg[N],E=b==="none"?y[N]:_(y[N],m);if(C){const D=C.length;for(let I=0;I<D;I++)c[C[I]]=E}else R?this.options.visualElement.renderState.vars[N]=E:c[N]=E}this.options.layoutId&&(c.pointerEvents=m===this?Yd(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(vw),this.root.sharedNodes.clear()}}}function G6(t){t.updateLayout()}function Y6(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,l=e.source!==t.layout.source;i==="size"?$a(y=>{const b=l?e.measuredBox[y]:e.layoutBox[y],x=Yn(b);b.min=n[y].min,b.max=b.min+x}):DT(i,e.layoutBox,n)&&$a(y=>{const b=l?e.measuredBox[y]:e.layoutBox[y],x=Yn(n[y]);b.max=b.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+x)});const c=sl();Lc(c,n,e.layoutBox);const d=sl();l?Lc(d,t.applyTransform(s,!0),e.measuredBox):Lc(d,n,e.layoutBox);const h=!CT(c);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:x}=y;if(b&&x){const w=un();mf(w,e.layoutBox,b.layoutBox);const N=un();mf(N,n,x.layoutBox),AT(w,N)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=w,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function K6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function W6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function X6(t){t.clearSnapshot()}function vw(t){t.clearMeasurements()}function ww(t){t.isLayoutDirty=!1}function Z6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Sw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Q6(t){t.resolveTargetDelta()}function J6(t){t.calcProjection()}function eL(t){t.resetSkewAndRotation()}function tL(t){t.removeLeadSnapshot()}function Nw(t,e,n){t.translate=Pt(e.translate,0,n),t.scale=Pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Tw(t,e,n,s){t.min=Pt(e.min,n.min,s),t.max=Pt(e.max,n.max,s)}function nL(t,e,n,s){Tw(t.x,e.x,n.x,s),Tw(t.y,e.y,n.y,s)}function aL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const sL={duration:.45,ease:[.4,0,.1,1]},Ew=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Cw=Ew("applewebkit/")&&!Ew("chrome/")?Math.round:Xa;function Aw(t){t.min=Cw(t.min),t.max=Cw(t.max)}function rL(t){Aw(t.x),Aw(t.y)}function DT(t,e,n){return t==="position"||t==="preserve-aspect"&&!j6(pw(e),pw(n),.2)}function iL(t){return t!==t.root&&t.scroll?.wasRoot}const oL=OT({attachResizeListener:(t,e)=>Yc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gp={current:void 0},MT=OT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gp.current){const t=new oL({});t.mount(window),t.setOptions({layoutScroll:!0}),gp.current=t}return gp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),E0=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function jw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function lL(...t){return e=>{let n=!1;const s=t.map(i=>{const l=jw(i,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<s.length;i++){const l=s[i];typeof l=="function"?l():jw(t[i],null)}}}}function cL(...t){return T.useCallback(lL(...t),t)}class uL extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=nT(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=i-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function dL({children:t,isPresent:e,anchorX:n,root:s}){const i=T.useId(),l=T.useRef(null),c=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=T.useContext(E0),h=t.props?.ref??t?.ref,m=cL(l,h);return T.useInsertionEffect(()=>{const{width:y,height:b,top:x,left:w,right:N}=c.current;if(e||!l.current||!y||!b)return;const _=n==="left"?`left: ${w}`:`right: ${N}`;l.current.dataset.motionPopId=i;const C=document.createElement("style");d&&(C.nonce=d);const R=s??document.head;return R.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${b}px !important;
            ${_}px !important;
            top: ${x}px !important;
          }
        `),()=>{R.contains(C)&&R.removeChild(C)}},[e]),f.jsx(uL,{isPresent:e,childRef:l,sizeRef:c,children:T.cloneElement(t,{ref:m})})}const fL=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:l,mode:c,anchorX:d,root:h})=>{const m=Zg(hL),y=T.useId();let b=!0,x=T.useMemo(()=>(b=!1,{id:y,initial:e,isPresent:n,custom:i,onExitComplete:w=>{m.set(w,!0);for(const N of m.values())if(!N)return;s&&s()},register:w=>(m.set(w,!1),()=>m.delete(w))}),[n,m,s]);return l&&b&&(x={...x}),T.useMemo(()=>{m.forEach((w,N)=>m.set(N,!1))},[n]),T.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),c==="popLayout"&&(t=f.jsx(dL,{isPresent:n,anchorX:d,root:h,children:t})),f.jsx(Df.Provider,{value:x,children:t})};function hL(){return new Map}function RT(t=!0){const e=T.useContext(Df);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=e,l=T.useId();T.useEffect(()=>{if(t)return i(l)},[t]);const c=T.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Ed=t=>t.key||"";function _w(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const dn=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:h})=>{const[m,y]=RT(c),b=T.useMemo(()=>_w(t),[t]),x=c&&!m?[]:b.map(Ed),w=T.useRef(!0),N=T.useRef(b),_=Zg(()=>new Map),C=T.useRef(new Set),[R,E]=T.useState(b),[D,I]=T.useState(b);dN(()=>{w.current=!1,N.current=b;for(let z=0;z<D.length;z++){const L=Ed(D[z]);x.includes(L)?(_.delete(L),C.current.delete(L)):_.get(L)!==!0&&_.set(L,!1)}},[D,x.length,x.join("-")]);const P=[];if(b!==R){let z=[...b];for(let L=0;L<D.length;L++){const W=D[L],se=Ed(W);x.includes(se)||(z.splice(L,0,W),P.push(W))}return l==="wait"&&P.length&&(z=P),I(_w(z)),E(b),null}const{forceRender:U}=T.useContext(Xg);return f.jsx(f.Fragment,{children:D.map(z=>{const L=Ed(z),W=c&&!m?!1:b===D||x.includes(L),se=()=>{if(C.current.has(L))return;if(C.current.add(L),_.has(L))_.set(L,!0);else return;let k=!0;_.forEach(F=>{F||(k=!1)}),k&&(U?.(),I(N.current),c&&y?.(),s&&s())};return f.jsx(fL,{isPresent:W,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:l,root:h,onExitComplete:W?void 0:se,anchorX:d,children:z},L)})})},LT=T.createContext({strict:!1}),kw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Ow=!1;function mL(){if(Ow)return;const t={};for(const e in kw)t[e]={isEnabled:n=>kw[e].some(s=>!!n[s])};uT(t),Ow=!0}function PT(){return mL(),e6()}function pL(t){const e=PT();for(const n in t)e[n]={...e[n],...t[n]};uT(e)}const gL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||gL.has(t)}let zT=t=>!pf(t);function yL(t){typeof t=="function"&&(zT=e=>e.startsWith("on")?!pf(e):t(e))}try{yL(require("@emotion/is-prop-valid").default)}catch{}function bL(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(zT(i)||n===!0&&pf(i)||!e&&!pf(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}const Lf=T.createContext({});function xL(t,e){if(Rf(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Gc(n)?n:void 0,animate:Gc(s)?s:void 0}}return t.inherit!==!1?e:{}}function vL(t){const{initial:e,animate:n}=xL(t,T.useContext(Lf));return T.useMemo(()=>({initial:e,animate:n}),[Dw(e),Dw(n)])}function Dw(t){return Array.isArray(t)?t.join(" "):t}const C0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BT(t,e,n){for(const s in e)!Pn(e[s])&&!yT(s,n)&&(t[s]=e[s])}function wL({transformTemplate:t},e){return T.useMemo(()=>{const n=C0();return N0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function SL(t,e){const n=t.style||{},s={};return BT(s,n,t),Object.assign(s,wL(t,e)),s}function NL(t,e){const n={},s=SL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const IT=()=>({...C0(),attrs:{}});function TL(t,e,n,s){const i=T.useMemo(()=>{const l=IT();return bT(l,e,vT(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};BT(l,t.style,t),i.style={...l,...i.style}}return i}const EL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function A0(t){return typeof t!="string"||t.includes("-")?!1:!!(EL.indexOf(t)>-1||/[A-Z]/u.test(t))}function CL(t,e,n,{latestValues:s},i,l=!1,c){const h=(c??A0(t)?TL:NL)(e,s,i,t),m=bL(e,typeof t=="string",l),y=t!==T.Fragment?{...m,...h,ref:n}:{},{children:b}=e,x=T.useMemo(()=>Pn(b)?b.get():b,[b]);return T.createElement(t,{...y,children:x})}function AL({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,i){return{latestValues:jL(n,s,i,t),renderState:e()}}function jL(t,e,n,s){const i={},l=s(t,{});for(const x in l)i[x]=Yd(l[x]);let{initial:c,animate:d}=t;const h=Rf(t),m=cT(t);e&&m&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const b=y?d:c;if(b&&typeof b!="boolean"&&!Mf(b)){const x=Array.isArray(b)?b:[b];for(let w=0;w<x.length;w++){const N=g0(t,x[w]);if(N){const{transitionEnd:_,transition:C,...R}=N;for(const E in R){let D=R[E];if(Array.isArray(D)){const I=y?D.length-1:0;D=D[I]}D!==null&&(i[E]=D)}for(const E in _)i[E]=_[E]}}}return i}const UT=t=>(e,n)=>{const s=T.useContext(Lf),i=T.useContext(Df),l=()=>AL(t,e,s,i);return n?l():Zg(l)},_L=UT({scrapeMotionValuesFromProps:T0,createRenderState:C0}),kL=UT({scrapeMotionValuesFromProps:wT,createRenderState:IT}),OL=Symbol.for("motionComponentSymbol");function DL(t,e,n){const s=T.useRef(n);T.useInsertionEffect(()=>{s.current=n});const i=T.useRef(null);return T.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=s.current;if(typeof c=="function")if(l){const d=c(l);typeof d=="function"&&(i.current=d)}else i.current?(i.current(),i.current=null):c(l);else c&&(c.current=l)},[e])}const qT=T.createContext({});function Cc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ML(t,e,n,s,i,l){const{visualElement:c}=T.useContext(Lf),d=T.useContext(LT),h=T.useContext(Df),m=T.useContext(E0).reducedMotion,y=T.useRef(null);s=s||d.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:c,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m,isSVG:l}));const b=y.current,x=T.useContext(qT);b&&!b.projection&&i&&(b.type==="html"||b.type==="svg")&&RL(y.current,n,i,x);const w=T.useRef(!1);T.useInsertionEffect(()=>{b&&w.current&&b.update(n,h)});const N=n[KN],_=T.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return dN(()=>{b&&(w.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),_.current&&b.animationState&&b.animationState.animateChanges())}),T.useEffect(()=>{b&&(!_.current&&b.animationState&&b.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),_.current=!1),b.enteringChildren=void 0)}),b}function RL(t,e,n,s){const{layoutId:i,layout:l,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:m,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:$T(t.parent)),t.projection.setOptions({layoutId:i,layout:l,alwaysMeasureLayout:!!c||d&&Cc(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:h,layoutRoot:m})}function $T(t){if(t)return t.options.allowProjection!==!1?t.projection:$T(t.parent)}function yp(t,{forwardMotionProps:e=!1,type:n}={},s,i){s&&pL(s);const l=n?n==="svg":A0(t),c=l?kL:_L;function d(m,y){let b;const x={...T.useContext(E0),...m,layoutId:LL(m)},{isStatic:w}=x,N=vL(m),_=c(m,w);if(!w&&uN){PL();const C=zL(x);b=C.MeasureLayout,N.visualElement=ML(t,_,x,i,C.ProjectionNode,l)}return f.jsxs(Lf.Provider,{value:N,children:[b&&N.visualElement?f.jsx(b,{visualElement:N.visualElement,...x}):null,CL(t,m,DL(_,N.visualElement,y),_,w,e,l)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const h=T.forwardRef(d);return h[OL]=t,h}function LL({layoutId:t}){const e=T.useContext(Xg).id;return e&&t!==void 0?e+"-"+t:t}function PL(t,e){T.useContext(LT).strict}function zL(t){const e=PT(),{drag:n,layout:s}=e;if(!n&&!s)return{};const i={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function BL(t,e){if(typeof Proxy>"u")return yp;const n=new Map,s=(l,c)=>yp(l,c,t,e),i=(l,c)=>s(l,c);return new Proxy(i,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,yp(c,void 0,t,e)),n.get(c))})}const IL=(t,e)=>e.isSVG??A0(t)?new y6(e):new d6(e,{allowProjection:t!==T.Fragment});class UL extends wi{constructor(e){super(e),e.animationState||(e.animationState=S6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let qL=0;class $L extends wi{constructor(){super(...arguments),this.id=qL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const VL={animation:{Feature:UL},exit:{Feature:$L}};function ou(t){return{point:{x:t.pageX,y:t.pageY}}}const HL=t=>e=>v0(e)&&t(e,ou(e));function Pc(t,e,n,s){return Yc(t,e,HL(n),s)}const VT=({current:t})=>t?t.ownerDocument.defaultView:null,Mw=(t,e)=>Math.abs(t-e);function FL(t,e){const n=Mw(t.x,e.x),s=Mw(t.y,e.y);return Math.sqrt(n**2+s**2)}const Rw=new Set(["auto","scroll"]);class HT{constructor(e,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=xp(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,_=FL(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!_)return;const{point:C}=w,{timestamp:R}=Tn;this.history.push({...C,timestamp:R});const{onStart:E,onMove:D}=this.handlers;N||(E&&E(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,w)},this.handlePointerMove=(w,N)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=bp(N,this.transformPagePoint),kt.update(this.updatePoint,!0)},this.handlePointerUp=(w,N)=>{this.end();const{onEnd:_,onSessionEnd:C,resumeAnimation:R}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=xp(w.type==="pointercancel"?this.lastMoveEventInfo:bp(N,this.transformPagePoint),this.history);this.startEvent&&_&&_(w,E),C&&C(w,E)},!v0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=i||window;const h=ou(e),m=bp(h,this.transformPagePoint),{point:y}=m,{timestamp:b}=Tn;this.history=[{...y,timestamp:b}];const{onSessionStart:x}=n;x&&x(e,xp(m,this.history)),this.removeListeners=su(Pc(this.contextWindow,"pointermove",this.handlePointerMove),Pc(this.contextWindow,"pointerup",this.handlePointerUp),Pc(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(Rw.has(s.overflowX)||Rw.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,i=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:i.x-n.x,y:i.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,i),kt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),bi(this.updatePoint)}}function bp(t,e){return e?{point:e(t.point)}:t}function Lw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function xp({point:t},e){return{point:t,delta:Lw(t,FT(e)),offset:Lw(t,GL(e)),velocity:YL(e,.1)}}function GL(t){return t[0]}function FT(t){return t[t.length-1]}function YL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=FT(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>vr(e)));)n--;if(!s)return{x:0,y:0};const l=Ga(i.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(i.x-s.x)/l,y:(i.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function KL(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Pt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Pt(n,t,s.max):Math.min(t,n)),t}function Pw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function WL(t,{top:e,left:n,bottom:s,right:i}){return{x:Pw(t.x,n,i),y:Pw(t.y,e,s)}}function zw(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function XL(t,e){return{x:zw(t.x,e.x),y:zw(t.y,e.y)}}function ZL(t,e){let n=.5;const s=Yn(t),i=Yn(e);return i>s?n=Vc(e.min,e.max-s,t.min):s>i&&(n=Vc(t.min,t.max-i,e.min)),$s(0,1,n)}function QL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const mg=.35;function JL(t=mg){return t===!1?t=0:t===!0&&(t=mg),{x:Bw(t,"left","right"),y:Bw(t,"top","bottom")}}function Bw(t,e,n){return{min:Iw(t,e),max:Iw(t,n)}}function Iw(t,e){return typeof t=="number"?t:t[e]||0}const e8=new WeakMap;class t8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=un(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const l=b=>{n?(this.stopAnimation(),this.snapToCursor(ou(b).point)):this.pauseAnimation()},c=(b,x)=>{this.stopAnimation();const{drag:w,dragPropagation:N,onDragStart:_}=this.getProps();if(w&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$R(w),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$a(R=>{let E=this.getAxisMotionValue(R).get()||0;if(Us.test(E)){const{projection:D}=this.visualElement;if(D&&D.layout){const I=D.layout.layoutBox[R];I&&(E=Yn(I)*(parseFloat(E)/100))}}this.originPoint[R]=E}),_&&kt.postRender(()=>_(b,x)),og(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},d=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x;const{dragPropagation:w,dragDirectionLock:N,onDirectionLock:_,onDrag:C}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:R}=x;if(N&&this.currentDirection===null){this.currentDirection=n8(R),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",x.point,R),this.updateAxis("y",x.point,R),this.visualElement.render(),C&&C(b,x)},h=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x,this.stop(b,x),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>$a(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new HT(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:VT(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,i=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!i||!s)return;const{velocity:c}=i;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&kt.postRender(()=>d(s,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!Cd(e,i,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=KL(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Cc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=WL(s.layoutBox,e):this.constraints=!1,this.elastic=JL(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&$a(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=QL(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Cc(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const l=r6(s,i.root,this.visualElement.getTransformPagePoint());let c=XL(i.layout.layoutBox,l);if(n){const d=n(n6(c));this.hasMutatedConstraints=!!d,d&&(c=fT(d))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},m=$a(y=>{if(!Cd(y,n,this.currentDirection))return;let b=h&&h[y]||{};c&&(b={min:0,max:0});const x=i?200:1e6,w=i?40:1e7,N={type:"inertia",velocity:s?e[y]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(y,N)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return og(this.visualElement,e),s.start(p0(e,s,0,n,this.visualElement,!1))}stopAnimation(){$a(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){$a(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){$a(n=>{const{drag:s}=this.getProps();if(!Cd(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,l=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[n],h=l.get()||0;l.set(e[n]-Pt(c,d,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Cc(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};$a(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();i[c]=ZL({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),$a(c=>{if(!Cd(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];d.set(Pt(h,m,i[c]))})}addListeners(){if(!this.visualElement.current)return;e8.set(this.visualElement,this);const e=this.visualElement.current,n=Pc(e,"pointerdown",h=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&!iT(h.target)&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();Cc(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,l=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),kt.read(s);const c=Yc(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&($a(y=>{const b=this.getAxisMotionValue(y);b&&(this.originPoint[y]+=h[y].translate,b.set(b.get()+h[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:l=!1,dragElastic:c=mg,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Cd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function n8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class a8 extends wi{constructor(e){super(e),this.removeGroupControls=Xa,this.removeListeners=Xa,this.controls=new t8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xa}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const Uw=t=>(e,n)=>{t&&kt.postRender(()=>t(e,n))};class s8 extends wi{constructor(){super(...arguments),this.removePointerDownListener=Xa}onPointerDown(e){this.session=new HT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Uw(e),onStart:Uw(n),onMove:s,onEnd:(l,c)=>{delete this.session,i&&kt.postRender(()=>i(l,c))}}}mount(){this.removePointerDownListener=Pc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let vp=!1;class r8 extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&i&&s.register(l),vp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Kd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,vp=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||kt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),x0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;vp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function GT(t){const[e,n]=RT(),s=T.useContext(Xg);return f.jsx(r8,{...t,layoutGroup:s,switchLayoutGroup:T.useContext(qT),isPresent:e,safeToRemove:n})}const i8={pan:{Feature:s8},drag:{Feature:a8,ProjectionNode:MT,MeasureLayout:GT}};function qw(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,l=s[i];l&&kt.postRender(()=>l(e,ou(e)))}class o8 extends wi{mount(){const{current:e}=this.node;e&&(this.unmount=VR(e,(n,s)=>(qw(this.node,s,"Start"),i=>qw(this.node,i,"End"))))}unmount(){}}class l8 extends wi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=su(Yc(this.node.current,"focus",()=>this.onFocus()),Yc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $w(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),l=s[i];l&&kt.postRender(()=>l(e,ou(e)))}class c8 extends wi{mount(){const{current:e}=this.node;e&&(this.unmount=GR(e,(n,s)=>($w(this.node,s,"Start"),(i,{success:l})=>$w(this.node,i,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pg=new WeakMap,wp=new WeakMap,u8=t=>{const e=pg.get(t.target);e&&e(t)},d8=t=>{t.forEach(u8)};function f8({root:t,...e}){const n=t||document;wp.has(n)||wp.set(n,{});const s=wp.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(d8,{root:t,...e})),s[i]}function h8(t,e,n){const s=f8(e);return pg.set(t,n),s.observe(t),()=>{pg.delete(t),s.unobserve(t)}}const m8={some:0,all:1};class p8 extends wi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:m8[i]},d=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:b}=this.node.getProps(),x=m?y:b;x&&x(h)};return h8(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(g8(e,n))&&this.startObserver()}unmount(){}}function g8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const y8={inView:{Feature:p8},tap:{Feature:c8},focus:{Feature:l8},hover:{Feature:o8}},b8={layout:{ProjectionNode:MT,MeasureLayout:GT}},x8={...VL,...y8,...i8,...b8},dt=BL(x8,IL);function Qi({isOpen:t,onClose:e,onConfirm:n,title:s="Confirm Action",message:i="Are you sure you want to proceed?",confirmText:l="Delete",cancelText:c="Cancel",isDangerous:d=!1}){return f.jsx(dn,{children:t&&f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[f.jsx(dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),f.jsxs(dt.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden relative z-10 border border-cream-100",children:[f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx("div",{className:`p-3 rounded-full ${d?"bg-red-50 text-red-500":"bg-amber-50 text-amber-500"}`,children:f.jsx(uk,{size:24})}),f.jsx("h3",{className:"text-xl font-bold text-cream-900",children:s})]}),f.jsx("p",{className:"text-cream-900/70 leading-relaxed mb-6 ml-14",children:i}),f.jsxs("div",{className:"flex gap-3 justify-end",children:[f.jsx("button",{onClick:e,className:"px-4 py-2 rounded-xl text-cream-700 font-medium hover:bg-cream-50 transition-colors",children:c}),f.jsx("button",{onClick:()=>{n(),e()},className:`px-4 py-2 rounded-xl text-white font-medium shadow-sm transition-colors ${d?"bg-red-500 hover:bg-red-600":"bg-cream-900 hover:bg-cream-800"}`,children:l})]})]}),f.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 text-cream-400 hover:text-cream-900 hover:bg-cream-50 rounded-lg transition-colors",children:f.jsx(Ka,{size:18})})]})]})})}const Sp=[{name:"Default",prompt:""}],j0=()=>{const{t}=yn(),{personas:e,currentPersonaId:n,setCurrentPersonaId:s,addPersona:i,updatePersona:l,deletePersona:c,diarySettings:d,setDiarySettings:h}=oo(),[m,y]=T.useState(null),[b,x]=T.useState({name:"",description:"",replyStyle:"warm",customPrompt:""}),[w,N]=T.useState(!1),[_,C]=T.useState(null),[R,E]=T.useState(!1),[D,I]=T.useState({name:"",prompt:""}),[P,U]=T.useState(()=>{try{const A=localStorage.getItem("diary_style_custom_presets");return(A?JSON.parse(A):[]).filter(V=>V.name!=="Empathetic & Reflective")}catch(A){return console.error("Failed to load custom presets",A),[]}}),z=[...Sp,...P];T.useEffect(()=>{localStorage.setItem("diary_style_custom_presets",JSON.stringify(P))},[P]),T.useEffect(()=>{(d.diaryStyle==="Empathetic & Reflective"||d.diaryStyle==="Custom")&&h({...d,diaryStyle:"Default",diaryStylePrompt:""})},[d,h]);const L=()=>{if(!D.name.trim()||!D.prompt.trim())return;if(z.some(B=>B.name===D.name)){alert("A preset with this name already exists.");return}const A={...D};U([...P,A]),h({...d,diaryStyle:A.name,diaryStylePrompt:A.prompt}),I({name:"",prompt:""}),E(!1)},W=(A,B)=>{if(B.stopPropagation(),confirm(`Delete preset "${A}"?`)){const V=P.filter(le=>le.name!==A);U(V),d.diaryStyle===A&&h({...d,diaryStyle:Sp[0].name,diaryStylePrompt:Sp[0].prompt})}},se=A=>{C(A),N(!0)},k=()=>{_&&(c(_),C(null),m===_&&y(null))},F=A=>{y(A.id);let B=A.name;A.id==="default"&&(A.name==="Default"||A.name==="Empathetic Companion")&&(B=t("settings.ai.defaultPersona.name")),x({name:B,description:A.id==="default"?t("settings.ai.defaultPersona.description"):A.description,replyStyle:A.replyStyle,customPrompt:A.customPrompt||""})},q=()=>{if(b.name.trim(),e.find(B=>B.id===m)?.isDefault&&t("settings.ai.defaultPersona.name"),m==="new"){const B=i({name:b.name,description:b.description,replyStyle:b.replyStyle,customPrompt:b.customPrompt});s(B)}else l(m,{name:b.name,description:b.description,replyStyle:b.replyStyle,customPrompt:b.customPrompt});y(null)},Z=e.find(A=>A.id===m)?.isDefault,re=()=>{y("new"),x({name:t("settings.ai.createNew"),description:t("settings.ai.newPersonaDesc"),replyStyle:"warm",customPrompt:""})};return f.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 space-y-6 h-full overflow-y-auto custom-scrollbar",children:[f.jsx(Qi,{isOpen:w,onClose:()=>N(!1),onConfirm:k,title:t("settings.ai.deleteConfirmTitle"),message:t("settings.ai.deleteConfirmMessage"),confirmText:t("settings.ai.delete"),isDangerous:!0}),f.jsx("div",{className:"flex items-center justify-between mb-4",children:f.jsxs("h2",{className:"text-xl font-bold text-cream-900 flex items-center gap-2",children:[f.jsx(Fp,{className:"text-cream-900"}),t("settings.ai.title")]})}),f.jsx(dn,{mode:"wait",children:m?f.jsxs(dt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-6 overflow-hidden",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-cream-900 mb-1",children:t("settings.ai.name")}),f.jsx("input",{value:b.name,onChange:A=>x({...b,name:A.target.value}),onBlur:()=>{e.find(B=>B.id===m)?.isDefault&&!b.name.trim()&&x(B=>({...B,name:t("settings.ai.defaultPersona.name")}))},className:"w-full p-3 bg-cream-50 border border-cream-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cream-300"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-cream-900 mb-1",children:t("settings.ai.description")}),f.jsx("input",{value:b.description,onChange:A=>x({...b,description:A.target.value}),disabled:Z,className:Ne("w-full p-3 border border-cream-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cream-300",Z?"bg-cream-100 text-cream-500 cursor-not-allowed":"bg-cream-50")})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-cream-900 mb-1",children:t("settings.ai.replyStyle")}),f.jsxs("select",{value:b.replyStyle,onChange:A=>x({...b,replyStyle:A.target.value}),className:"w-full p-3 bg-cream-50 border border-cream-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cream-300",children:[f.jsx("option",{value:"warm",children:t("settings.ai.styles.warm")}),f.jsx("option",{value:"analytical",children:t("settings.ai.styles.analytical")}),f.jsx("option",{value:"concise",children:t("settings.ai.styles.concise")}),f.jsx("option",{value:"humorous",children:t("settings.ai.styles.humorous")})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-cream-900 mb-1",children:t("settings.ai.customPrompt")}),f.jsx("textarea",{value:Z?t("settings.ai.defaultSystemPromptHidden"):b.customPrompt,onChange:A=>x({...b,customPrompt:A.target.value}),disabled:Z,rows:4,className:Ne("w-full p-3 border border-cream-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cream-300",Z?"bg-cream-100 text-cream-400 italic cursor-not-allowed":"bg-cream-50"),placeholder:t("settings.ai.promptPlaceholder")})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[!e.find(A=>A.id===m)?.isDefault&&f.jsx("button",{onClick:()=>se(m),className:"px-4 py-3 rounded-xl border border-red-200 text-red-500 hover:bg-red-50 transition-colors",title:t("settings.ai.delete"),children:f.jsx(fn,{size:18})}),f.jsx("button",{onClick:()=>y(null),className:"flex-1 py-3 rounded-xl border border-cream-200 text-cream-900 hover:bg-cream-50 transition-colors",children:t("settings.ai.cancel")}),f.jsxs("button",{onClick:q,className:"flex-1 py-3 rounded-xl bg-cream-900 text-white hover:bg-cream-800 transition-colors flex items-center justify-center gap-2",children:[f.jsx(Ji,{size:18}),t("settings.ai.savePersona")]})]})]}):f.jsxs(dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[e.map(A=>f.jsxs("div",{onClick:()=>s(A.id),className:Ne("p-4 rounded-xl border cursor-pointer transition-all relative group",n===A.id?"bg-cream-900 text-white border-cream-900 shadow-lg scale-[1.02]":"bg-white border-cream-200 hover:border-cream-300 hover:shadow-md text-cream-900"),children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(eo,{size:18,className:n===A.id?"text-cream-200":"text-cream-400"}),f.jsx("h3",{className:"font-bold",children:A.id==="default"&&(A.name==="Empathetic Companion"||A.name==="Default")?t("settings.ai.defaultPersona.name"):A.name})]}),n===A.id&&f.jsx(ys,{size:18,className:"text-green-400"})]}),f.jsx("p",{className:Ne("text-sm mb-3",n===A.id?"text-cream-100":"text-cream-600"),children:A.id==="default"?t("settings.ai.defaultPersona.description"):A.description}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("span",{className:Ne("text-xs px-2 py-1 rounded-md capitalize",n===A.id?"bg-white/20":"bg-cream-100 text-cream-700"),children:t(`settings.ai.styles.${A.replyStyle}`)||A.replyStyle})}),f.jsxs("div",{className:Ne("absolute right-2 bottom-2 transition-opacity flex gap-1",n===A.id?"opacity-100":"opacity-0 group-hover:opacity-100"),children:[f.jsx("button",{onClick:B=>{B.stopPropagation(),F(A)},className:Ne("p-1.5 rounded-lg transition-colors",n===A.id?"hover:bg-white/20 text-white":"hover:bg-cream-100 text-cream-600"),children:f.jsx(Fp,{size:14})}),!A.isDefault&&f.jsx("button",{onClick:B=>{B.stopPropagation(),se(A.id)},className:Ne("p-1.5 rounded-lg transition-colors",n===A.id?"hover:bg-red-500/50 text-white":"hover:bg-red-100 text-red-500"),children:f.jsx(fn,{size:14})})]})]},A.id)),f.jsxs("button",{onClick:re,className:"w-full py-4 border-2 border-dashed border-cream-200 rounded-xl text-cream-400 hover:text-cream-900 hover:border-cream-400 transition-all flex items-center justify-center gap-2 font-medium",children:[f.jsx(Sr,{size:20}),t("settings.ai.createNew")]})]})}),!m&&f.jsxs("div",{className:"bg-cream-50 rounded-xl border border-cream-200 p-6 space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(ms,{size:20,className:"text-cream-900"}),f.jsx("h3",{className:"font-bold text-lg text-cream-900",children:t("settings.ai.globalStyle.title")})]}),f.jsx("p",{className:"text-sm text-cream-600 mb-4",children:t("settings.ai.globalStyle.description")}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-cream-500 mb-1",children:t("settings.ai.globalStyle.preset")}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("select",{value:d.diaryStyle,onChange:A=>{const B=A.target.value,V=z.find(ue=>ue.name===B);let le=d.diaryStylePrompt;V&&(le=V.prompt),h({...d,diaryStyle:B,diaryStylePrompt:le})},className:"flex-1 p-2.5 bg-white border border-cream-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-cream-300 text-sm",children:z.map(A=>f.jsx("option",{value:A.name,children:A.name==="Default"?t("settings.ai.globalStyle.defaultPreset"):A.name},A.name))}),f.jsx("button",{onClick:()=>E(!R),className:"p-2.5 bg-white border border-cream-200 rounded-lg text-cream-600 hover:text-cream-900 hover:border-cream-300 transition-colors",title:t("settings.ai.globalStyle.addPreset"),children:f.jsx(Sr,{size:18})}),P.some(A=>A.name===d.diaryStyle)&&f.jsx("button",{onClick:A=>W(d.diaryStyle,A),className:"p-2.5 bg-white border border-red-200 rounded-lg text-red-500 hover:bg-red-50 transition-colors",title:"Delete Current Preset",children:f.jsx(fn,{size:18})})]}),f.jsx(dn,{children:R&&f.jsxs(dt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 p-3 bg-white rounded-lg border border-cream-200 space-y-3 overflow-hidden",children:[f.jsx("h4",{className:"text-xs font-bold text-cream-900",children:t("settings.ai.globalStyle.newPresetTitle")}),f.jsx("input",{placeholder:t("settings.ai.globalStyle.presetNamePlaceholder"),value:D.name,onChange:A=>I({...D,name:A.target.value}),className:"w-full p-2 bg-cream-50 border border-cream-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-cream-300"}),f.jsx("textarea",{placeholder:t("settings.ai.globalStyle.stylePromptPlaceholder"),value:D.prompt,onChange:A=>I({...D,prompt:A.target.value}),rows:2,className:"w-full p-2 bg-cream-50 border border-cream-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-cream-300 resize-y"}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>E(!1),className:"px-3 py-1.5 text-xs text-cream-600 hover:bg-cream-50 rounded",children:t("settings.ai.cancel")}),f.jsx("button",{onClick:L,disabled:!D.name||!D.prompt,className:"px-3 py-1.5 text-xs bg-cream-900 text-white rounded hover:bg-cream-800 disabled:opacity-50",children:t("settings.ai.globalStyle.addPreset")})]})]})})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-xs font-medium text-cream-500 mb-1",children:[t("settings.ai.globalStyle.wordCount"),": ",f.jsx("span",{className:"font-bold text-cream-900",children:d.wordCount})," ",t("settings.ai.globalStyle.words")]}),f.jsx("input",{type:"range",min:"100",max:"1000",step:"50",value:d.wordCount,onChange:A=>h({...d,wordCount:parseInt(A.target.value)}),className:"w-full h-2 bg-cream-200 rounded-lg appearance-none cursor-pointer accent-cream-900"}),f.jsxs("div",{className:"flex justify-between text-[10px] text-cream-400 mt-1",children:[f.jsx("span",{children:"100"}),f.jsx("span",{children:"500"}),f.jsx("span",{children:"1000"})]})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-cream-200 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-cream-900 mb-0.5",children:t("settings.ai.globalStyle.withAiTrace")}),f.jsx("p",{className:"text-[10px] text-cream-500",children:t("settings.ai.globalStyle.withAiTraceDesc")})]}),f.jsx("button",{onClick:()=>h({...d,withAiTrace:!d.withAiTrace}),className:Ne("w-10 h-6 rounded-full transition-colors relative shrink-0",d.withAiTrace?"bg-cream-900":"bg-cream-200"),children:f.jsx("div",{className:Ne("w-4 h-4 bg-white rounded-full absolute top-1 transition-all shadow-sm",d.withAiTrace?"left-5":"left-1")})})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-xs font-medium text-cream-500 mb-1",children:[t("settings.ai.globalStyle.stylePrompt"),d.diaryStyle!=="Default"&&f.jsx("span",{className:"text-cream-400 font-normal ml-1",children:t("settings.ai.globalStyle.editable")})]}),f.jsx("textarea",{value:d.diaryStyle==="Default"?"Default":d.diaryStylePrompt,onChange:A=>{const B=A.target.value;h({...d,diaryStylePrompt:B}),P.some(V=>V.name===d.diaryStyle)&&U(V=>V.map(le=>le.name===d.diaryStyle?{...le,prompt:B}:le))},disabled:d.diaryStyle==="Default",rows:3,className:Ne("w-full p-3 bg-white border border-cream-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-cream-300 text-sm resize-none",d.diaryStyle==="Default"?"bg-cream-50 text-cream-400 cursor-not-allowed":"text-cream-900"),placeholder:"Style instructions..."})]})]})]})]})};function YT(){const{messages:t,isTyping:e,sendMessage:n,triggerAIResponse:s,currentPersona:i}=oo(),[l,c]=T.useState(""),[d,h]=T.useState(!1),m=T.useRef(null);jr();const y=()=>{m.current?.scrollIntoView({behavior:"smooth"})};T.useEffect(()=>{y()},[t,e]);const b=()=>{l.trim()&&(n(l),c(""))},x=async()=>{e||await s()};return f.jsxs("div",{className:"flex flex-col h-full relative",children:[f.jsx("div",{className:"px-4 py-2 bg-cream-50 border-b border-cream-100 flex justify-center sticky top-0 z-10 shadow-sm",children:f.jsxs("div",{className:"bg-cream-100/50 px-3 py-1 rounded-full text-xs text-cream-600 flex items-center gap-1.5 cursor-pointer hover:bg-cream-100 transition-colors",onClick:()=>h(!0),children:[f.jsx(ms,{size:12}),f.jsx("span",{className:"font-medium text-cream-900",children:i.name})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar bg-cream-50/30",children:[t.map(w=>f.jsx("div",{className:Ne("flex w-full",w.sender==="user"?"justify-end":"justify-start"),children:f.jsx("div",{className:Ne("max-w-[85%] p-3 rounded-2xl text-sm leading-relaxed shadow-sm",w.sender==="user"?"bg-cream-900 text-white rounded-tr-none":"bg-white text-cream-900 border border-cream-100 rounded-tl-none"),children:w.text})},w.id)),e&&f.jsx("div",{className:"flex justify-start",children:f.jsx("div",{className:"bg-white px-3 py-2 rounded-2xl rounded-tl-none border border-cream-100 shadow-sm",children:f.jsxs("div",{className:"flex gap-1",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-cream-400 rounded-full typing-dot"}),f.jsx("span",{className:"w-1.5 h-1.5 bg-cream-400 rounded-full typing-dot"}),f.jsx("span",{className:"w-1.5 h-1.5 bg-cream-400 rounded-full typing-dot"})]})})}),f.jsx("div",{ref:m})]}),f.jsx("div",{className:"p-4 bg-white border-t border-cream-200",children:f.jsxs("div",{className:"relative",children:[f.jsx("input",{ref:inputRef,type:"text",value:l,onChange:w=>c(w.target.value),onCompositionStart:()=>setIsComposing(!0),onCompositionEnd:()=>setIsComposing(!1),onKeyDown:w=>{w.key==="Enter"&&!isComposing&&b()},placeholder:"Type your message...",className:"w-full pl-4 pr-24 py-3 bg-cream-50 border border-cream-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cream-200 text-sm transition-all"}),f.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[f.jsx("button",{onClick:b,disabled:!l.trim(),className:"p-1.5 text-cream-400 hover:text-cream-900 hover:bg-cream-200 rounded-lg transition-all disabled:opacity-50",title:"Send",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-message-circle","aria-hidden":"true",children:f.jsx("path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"})})}),f.jsx("button",{onClick:x,disabled:e||t.length===0,className:"p-1.5 text-cream-900 bg-cream-200 hover:bg-cream-300 rounded-lg transition-all disabled:opacity-50 disabled:bg-cream-100",title:"Reply",children:f.jsx(dl,{size:18})})]})]})}),f.jsx(dn,{children:d&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4",children:f.jsxs(dt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[85vh] flex flex-col overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-cream-100",children:[f.jsxs("h3",{className:"text-lg font-bold text-cream-900 flex items-center gap-2",children:[f.jsx(ms,{size:18,className:"text-cream-400"}),"AI Persona Settings"]}),f.jsx("button",{onClick:()=>h(!1),className:"p-2 text-cream-400 hover:bg-cream-50 rounded-lg transition-colors",children:f.jsx(Ka,{size:20})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",children:f.jsx(j0,{})})]})})})]})}const v8=[{path:"/calendar",icon:bl,label:"Calendar"},{path:"/categories",icon:jf,label:"Categories"},{path:"/write",icon:$c,label:"Write",isPrimary:!0},{path:"/profile",icon:eo,label:"Profile"},{path:"/settings",icon:Hg,label:"Settings"}];function w8(){const{isRightSidebarOpen:t,toggleRightSidebar:e}=Wg();return f.jsxs("div",{className:"flex flex-col h-[100dvh] bg-diary-bg text-cream-900 font-sans relative overflow-hidden supports-[height:100dvh]:h-[100dvh]",children:[f.jsx("main",{className:"flex-1 overflow-y-auto pb-[calc(7rem+env(safe-area-inset-bottom))] px-4 pt-[calc(1rem+env(safe-area-inset-top))] scroll-smooth",children:f.jsx(NS,{})}),f.jsx(dn,{children:t&&f.jsxs(f.Fragment,{children:[f.jsx(dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50"}),f.jsxs(dt.aside,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-y-0 right-0 w-[85%] max-w-sm bg-white shadow-2xl z-50 flex flex-col",children:[f.jsxs("div",{className:"p-4 border-b border-cream-200 flex items-center justify-between bg-white/50 backdrop-blur-sm",children:[f.jsxs("h2",{className:"font-semibold flex items-center gap-2 text-cream-900",children:[f.jsx(dl,{size:18}),"AI Assistant"]}),f.jsx("button",{onClick:e,className:"p-2 hover:bg-cream-100 rounded-full text-cream-900/50 hover:text-cream-900 transition-colors",children:f.jsx(Ka,{size:20})})]}),f.jsx("div",{className:"flex-1 overflow-hidden",children:f.jsx(YT,{})})]})]})}),f.jsx("nav",{className:"fixed bottom-6 left-4 right-4 bg-white/90 backdrop-blur-xl border border-white/40 shadow-xl rounded-2xl z-40",children:f.jsx("div",{className:"flex justify-center items-center h-16 px-1 gap-1",children:v8.map(n=>f.jsx(nf,{to:n.path,className:({isActive:s})=>Ne("relative flex flex-col items-center justify-center w-full h-full transition-all duration-300",s?"text-cream-900":"text-cream-900/40 hover:text-cream-900/60",n.isPrimary&&"text-cream-900"),children:({isActive:s})=>f.jsx(f.Fragment,{children:n.isPrimary?f.jsx("div",{className:Ne("absolute -top-6 bg-cream-900 text-white p-3.5 rounded-full shadow-lg shadow-cream-900/20 transition-transform duration-300",s&&"scale-110"),children:f.jsx(n.icon,{size:24})}):f.jsxs("div",{className:"flex flex-col items-center gap-1",children:[f.jsx(n.icon,{size:22,strokeWidth:s?2.5:2,className:"transition-all"}),s&&f.jsx("span",{className:"w-1 h-1 bg-cream-900 rounded-full animate-in fade-in zoom-in"})]})})},n.path))})})]})}const Wd={language:"en-US",primaryColor:"#4A453E",backgroundColor:"#FDFBF7",chatBgImage:null,bubbleCss:""},KT=T.createContext({theme:Wd,updateTheme:()=>{},resetTheme:()=>{},t:t=>t});function S8({children:t}){const{t:e,i18n:n}=yn(),[s,i]=T.useState(()=>{try{const d=localStorage.getItem("app_theme"),h=d?JSON.parse(d):{};return h.language||(h.language=n.language||"en-US"),{...Wd,...h}}catch{return Wd}});T.useEffect(()=>{s.language&&s.language!==n.language&&n.changeLanguage(s.language)},[s.language,n]),T.useEffect(()=>{const d=h=>{h&&h!==s.language&&i(m=>({...m,language:h}))};return n.on("languageChanged",d),()=>{n.off("languageChanged",d)}},[s.language,n]),T.useEffect(()=>{localStorage.setItem("app_theme",JSON.stringify(s));const d=document.documentElement;d.style.setProperty("--color-cream-900",s.primaryColor),d.style.setProperty("--color-diary-bg",s.backgroundColor);let h=document.getElementById("custom-bubble-css");h||(h=document.createElement("style"),h.id="custom-bubble-css",document.head.appendChild(h)),h.textContent=s.bubbleCss||""},[s]);const l=d=>{i(h=>({...h,...d}))},c=()=>{i(d=>({...Wd,language:d.language}))};return f.jsx(KT.Provider,{value:{theme:s,updateTheme:l,resetTheme:c,t:e},children:t})}const _0=()=>T.useContext(KT),N8={lessThanXSeconds:{one:"1",other:"{{count}}",oneWithSuffix:"1",otherWithSuffix:"{{count}}"},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1",other:"{{count}}",oneWithSuffix:"1",otherWithSuffix:"{{count}}"},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:"1",other:"{{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:"1",other:"{{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:"1",other:"{{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:"1",other:"{{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1",other:"{{count}}"},almostXYears:{one:"1",other:"{{count}}"}},T8=(t,e,n)=>{n=n||{};let s;const i=N8[t];return typeof i=="string"?s=i:e===1?n.addSuffix&&i.oneWithSuffix?s=i.oneWithSuffix:s=i.one:n.addSuffix&&i.otherWithSuffix?s=i.otherWithSuffix.replace("{{count}}",String(e)):s=i.other.replace("{{count}}",String(e)),n.addSuffix?n.comparison&&n.comparison>0?s+"":s+"":s},E8={full:"yMdEEEE",long:"yMd",medium:"y/MM/dd",short:"y/MM/dd"},C8={full:"Hmmss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},A8={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},j8={date:Wa({formats:E8,defaultWidth:"full"}),time:Wa({formats:C8,defaultWidth:"full"}),dateTime:Wa({formats:A8,defaultWidth:"full"})},_8={lastWeek:"eeeep",yesterday:"p",today:"p",tomorrow:"p",nextWeek:"eeeep",other:"P"},k8=(t,e,n,s)=>_8[t],O8={narrow:["BC","AC"],abbreviated:["",""],wide:["",""]},D8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},M8={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},R8={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},L8={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},P8={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},z8=(t,e)=>{const n=Number(t);switch(String(e?.unit)){case"year":return`${n}`;case"quarter":return`${n}`;case"month":return`${n}`;case"week":return`${n}`;case"date":return`${n}`;case"hour":return`${n}`;case"minute":return`${n}`;case"second":return`${n}`;default:return`${n}`}},B8={ordinalNumber:z8,era:nn({values:O8,defaultWidth:"wide"}),quarter:nn({values:D8,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:nn({values:M8,defaultWidth:"wide"}),day:nn({values:R8,defaultWidth:"wide"}),dayPeriod:nn({values:L8,defaultWidth:"wide",formattingValues:P8,defaultFormattingWidth:"wide"})},I8=/^?\d+(|||||||)?/i,U8=/\d+/i,q8={narrow:/^(B\.?C\.?|A\.?D\.?)/i,abbreviated:/^([]|)/i,wide:/^([]|)/i},$8={narrow:[/^B/i,/^A/i],any:[/^()/i,/^(|)/i]},V8={narrow:/^[1234]/i,abbreviated:/^Q[1234]/i,wide:/^[1234]/i},H8={any:[/(1||)/i,/(2||)/i,/(3||)/i,/(4||)/i]},F8={narrow:/^([123456789]|1[012])/,abbreviated:/^([123456789]|1[012])/i,wide:/^([123456789]|1[012])/i},G8={any:[/^1\D/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},Y8={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},K8={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},W8={any:/^(AM|PM|||||||)/i},X8={any:{am:/^(A|)/i,pm:/^(P|)/i,midnight:/^|/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},Z8={ordinalNumber:Of({matchPattern:I8,parsePattern:U8,valueCallback:function(t){return parseInt(t,10)}}),era:an({matchPatterns:q8,defaultMatchWidth:"wide",parsePatterns:$8,defaultParseWidth:"any"}),quarter:an({matchPatterns:V8,defaultMatchWidth:"wide",parsePatterns:H8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:an({matchPatterns:F8,defaultMatchWidth:"wide",parsePatterns:G8,defaultParseWidth:"any"}),day:an({matchPatterns:Y8,defaultMatchWidth:"wide",parsePatterns:K8,defaultParseWidth:"any"}),dayPeriod:an({matchPatterns:W8,defaultMatchWidth:"any",parsePatterns:X8,defaultParseWidth:"any"})},Pf={code:"ja",formatDistance:T8,formatLong:j8,formatRelative:k8,localize:B8,match:Z8,options:{weekStartsOn:0,firstWeekContainsDate:1}},Q8={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},J8=(t,e,n)=>{let s;const i=Q8[t];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?s+"":s+"":s},e9={full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},t9={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},n9={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},a9={date:Wa({formats:e9,defaultWidth:"full"}),time:Wa({formats:t9,defaultWidth:"full"}),dateTime:Wa({formats:n9,defaultWidth:"full"})};function Vw(t,e,n){const s="eeee p";return yD(t,e,n)?s:t.getTime()>e.getTime()?"''"+s:"''"+s}const s9={lastWeek:Vw,yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:Vw,other:"PP p"},r9=(t,e,n,s)=>{const i=s9[t];return typeof i=="function"?i(e,n,s):i},i9={narrow:["",""],abbreviated:["",""],wide:["",""]},o9={narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},l9={narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},c9={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},u9={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},d9={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},f9=(t,e)=>{const n=Number(t);switch(e?.unit){case"date":return n.toString()+"";case"hour":return n.toString()+"";case"minute":return n.toString()+"";case"second":return n.toString()+"";default:return" "+n.toString()}},h9={ordinalNumber:f9,era:nn({values:i9,defaultWidth:"wide"}),quarter:nn({values:o9,defaultWidth:"wide",argumentCallback:t=>t-1}),month:nn({values:l9,defaultWidth:"wide"}),day:nn({values:c9,defaultWidth:"wide"}),dayPeriod:nn({values:u9,defaultWidth:"wide",formattingValues:d9,defaultFormattingWidth:"wide"})},m9=/^(\s*)?\d+(|||)?/i,p9=/\d+/i,g9={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},y9={any:[/^()/i,/^()/i]},b9={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},x9={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},v9={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},w9={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},S9={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},N9={any:[//i,//i,//i,//i,//i,//i,//i]},T9={any:/^(?|?||[]|?||?||)/i},E9={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},C9={ordinalNumber:Of({matchPattern:m9,parsePattern:p9,valueCallback:t=>parseInt(t,10)}),era:an({matchPatterns:g9,defaultMatchWidth:"wide",parsePatterns:y9,defaultParseWidth:"any"}),quarter:an({matchPatterns:b9,defaultMatchWidth:"wide",parsePatterns:x9,defaultParseWidth:"any",valueCallback:t=>t+1}),month:an({matchPatterns:v9,defaultMatchWidth:"wide",parsePatterns:w9,defaultParseWidth:"any"}),day:an({matchPatterns:S9,defaultMatchWidth:"wide",parsePatterns:N9,defaultParseWidth:"any"}),dayPeriod:an({matchPatterns:T9,defaultMatchWidth:"any",parsePatterns:E9,defaultParseWidth:"any"})},Za={code:"zh-CN",formatDistance:J8,formatLong:a9,formatRelative:r9,localize:h9,match:C9,options:{weekStartsOn:1,firstWeekContainsDate:4}},A9={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},j9=(t,e,n)=>{let s;const i=A9[t];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?s+"":s+"":s},_9={full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},k9={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},O9={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},D9={date:Wa({formats:_9,defaultWidth:"full"}),time:Wa({formats:k9,defaultWidth:"full"}),dateTime:Wa({formats:O9,defaultWidth:"full"})},M9={lastWeek:"''eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"''eeee p",other:"P"},R9=(t,e,n,s)=>M9[t],L9={narrow:["",""],abbreviated:["",""],wide:["",""]},P9={narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},z9={narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},B9={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},I9={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},U9={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},q9=(t,e)=>{const n=Number(t);switch(e?.unit){case"date":return n+"";case"hour":return n+"";case"minute":return n+"";case"second":return n+"";default:return" "+n}},$9={ordinalNumber:q9,era:nn({values:L9,defaultWidth:"wide"}),quarter:nn({values:P9,defaultWidth:"wide",argumentCallback:t=>t-1}),month:nn({values:z9,defaultWidth:"wide"}),day:nn({values:B9,defaultWidth:"wide"}),dayPeriod:nn({values:I9,defaultWidth:"wide",formattingValues:U9,defaultFormattingWidth:"wide"})},V9=/^(\s*)?\d+(|||)?/i,H9=/\d+/i,F9={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},G9={any:[/^()/i,/^()/i]},Y9={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},K9={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},W9={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},X9={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},Z9={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},Q9={any:[//i,//i,//i,//i,//i,//i,//i]},J9={any:/^(?|?||[]|?||?|)/i},eP={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},tP={ordinalNumber:Of({matchPattern:V9,parsePattern:H9,valueCallback:t=>parseInt(t,10)}),era:an({matchPatterns:F9,defaultMatchWidth:"wide",parsePatterns:G9,defaultParseWidth:"any"}),quarter:an({matchPatterns:Y9,defaultMatchWidth:"wide",parsePatterns:K9,defaultParseWidth:"any",valueCallback:t=>t+1}),month:an({matchPatterns:W9,defaultMatchWidth:"wide",parsePatterns:X9,defaultParseWidth:"any"}),day:an({matchPatterns:Z9,defaultMatchWidth:"wide",parsePatterns:Q9,defaultParseWidth:"any"}),dayPeriod:an({matchPatterns:J9,defaultMatchWidth:"any",parsePatterns:eP,defaultParseWidth:"any"})},Tl={code:"zh-TW",formatDistance:j9,formatLong:D9,formatRelative:R9,localize:$9,match:tP,options:{weekStartsOn:1,firstWeekContainsDate:4}};function WT({selectedDate:t,onDateSelect:e}){const{t:n,i18n:s}=yn(),[i,l]=T.useState(t?new Date(t):new Date),[c,d]=T.useState(!1),h=new Date,m=jr(),{getDiaryByDate:y}=io(),x={en:hn,"en-US":hn,zh:Za,"zh-CN":Za,"zh-TW":Tl}[s.language]||hn,w=yO(i),N=pO(w),_=Nr(w,{locale:x}),C=wv(N,{locale:x}),R=vv({start:_,end:C}),E=Array.from({length:10},(k,F)=>gD(h)-5+F),D=Array.from({length:12},(k,F)=>ht(new Date(2024,F,1),"MMMM",{locale:x})),I=vv({start:Nr(new Date,{locale:x}),end:wv(new Date,{locale:x})}).map(k=>ht(k,"EEEEE",{locale:x})),P=k=>{k.stopPropagation(),l(PD(i))},U=k=>{k.stopPropagation(),l(aN(i,1))},z=k=>{const F=ht(k,"yyyy-MM-dd");ht(new Date,"yyyy-MM-dd");const q=!!y(F);m(q?`/date/${F}`:`/write?date=${F}`)},L=()=>{m("/calendar")},W=k=>{l(RD(i,k))},se=k=>{l(LD(i,k))};return f.jsxs("div",{className:"w-full bg-cream-50 rounded-xl p-3 border border-cream-200 relative overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[f.jsxs("div",{className:"flex items-center gap-1 cursor-pointer hover:bg-cream-100 rounded-lg transition-colors p-1",onClick:L,title:"View Timeline",children:[f.jsx(bl,{size:14,className:"text-cream-900/60"}),f.jsx("h3",{className:"text-sm font-semibold text-cream-900",children:ht(i,"MMMM yyyy",{locale:x})})]}),f.jsxs("div",{className:"flex gap-1 items-center",children:[f.jsx("button",{onClick:()=>d(!c),className:Ne("px-2 py-1 text-[10px] font-medium rounded-md transition-colors border",c?"bg-cream-900 text-white border-cream-900":"bg-white text-cream-900 border-cream-200 hover:bg-cream-100"),children:n(c?"common.close":"common.select")}),f.jsxs("div",{className:"flex gap-0.5",children:[f.jsx("button",{onClick:P,className:"p-1 hover:bg-cream-200 rounded-full transition-colors",children:f.jsx(MS,{size:14})}),f.jsx("button",{onClick:U,className:"p-1 hover:bg-cream-200 rounded-full transition-colors",children:f.jsx(W4,{size:14})})]})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(dn,{children:c&&f.jsxs(dt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute inset-0 bg-cream-50 z-10 flex flex-col gap-2 overflow-y-auto custom-scrollbar p-1",children:[f.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:D.map((k,F)=>f.jsx("button",{onClick:()=>W(F),className:Ne("text-xs py-1.5 rounded-md transition-colors",F===i.getMonth()?"bg-cream-900 text-white":"hover:bg-cream-200 text-cream-900/80"),children:k.slice(0,3)},k))}),f.jsx("div",{className:"border-t border-cream-200 my-1"}),f.jsx("div",{className:"grid grid-cols-4 gap-2",children:E.map(k=>f.jsx("button",{onClick:()=>se(k),className:Ne("text-xs py-1.5 rounded-md transition-colors",k===i.getFullYear()?"bg-cream-900 text-white":"hover:bg-cream-200 text-cream-900/80"),children:k},k))})]})}),f.jsxs("div",{className:Ne("transition-opacity duration-300",c?"opacity-20":"opacity-100"),children:[f.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-1",children:I.map((k,F)=>f.jsx("div",{className:"text-[10px] text-cream-900/40 font-medium",children:k},`${k}-${F}`))}),f.jsx("div",{className:"grid grid-cols-7 gap-1 text-center",children:R.map((k,F)=>{const q=ht(k,"yyyy-MM-dd"),Z=fO(k,h),re=bD(k,i),A=!!y(q),B=t===q;return f.jsxs("div",{onClick:()=>z(k),className:Ne("aspect-square flex flex-col items-center justify-center text-xs rounded-full transition-all cursor-pointer relative",!re&&"text-cream-900/20",re&&"text-cream-900/80 hover:bg-cream-100",Z&&!B&&"bg-cream-900/10 text-cream-900 font-medium",B&&"bg-cream-900 text-white font-medium shadow-md scale-105",!Z&&!B&&A&&"font-semibold text-cream-900"),children:[f.jsx("span",{children:ht(k,"d")}),A&&f.jsx("div",{className:Ne("w-1 h-1 rounded-full mt-0.5",B?"bg-white":"bg-cream-900/40")})]},k.toString())})})]})]})]})}function nP(){const{isSidebarCollapsed:t,toggleSidebar:e,isRightSidebarOpen:n,toggleRightSidebar:s,rightSidebarWidth:i,setRightSidebarWidth:l}=Wg(),{t:c}=_0(),d=[{path:"/categories",icon:R4,label:c("nav.categories")},{path:`/write?date=${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}`,icon:$c,label:c("nav.write")},{path:"/profile",icon:eo,label:c("nav.profile")},{path:"/settings",icon:Hg,label:c("nav.settings")}],h=T.useRef(!1),m=T.useRef(null);T.useEffect(()=>{const b=w=>{if(!h.current)return;const N=window.innerWidth-w.clientX;N>250&&N<600&&l(N)},x=()=>{h.current=!1,document.body.style.cursor="default"};return document.addEventListener("mousemove",b),document.addEventListener("mouseup",x),()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",x)}},[l]);const y=b=>{h.current=!0,document.body.style.cursor="col-resize"};return f.jsxs("div",{className:"flex h-screen w-screen overflow-hidden bg-diary-bg",children:[f.jsxs(dt.aside,{animate:{width:t?80:280},transition:{type:"spring",stiffness:300,damping:30},className:"flex flex-col h-full bg-cream-50/50 border-r border-cream-200/60 shadow-sm relative z-20",children:[f.jsxs("div",{className:Ne("flex items-center transition-all",t?"justify-center p-4":"p-6 gap-3"),children:[f.jsx("button",{onClick:e,className:Ne("p-2 rounded-xl hover:bg-cream-100 text-cream-900 transition-colors",!t&&"-ml-2"),children:f.jsx("div",{className:"w-8 h-8 bg-cream-900 rounded-lg flex items-center justify-center text-white font-serif font-bold text-xl",children:"D"})}),f.jsx(dt.span,{animate:{opacity:t?0:1,width:t?0:"auto"},className:"text-xl font-bold text-cream-900 whitespace-nowrap overflow-hidden",children:c("layout.title")})]}),f.jsxs("div",{className:Ne("flex-1 overflow-y-auto px-4 custom-scrollbar",t&&"overflow-visible"),children:[f.jsx("div",{className:"mb-6",children:t?f.jsxs(nf,{to:"/calendar",className:({isActive:b})=>Ne("flex items-center justify-center w-full aspect-square rounded-xl transition-all group relative",b?"bg-white text-cream-900 shadow-sm border border-cream-100":"text-cream-900/60 hover:bg-cream-50 hover:text-cream-900"),children:[f.jsx(bl,{size:20}),f.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-cream-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity z-50 whitespace-nowrap",children:c("nav.calendar")})]}):f.jsx(dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"overflow-visible",children:f.jsx(WT,{})})}),f.jsx("nav",{className:"space-y-2",children:d.map(b=>f.jsxs(nf,{to:b.path,className:({isActive:x})=>Ne("flex items-center gap-3 px-4 py-3 rounded-xl transition-all group relative",x?"bg-cream-900 text-white shadow-md":"text-cream-600 hover:bg-cream-100 hover:text-cream-900",t&&"justify-center px-2"),children:[f.jsx(b.icon,{size:20,strokeWidth:2}),!t&&f.jsx("span",{className:"font-medium",children:b.label}),t&&f.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-cream-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 transition-opacity",children:b.label})]},b.path))})]}),f.jsx("div",{className:"p-4 border-t border-cream-200/60 mt-auto",children:!t&&f.jsx(dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"bg-cream-100/50 rounded-xl p-4 text-center",children:f.jsxs("p",{className:"text-xs text-cream-900/60 italic font-serif",children:['"',c("layout.quote"),'"']})})})]}),f.jsx("main",{className:"flex-1 overflow-hidden relative z-10 flex flex-col h-full",children:f.jsx("div",{className:"flex-1 p-6 md:p-8 h-full overflow-hidden flex flex-col",children:f.jsx(NS,{})})}),n&&f.jsxs("aside",{ref:m,style:{width:i},className:"bg-white border-l border-cream-200 flex flex-col shadow-xl relative z-20 transition-none h-screen",children:[f.jsx("div",{onMouseDown:y,className:"absolute left-0 top-0 bottom-0 w-1 hover:w-1.5 cursor-col-resize hover:bg-cream-300 transition-all z-30 flex items-center justify-center group",children:f.jsx("div",{className:"h-8 w-1 bg-cream-300 rounded-full group-hover:bg-cream-400"})}),f.jsxs("div",{className:"p-4 border-b border-cream-200 flex items-center justify-between bg-white/50 backdrop-blur-sm",children:[f.jsxs("h2",{className:"font-semibold flex items-center gap-2 text-cream-900",children:[f.jsx(dl,{size:18}),c("layout.aiAssistant")]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-green-100 text-green-700 rounded-full border border-green-200",children:c("layout.online")}),f.jsx("button",{onClick:s,className:"p-1 hover:bg-cream-100 rounded-md text-cream-900/50 hover:text-cream-900 transition-colors",children:f.jsx(B_,{size:16})})]})]}),f.jsx(YT,{})]})]})}function aP(){const t=E4();return t===void 0?null:f.jsx(iO,{children:t?f.jsx(w8,{}):f.jsx(nP,{})})}function sP(){const{t,i18n:e}=yn(),s={en:hn,"en-US":hn,zh:Za,"zh-CN":Za,"zh-TW":Tl,ja:Pf}[e.language]||hn,{diaries:i,deleteDiary:l}=io(),c=jr(),[d,h]=T.useState(!1),[m,y]=T.useState(null),[b,x]=T.useState(!1),[w,N]=T.useState(null),_=T.useMemo(()=>[...m?i.filter(z=>z.date===m):i].sort((z,L)=>{const W=new Date(L.date)-new Date(z.date);return W!==0?W:z.createdAt&&L.createdAt?new Date(L.createdAt)-new Date(z.createdAt):0}).reduce((z,L)=>(z[L.date]||(z[L.date]=[]),z[L.date].push(L),z),{}),[i,m]),C=T.useMemo(()=>{const P=new Date,U=P.getMonth(),z=P.getDate(),L=P.getFullYear();return i.filter(W=>{const se=new Date(W.date);return se.getMonth()===U&&se.getDate()===z&&se.getFullYear()!==L})},[i]),R=(P,U)=>{P.stopPropagation(),N(U),x(!0)},E=()=>{w&&(l(w),N(null))},D=P=>{switch(P?.toLowerCase()){case"happy":return f.jsx(sf,{size:14});case"sad":return f.jsx(RS,{size:14});case"neutral":return f.jsx(PS,{size:14});case"excited":return f.jsx(Yg,{size:14});case"loved":return f.jsx(kf,{size:14});default:return f.jsx(DS,{size:14})}},I=P=>({"Daily Life":"!border-l-[#A4B494]",Work:"!border-l-[#9FB8AD]",Travel:"!border-l-[#B6C6C8]",Emotions:"!border-l-[#DBC4C3]",Dreams:"!border-l-[#BEC3C8]",Reading:"!border-l-[#E2D5C4]"})[P]||"!border-l-[#D1D5DB]";return f.jsxs("div",{className:"h-full flex flex-col",children:[f.jsx(Qi,{isOpen:b,onClose:()=>x(!1),onConfirm:E,title:t("timeline.delete_title"),message:t("timeline.delete_confirm"),confirmText:t("timeline.delete_button"),isDangerous:!0}),f.jsxs("div",{className:"flex items-center justify-between mb-6 shrink-0",children:[f.jsxs("h1",{className:"text-2xl font-bold text-cream-900 flex items-center gap-2",children:[f.jsx(bl,{className:"text-cream-900"}),t("timeline.title")]}),f.jsx("button",{onClick:()=>h(!d),className:Ne("p-2 rounded-xl transition-all flex items-center gap-2 text-sm font-medium",d?"bg-cream-900 text-white shadow-md":"bg-white text-cream-900 shadow-sm border border-cream-100 hover:bg-cream-50"),title:t(d?"timeline.hide_calendar":"timeline.select_date"),children:f.jsx($4,{size:20})})]}),f.jsx(dn,{children:d&&f.jsx(dt.div,{initial:{height:0,opacity:0,marginBottom:0},animate:{height:"auto",opacity:1,marginBottom:24},exit:{height:0,opacity:0,marginBottom:0},className:"overflow-hidden shrink-0",children:f.jsx(WT,{})})}),f.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar relative pl-1 pr-4",children:[C.length>0&&f.jsx("div",{className:"mb-10 w-[100%] px-4 pl-12",children:f.jsx("div",{className:"space-y-4",children:C.map(P=>{const U=P.images&&P.images.length>0?P.images[0]:null;return f.jsxs("div",{onClick:()=>c(`/diary/${P.id}`),className:"bg-white rounded-[12px] py-4 px-6 shadow-sm border border-cream-100 cursor-pointer hover:shadow-md transition-all relative overflow-hidden group text-center",children:[U?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-105",style:{backgroundImage:`url(${U})`}}),f.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-[2px]"})]}):null,f.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[f.jsxs("span",{className:"text-[10px] font-bold text-cream-400 uppercase tracking-[0.2em] mb-1",children:[new Date().getFullYear()-new Date(P.date).getFullYear()," Year",new Date().getFullYear()-new Date(P.date).getFullYear()>1?"s":""," Ago  ",ht(xr(P.date),"MMMM do")]}),f.jsx("div",{className:"mb-1 text-cream-300",children:f.jsx(F_,{size:16,className:"fill-current opacity-20"})}),f.jsxs("p",{className:"text-cream-800 text-lg leading-relaxed font-serif italic mb-3 max-w-3xl mx-auto",children:['"',P.summary||P.content.replace(/<[^>]*>?/gm,"").substring(0,100)+"...",'"']}),f.jsx("div",{className:"w-8 h-px bg-cream-200 mb-2"}),f.jsxs("div",{className:"text-xs font-medium text-cream-400 group-hover:text-cream-600 transition-colors flex items-center gap-1",children:["Read Memory ",f.jsx(OS,{size:12})]})]})]},P.id)})})}),Object.keys(_).length===0?f.jsx("div",{className:"h-full flex flex-col items-center justify-center text-cream-900/40",children:f.jsx("p",{children:t("timeline.no_memories")})}):f.jsx("div",{className:"pb-12",children:Object.entries(_).map(([P,U],z)=>f.jsxs("div",{className:"mb-10 relative",children:[f.jsxs("div",{className:"flex items-baseline gap-3 mb-6 ml-0",children:[f.jsx("h2",{className:"text-3xl font-bold text-cream-900 tracking-tight",children:ht(xr(P),"MMM d",{locale:s})}),f.jsx("span",{className:"text-sm font-bold text-cream-400 uppercase tracking-widest",children:ht(xr(P),"EEE",{locale:s})})]}),f.jsx("div",{className:"relative ml-6 border-l-2 border-cream-200 pl-10 space-y-8 pb-4",children:U.map((L,W)=>{const se=L.createdAt?ht(new Date(L.createdAt),"HH:mm"):null;return f.jsxs(dt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:W*.05+z*.1},className:"relative group",onClick:()=>c(`/diary/${L.id}`),children:[f.jsx("div",{className:"absolute -left-[37px] top-1/2 -translate-y-1/2 w-4 h-4 rounded-full bg-cream-50 border-[3px] border-cream-300 box-border z-10 transition-colors group-hover:border-cream-400"}),f.jsxs("div",{className:Ne("bg-white rounded-[10px] p-5 shadow-sm border border-cream-100 group-hover:shadow-md group-hover:border-cream-200 transition-all cursor-pointer relative","border-l-[4px]",L.category?I(L.category):"border-l-cream-200"),children:[f.jsxs("div",{className:"space-y-2 mb-3",children:[L.title&&f.jsx("h3",{className:"font-bold text-cream-900 text-lg leading-tight",children:L.title}),f.jsx("div",{className:"text-cream-900/80 text-sm leading-relaxed line-clamp-3 font-serif",dangerouslySetInnerHTML:{__html:L.content}})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3 pt-3 border-t border-cream-50",children:[se&&f.jsx("span",{className:"text-xs font-semibold text-cream-400 mr-2 tabular-nums",children:se}),L.mood&&f.jsxs("span",{className:"px-2 py-0.5 bg-cream-50 text-cream-500 rounded-full text-xs border border-cream-100 flex items-center gap-1",children:[D(L.mood),t(`moods.${L.mood.toLowerCase()}`,{defaultValue:L.mood})]}),L.category&&f.jsxs("span",{className:"px-2 py-0.5 bg-amber-50 text-amber-600 rounded-full text-xs font-medium border border-amber-100 flex items-center gap-1",children:[f.jsx(Fg,{size:10}),L.category]}),L.tags&&Array.isArray(L.tags)&&L.tags.map((k,F)=>f.jsxs("span",{className:"text-xs text-cream-400 font-medium",children:["#",k]},F))]}),f.jsx("button",{onClick:k=>R(k,L.id),className:"absolute top-4 right-4 p-2 text-cream-300 hover:text-red-500 hover:bg-red-50 rounded-full transition-all opacity-0 group-hover:opacity-100",title:t("timeline.delete_title"),children:f.jsx(fn,{size:16})})]})]},L.id)})})]},P))})]})]})}var XT=typeof global=="object"&&global&&global.Object===Object&&global,rP=typeof self=="object"&&self&&self.Object===Object&&self,Hs=XT||rP||Function("return this")(),vi=Hs.Symbol,ZT=Object.prototype,iP=ZT.hasOwnProperty,oP=ZT.toString,wc=vi?vi.toStringTag:void 0;function lP(t){var e=iP.call(t,wc),n=t[wc];try{t[wc]=void 0;var s=!0}catch{}var i=oP.call(t);return s&&(e?t[wc]=n:delete t[wc]),i}var cP=Object.prototype,uP=cP.toString;function dP(t){return uP.call(t)}var fP="[object Null]",hP="[object Undefined]",Hw=vi?vi.toStringTag:void 0;function El(t){return t==null?t===void 0?hP:fP:Hw&&Hw in Object(t)?lP(t):dP(t)}function Er(t){return t!=null&&typeof t=="object"}var to=Array.isArray;function Si(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function QT(t){return t}var mP="[object AsyncFunction]",pP="[object Function]",gP="[object GeneratorFunction]",yP="[object Proxy]";function k0(t){if(!Si(t))return!1;var e=El(t);return e==pP||e==gP||e==mP||e==yP}var Np=Hs["__core-js_shared__"],Fw=(function(){var t=/[^.]+$/.exec(Np&&Np.keys&&Np.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function bP(t){return!!Fw&&Fw in t}var xP=Function.prototype,vP=xP.toString;function lo(t){if(t!=null){try{return vP.call(t)}catch{}try{return t+""}catch{}}return""}var wP=/[\\^$.*+?()[\]{}|]/g,SP=/^\[object .+?Constructor\]$/,NP=Function.prototype,TP=Object.prototype,EP=NP.toString,CP=TP.hasOwnProperty,AP=RegExp("^"+EP.call(CP).replace(wP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jP(t){if(!Si(t)||bP(t))return!1;var e=k0(t)?AP:SP;return e.test(lo(t))}function _P(t,e){return t?.[e]}function co(t,e){var n=_P(t,e);return jP(n)?n:void 0}var gg=co(Hs,"WeakMap"),Gw=Object.create,kP=(function(){function t(){}return function(e){if(!Si(e))return{};if(Gw)return Gw(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})();function OP(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function DP(t,e){var n=-1,s=t.length;for(e||(e=Array(s));++n<s;)e[n]=t[n];return e}var MP=800,RP=16,LP=Date.now;function PP(t){var e=0,n=0;return function(){var s=LP(),i=RP-(s-n);if(n=s,i>0){if(++e>=MP)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function zP(t){return function(){return t}}var gf=(function(){try{var t=co(Object,"defineProperty");return t({},"",{}),t}catch{}})(),BP=gf?function(t,e){return gf(t,"toString",{configurable:!0,enumerable:!1,value:zP(e),writable:!0})}:QT,IP=PP(BP);function UP(t,e){for(var n=-1,s=t==null?0:t.length;++n<s&&e(t[n],n,t)!==!1;);return t}var qP=9007199254740991,$P=/^(?:0|[1-9]\d*)$/;function JT(t,e){var n=typeof t;return e=e??qP,!!e&&(n=="number"||n!="symbol"&&$P.test(t))&&t>-1&&t%1==0&&t<e}function O0(t,e,n){e=="__proto__"&&gf?gf(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function lu(t,e){return t===e||t!==t&&e!==e}var VP=Object.prototype,HP=VP.hasOwnProperty;function eE(t,e,n){var s=t[e];(!(HP.call(t,e)&&lu(s,n))||n===void 0&&!(e in t))&&O0(t,e,n)}function FP(t,e,n,s){var i=!n;n||(n={});for(var l=-1,c=e.length;++l<c;){var d=e[l],h=void 0;h===void 0&&(h=t[d]),i?O0(n,d,h):eE(n,d,h)}return n}var Yw=Math.max;function GP(t,e,n){return e=Yw(e===void 0?t.length-1:e,0),function(){for(var s=arguments,i=-1,l=Yw(s.length-e,0),c=Array(l);++i<l;)c[i]=s[e+i];i=-1;for(var d=Array(e+1);++i<e;)d[i]=s[i];return d[e]=n(c),OP(t,this,d)}}function YP(t,e){return IP(GP(t,e,QT),t+"")}var KP=9007199254740991;function tE(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=KP}function zf(t){return t!=null&&tE(t.length)&&!k0(t)}function WP(t,e,n){if(!Si(n))return!1;var s=typeof e;return(s=="number"?zf(n)&&JT(e,n.length):s=="string"&&e in n)?lu(n[e],t):!1}function XP(t){return YP(function(e,n){var s=-1,i=n.length,l=i>1?n[i-1]:void 0,c=i>2?n[2]:void 0;for(l=t.length>3&&typeof l=="function"?(i--,l):void 0,c&&WP(n[0],n[1],c)&&(l=i<3?void 0:l,i=1),e=Object(e);++s<i;){var d=n[s];d&&t(e,d,s,l)}return e})}var ZP=Object.prototype;function D0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ZP;return t===n}function QP(t,e){for(var n=-1,s=Array(t);++n<t;)s[n]=e(n);return s}var JP="[object Arguments]";function Kw(t){return Er(t)&&El(t)==JP}var nE=Object.prototype,ez=nE.hasOwnProperty,tz=nE.propertyIsEnumerable,yg=Kw((function(){return arguments})())?Kw:function(t){return Er(t)&&ez.call(t,"callee")&&!tz.call(t,"callee")};function nz(){return!1}var aE=typeof _a=="object"&&_a&&!_a.nodeType&&_a,Ww=aE&&typeof ka=="object"&&ka&&!ka.nodeType&&ka,az=Ww&&Ww.exports===aE,Xw=az?Hs.Buffer:void 0,sz=Xw?Xw.isBuffer:void 0,Kc=sz||nz,rz="[object Arguments]",iz="[object Array]",oz="[object Boolean]",lz="[object Date]",cz="[object Error]",uz="[object Function]",dz="[object Map]",fz="[object Number]",hz="[object Object]",mz="[object RegExp]",pz="[object Set]",gz="[object String]",yz="[object WeakMap]",bz="[object ArrayBuffer]",xz="[object DataView]",vz="[object Float32Array]",wz="[object Float64Array]",Sz="[object Int8Array]",Nz="[object Int16Array]",Tz="[object Int32Array]",Ez="[object Uint8Array]",Cz="[object Uint8ClampedArray]",Az="[object Uint16Array]",jz="[object Uint32Array]",_t={};_t[vz]=_t[wz]=_t[Sz]=_t[Nz]=_t[Tz]=_t[Ez]=_t[Cz]=_t[Az]=_t[jz]=!0;_t[rz]=_t[iz]=_t[bz]=_t[oz]=_t[xz]=_t[lz]=_t[cz]=_t[uz]=_t[dz]=_t[fz]=_t[hz]=_t[mz]=_t[pz]=_t[gz]=_t[yz]=!1;function _z(t){return Er(t)&&tE(t.length)&&!!_t[El(t)]}function M0(t){return function(e){return t(e)}}var sE=typeof _a=="object"&&_a&&!_a.nodeType&&_a,zc=sE&&typeof ka=="object"&&ka&&!ka.nodeType&&ka,kz=zc&&zc.exports===sE,Tp=kz&&XT.process,hl=(function(){try{var t=zc&&zc.require&&zc.require("util").types;return t||Tp&&Tp.binding&&Tp.binding("util")}catch{}})(),Zw=hl&&hl.isTypedArray,R0=Zw?M0(Zw):_z,Oz=Object.prototype,Dz=Oz.hasOwnProperty;function rE(t,e){var n=to(t),s=!n&&yg(t),i=!n&&!s&&Kc(t),l=!n&&!s&&!i&&R0(t),c=n||s||i||l,d=c?QP(t.length,String):[],h=d.length;for(var m in t)(e||Dz.call(t,m))&&!(c&&(m=="length"||i&&(m=="offset"||m=="parent")||l&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||JT(m,h)))&&d.push(m);return d}function iE(t,e){return function(n){return t(e(n))}}var Mz=iE(Object.keys,Object),Rz=Object.prototype,Lz=Rz.hasOwnProperty;function Pz(t){if(!D0(t))return Mz(t);var e=[];for(var n in Object(t))Lz.call(t,n)&&n!="constructor"&&e.push(n);return e}function zz(t){return zf(t)?rE(t):Pz(t)}function Bz(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Iz=Object.prototype,Uz=Iz.hasOwnProperty;function qz(t){if(!Si(t))return Bz(t);var e=D0(t),n=[];for(var s in t)s=="constructor"&&(e||!Uz.call(t,s))||n.push(s);return n}function oE(t){return zf(t)?rE(t,!0):qz(t)}var Wc=co(Object,"create");function $z(){this.__data__=Wc?Wc(null):{},this.size=0}function Vz(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Hz="__lodash_hash_undefined__",Fz=Object.prototype,Gz=Fz.hasOwnProperty;function Yz(t){var e=this.__data__;if(Wc){var n=e[t];return n===Hz?void 0:n}return Gz.call(e,t)?e[t]:void 0}var Kz=Object.prototype,Wz=Kz.hasOwnProperty;function Xz(t){var e=this.__data__;return Wc?e[t]!==void 0:Wz.call(e,t)}var Zz="__lodash_hash_undefined__";function Qz(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Wc&&e===void 0?Zz:e,this}function no(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}no.prototype.clear=$z;no.prototype.delete=Vz;no.prototype.get=Yz;no.prototype.has=Xz;no.prototype.set=Qz;function Jz(){this.__data__=[],this.size=0}function Bf(t,e){for(var n=t.length;n--;)if(lu(t[n][0],e))return n;return-1}var e7=Array.prototype,t7=e7.splice;function n7(t){var e=this.__data__,n=Bf(e,t);if(n<0)return!1;var s=e.length-1;return n==s?e.pop():t7.call(e,n,1),--this.size,!0}function a7(t){var e=this.__data__,n=Bf(e,t);return n<0?void 0:e[n][1]}function s7(t){return Bf(this.__data__,t)>-1}function r7(t,e){var n=this.__data__,s=Bf(n,t);return s<0?(++this.size,n.push([t,e])):n[s][1]=e,this}function _r(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}_r.prototype.clear=Jz;_r.prototype.delete=n7;_r.prototype.get=a7;_r.prototype.has=s7;_r.prototype.set=r7;var Xc=co(Hs,"Map");function i7(){this.size=0,this.__data__={hash:new no,map:new(Xc||_r),string:new no}}function o7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function If(t,e){var n=t.__data__;return o7(e)?n[typeof e=="string"?"string":"hash"]:n.map}function l7(t){var e=If(this,t).delete(t);return this.size-=e?1:0,e}function c7(t){return If(this,t).get(t)}function u7(t){return If(this,t).has(t)}function d7(t,e){var n=If(this,t),s=n.size;return n.set(t,e),this.size+=n.size==s?0:1,this}function uo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}uo.prototype.clear=i7;uo.prototype.delete=l7;uo.prototype.get=c7;uo.prototype.has=u7;uo.prototype.set=d7;function f7(t,e){for(var n=-1,s=e.length,i=t.length;++n<s;)t[i+n]=e[n];return t}var lE=iE(Object.getPrototypeOf,Object),h7="[object Object]",m7=Function.prototype,p7=Object.prototype,cE=m7.toString,g7=p7.hasOwnProperty,y7=cE.call(Object);function b7(t){if(!Er(t)||El(t)!=h7)return!1;var e=lE(t);if(e===null)return!0;var n=g7.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&cE.call(n)==y7}function x7(){this.__data__=new _r,this.size=0}function v7(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function w7(t){return this.__data__.get(t)}function S7(t){return this.__data__.has(t)}var N7=200;function T7(t,e){var n=this.__data__;if(n instanceof _r){var s=n.__data__;if(!Xc||s.length<N7-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new uo(s)}return n.set(t,e),this.size=n.size,this}function qs(t){var e=this.__data__=new _r(t);this.size=e.size}qs.prototype.clear=x7;qs.prototype.delete=v7;qs.prototype.get=w7;qs.prototype.has=S7;qs.prototype.set=T7;var uE=typeof _a=="object"&&_a&&!_a.nodeType&&_a,Qw=uE&&typeof ka=="object"&&ka&&!ka.nodeType&&ka,E7=Qw&&Qw.exports===uE,Jw=E7?Hs.Buffer:void 0,e2=Jw?Jw.allocUnsafe:void 0;function dE(t,e){if(e)return t.slice();var n=t.length,s=e2?e2(n):new t.constructor(n);return t.copy(s),s}function C7(t,e){for(var n=-1,s=t==null?0:t.length,i=0,l=[];++n<s;){var c=t[n];e(c,n,t)&&(l[i++]=c)}return l}function A7(){return[]}var j7=Object.prototype,_7=j7.propertyIsEnumerable,t2=Object.getOwnPropertySymbols,k7=t2?function(t){return t==null?[]:(t=Object(t),C7(t2(t),function(e){return _7.call(t,e)}))}:A7;function O7(t,e,n){var s=e(t);return to(t)?s:f7(s,n(t))}function bg(t){return O7(t,zz,k7)}var xg=co(Hs,"DataView"),vg=co(Hs,"Promise"),wg=co(Hs,"Set"),n2="[object Map]",D7="[object Object]",a2="[object Promise]",s2="[object Set]",r2="[object WeakMap]",i2="[object DataView]",M7=lo(xg),R7=lo(Xc),L7=lo(vg),P7=lo(wg),z7=lo(gg),fs=El;(xg&&fs(new xg(new ArrayBuffer(1)))!=i2||Xc&&fs(new Xc)!=n2||vg&&fs(vg.resolve())!=a2||wg&&fs(new wg)!=s2||gg&&fs(new gg)!=r2)&&(fs=function(t){var e=El(t),n=e==D7?t.constructor:void 0,s=n?lo(n):"";if(s)switch(s){case M7:return i2;case R7:return n2;case L7:return a2;case P7:return s2;case z7:return r2}return e});var B7=Object.prototype,I7=B7.hasOwnProperty;function U7(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&I7.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var yf=Hs.Uint8Array;function L0(t){var e=new t.constructor(t.byteLength);return new yf(e).set(new yf(t)),e}function q7(t,e){var n=L0(t.buffer);return new t.constructor(n,t.byteOffset,t.byteLength)}var $7=/\w*$/;function V7(t){var e=new t.constructor(t.source,$7.exec(t));return e.lastIndex=t.lastIndex,e}var o2=vi?vi.prototype:void 0,l2=o2?o2.valueOf:void 0;function H7(t){return l2?Object(l2.call(t)):{}}function fE(t,e){var n=e?L0(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var F7="[object Boolean]",G7="[object Date]",Y7="[object Map]",K7="[object Number]",W7="[object RegExp]",X7="[object Set]",Z7="[object String]",Q7="[object Symbol]",J7="[object ArrayBuffer]",eB="[object DataView]",tB="[object Float32Array]",nB="[object Float64Array]",aB="[object Int8Array]",sB="[object Int16Array]",rB="[object Int32Array]",iB="[object Uint8Array]",oB="[object Uint8ClampedArray]",lB="[object Uint16Array]",cB="[object Uint32Array]";function uB(t,e,n){var s=t.constructor;switch(e){case J7:return L0(t);case F7:case G7:return new s(+t);case eB:return q7(t);case tB:case nB:case aB:case sB:case rB:case iB:case oB:case lB:case cB:return fE(t,n);case Y7:return new s;case K7:case Z7:return new s(t);case W7:return V7(t);case X7:return new s;case Q7:return H7(t)}}function hE(t){return typeof t.constructor=="function"&&!D0(t)?kP(lE(t)):{}}var dB="[object Map]";function fB(t){return Er(t)&&fs(t)==dB}var c2=hl&&hl.isMap,hB=c2?M0(c2):fB,mB="[object Set]";function pB(t){return Er(t)&&fs(t)==mB}var u2=hl&&hl.isSet,gB=u2?M0(u2):pB,yB=1,mE="[object Arguments]",bB="[object Array]",xB="[object Boolean]",vB="[object Date]",wB="[object Error]",pE="[object Function]",SB="[object GeneratorFunction]",NB="[object Map]",TB="[object Number]",gE="[object Object]",EB="[object RegExp]",CB="[object Set]",AB="[object String]",jB="[object Symbol]",_B="[object WeakMap]",kB="[object ArrayBuffer]",OB="[object DataView]",DB="[object Float32Array]",MB="[object Float64Array]",RB="[object Int8Array]",LB="[object Int16Array]",PB="[object Int32Array]",zB="[object Uint8Array]",BB="[object Uint8ClampedArray]",IB="[object Uint16Array]",UB="[object Uint32Array]",Nt={};Nt[mE]=Nt[bB]=Nt[kB]=Nt[OB]=Nt[xB]=Nt[vB]=Nt[DB]=Nt[MB]=Nt[RB]=Nt[LB]=Nt[PB]=Nt[NB]=Nt[TB]=Nt[gE]=Nt[EB]=Nt[CB]=Nt[AB]=Nt[jB]=Nt[zB]=Nt[BB]=Nt[IB]=Nt[UB]=!0;Nt[wB]=Nt[pE]=Nt[_B]=!1;function Xd(t,e,n,s,i,l){var c,d=e&yB;if(c!==void 0)return c;if(!Si(t))return t;var h=to(t);if(h)c=U7(t);else{var m=fs(t),y=m==pE||m==SB;if(Kc(t))return dE(t,d);if(m==gE||m==mE||y&&!i)c=y?{}:hE(t);else{if(!Nt[m])return i?t:{};c=uB(t,m,d)}}l||(l=new qs);var b=l.get(t);if(b)return b;l.set(t,c),gB(t)?t.forEach(function(N){c.add(Xd(N,e,n,N,t,l))}):hB(t)&&t.forEach(function(N,_){c.set(_,Xd(N,e,n,_,t,l))});var x=bg,w=h?void 0:x(t);return UP(w||t,function(N,_){w&&(_=N,N=t[_]),eE(c,_,Xd(N,e,n,_,t,l))}),c}var qB=1,$B=4;function ll(t){return Xd(t,qB|$B)}var VB="__lodash_hash_undefined__";function HB(t){return this.__data__.set(t,VB),this}function FB(t){return this.__data__.has(t)}function bf(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new uo;++e<n;)this.add(t[e])}bf.prototype.add=bf.prototype.push=HB;bf.prototype.has=FB;function GB(t,e){for(var n=-1,s=t==null?0:t.length;++n<s;)if(e(t[n],n,t))return!0;return!1}function YB(t,e){return t.has(e)}var KB=1,WB=2;function yE(t,e,n,s,i,l){var c=n&KB,d=t.length,h=e.length;if(d!=h&&!(c&&h>d))return!1;var m=l.get(t),y=l.get(e);if(m&&y)return m==e&&y==t;var b=-1,x=!0,w=n&WB?new bf:void 0;for(l.set(t,e),l.set(e,t);++b<d;){var N=t[b],_=e[b];if(s)var C=c?s(_,N,b,e,t,l):s(N,_,b,t,e,l);if(C!==void 0){if(C)continue;x=!1;break}if(w){if(!GB(e,function(R,E){if(!YB(w,E)&&(N===R||i(N,R,n,s,l)))return w.push(E)})){x=!1;break}}else if(!(N===_||i(N,_,n,s,l))){x=!1;break}}return l.delete(t),l.delete(e),x}function XB(t){var e=-1,n=Array(t.size);return t.forEach(function(s,i){n[++e]=[i,s]}),n}function ZB(t){var e=-1,n=Array(t.size);return t.forEach(function(s){n[++e]=s}),n}var QB=1,JB=2,eI="[object Boolean]",tI="[object Date]",nI="[object Error]",aI="[object Map]",sI="[object Number]",rI="[object RegExp]",iI="[object Set]",oI="[object String]",lI="[object Symbol]",cI="[object ArrayBuffer]",uI="[object DataView]",d2=vi?vi.prototype:void 0,Ep=d2?d2.valueOf:void 0;function dI(t,e,n,s,i,l,c){switch(n){case uI:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case cI:return!(t.byteLength!=e.byteLength||!l(new yf(t),new yf(e)));case eI:case tI:case sI:return lu(+t,+e);case nI:return t.name==e.name&&t.message==e.message;case rI:case oI:return t==e+"";case aI:var d=XB;case iI:var h=s&QB;if(d||(d=ZB),t.size!=e.size&&!h)return!1;var m=c.get(t);if(m)return m==e;s|=JB,c.set(t,e);var y=yE(d(t),d(e),s,i,l,c);return c.delete(t),y;case lI:if(Ep)return Ep.call(t)==Ep.call(e)}return!1}var fI=1,hI=Object.prototype,mI=hI.hasOwnProperty;function pI(t,e,n,s,i,l){var c=n&fI,d=bg(t),h=d.length,m=bg(e),y=m.length;if(h!=y&&!c)return!1;for(var b=h;b--;){var x=d[b];if(!(c?x in e:mI.call(e,x)))return!1}var w=l.get(t),N=l.get(e);if(w&&N)return w==e&&N==t;var _=!0;l.set(t,e),l.set(e,t);for(var C=c;++b<h;){x=d[b];var R=t[x],E=e[x];if(s)var D=c?s(E,R,x,e,t,l):s(R,E,x,t,e,l);if(!(D===void 0?R===E||i(R,E,n,s,l):D)){_=!1;break}C||(C=x=="constructor")}if(_&&!C){var I=t.constructor,P=e.constructor;I!=P&&"constructor"in t&&"constructor"in e&&!(typeof I=="function"&&I instanceof I&&typeof P=="function"&&P instanceof P)&&(_=!1)}return l.delete(t),l.delete(e),_}var gI=1,f2="[object Arguments]",h2="[object Array]",Ad="[object Object]",yI=Object.prototype,m2=yI.hasOwnProperty;function bI(t,e,n,s,i,l){var c=to(t),d=to(e),h=c?h2:fs(t),m=d?h2:fs(e);h=h==f2?Ad:h,m=m==f2?Ad:m;var y=h==Ad,b=m==Ad,x=h==m;if(x&&Kc(t)){if(!Kc(e))return!1;c=!0,y=!1}if(x&&!y)return l||(l=new qs),c||R0(t)?yE(t,e,n,s,i,l):dI(t,e,h,n,s,i,l);if(!(n&gI)){var w=y&&m2.call(t,"__wrapped__"),N=b&&m2.call(e,"__wrapped__");if(w||N){var _=w?t.value():t,C=N?e.value():e;return l||(l=new qs),i(_,C,n,s,l)}}return x?(l||(l=new qs),pI(t,e,n,s,i,l)):!1}function bE(t,e,n,s,i){return t===e?!0:t==null||e==null||!Er(t)&&!Er(e)?t!==t&&e!==e:bI(t,e,n,s,bE,i)}function xI(t){return function(e,n,s){for(var i=-1,l=Object(e),c=s(e),d=c.length;d--;){var h=c[++i];if(n(l[h],h,l)===!1)break}return e}}var vI=xI();function Sg(t,e,n){(n!==void 0&&!lu(t[e],n)||n===void 0&&!(e in t))&&O0(t,e,n)}function wI(t){return Er(t)&&zf(t)}function Ng(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function SI(t){return FP(t,oE(t))}function NI(t,e,n,s,i,l,c){var d=Ng(t,n),h=Ng(e,n),m=c.get(h);if(m){Sg(t,n,m);return}var y=l?l(d,h,n+"",t,e,c):void 0,b=y===void 0;if(b){var x=to(h),w=!x&&Kc(h),N=!x&&!w&&R0(h);y=h,x||w||N?to(d)?y=d:wI(d)?y=DP(d):w?(b=!1,y=dE(h,!0)):N?(b=!1,y=fE(h,!0)):y=[]:b7(h)||yg(h)?(y=d,yg(d)?y=SI(d):(!Si(d)||k0(d))&&(y=hE(h))):b=!1}b&&(c.set(h,y),i(y,h,s,l,c),c.delete(h)),Sg(t,n,y)}function xE(t,e,n,s,i){t!==e&&vI(e,function(l,c){if(i||(i=new qs),Si(l))NI(t,e,c,n,xE,s,i);else{var d=s?s(Ng(t,c),l,c+"",t,e,i):void 0;d===void 0&&(d=l),Sg(t,c,d)}},oE)}function di(t,e){return bE(t,e)}var gi=XP(function(t,e,n){xE(t,e,n)}),Pe=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(Pe||{});class Vs{constructor(e,n,s={}){this.attrName=e,this.keyName=n;const i=Pe.TYPE&Pe.ATTRIBUTE;this.scope=s.scope!=null?s.scope&Pe.LEVEL|i:Pe.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}static keys(e){return Array.from(e.attributes).map(n=>n.name)}add(e,n){return this.canAdd(e,n)?(e.setAttribute(this.keyName,n),!0):!1}canAdd(e,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const n=e.getAttribute(this.keyName);return this.canAdd(e,n)&&n?n:""}}class cl extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const vE=class Tg{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,n=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(n){let s=null;try{s=e.parentNode}catch{return null}return this.find(s,n)}return null}create(e,n,s){const i=this.query(n);if(i==null)throw new cl(`Unable to create ${n} blot`);const l=i,c=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:l.create(s),d=new l(e,c,s);return Tg.blots.set(d.domNode,d),d}find(e,n=!1){return Tg.find(e,n)}query(e,n=Pe.ANY){let s;return typeof e=="string"?s=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?s=this.types.text:typeof e=="number"?e&Pe.LEVEL&Pe.BLOCK?s=this.types.block:e&Pe.LEVEL&Pe.INLINE&&(s=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(i=>(s=this.classes[i],!!s)),s=s||this.tags[e.tagName]),s==null?null:"scope"in s&&n&Pe.LEVEL&s.scope&&n&Pe.TYPE&s.scope?s:null}register(...e){return e.map(n=>{const s="blotName"in n,i="attrName"in n;if(!s&&!i)throw new cl("Invalid definition");if(s&&n.blotName==="abstract")throw new cl("Cannot register abstract class");const l=s?n.blotName:i?n.attrName:void 0;return this.types[l]=n,i?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):s&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(c=>c.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(c=>{(this.tags[c]==null||n.className==null)&&(this.tags[c]=n)}))),n})}};vE.blots=new WeakMap;let ml=vE;function p2(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${e}-`)===0)}class TI extends Vs{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(e,n){return this.canAdd(e,n)?(this.remove(e),e.classList.add(`${this.keyName}-${n}`),!0):!1}remove(e){p2(e,this.keyName).forEach(n=>{e.classList.remove(n)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const n=(p2(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,n)?n:""}}const vs=TI;function Cp(t){const e=t.split("-"),n=e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("");return e[0]+n}class EI extends Vs{static keys(e){return(e.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(e,n){return this.canAdd(e,n)?(e.style[Cp(this.keyName)]=n,!0):!1}remove(e){e.style[Cp(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const n=e.style[Cp(this.keyName)];return this.canAdd(e,n)?n:""}}const Ni=EI;class CI{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,n){n?e.add(this.domNode,n)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=ml.find(this.domNode);if(e==null)return;const n=Vs.keys(this.domNode),s=vs.keys(this.domNode),i=Ni.keys(this.domNode);n.concat(s).concat(i).forEach(l=>{const c=e.scroll.query(l,Pe.ATTRIBUTE);c instanceof Vs&&(this.attributes[c.attrName]=c)})}copy(e){Object.keys(this.attributes).forEach(n=>{const s=this.attributes[n].value(this.domNode);e.format(n,s)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,n)=>(e[n]=this.attributes[n].value(this.domNode),e),{})}}const Uf=CI,wE=class{constructor(e,n){this.scroll=e,this.domNode=n,ml.blots.set(n,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new cl("Blot definition missing tagName");let n,s;return Array.isArray(this.tagName)?(typeof e=="string"?(s=e.toUpperCase(),parseInt(s,10).toString()===s&&(s=parseInt(s,10))):typeof e=="number"&&(s=e),typeof s=="number"?n=document.createElement(this.tagName[s-1]):s&&this.tagName.indexOf(s)>-1?n=document.createElement(s):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),ml.blots.delete(this.domNode)}deleteAt(e,n){this.isolate(e,n).remove()}formatAt(e,n,s,i){const l=this.isolate(e,n);if(this.scroll.query(s,Pe.BLOT)!=null&&i)l.wrap(s,i);else if(this.scroll.query(s,Pe.ATTRIBUTE)!=null){const c=this.scroll.create(this.statics.scope);l.wrap(c),c.format(s,i)}}insertAt(e,n,s){const i=s==null?this.scroll.create("text",n):this.scroll.create(n,s),l=this.split(e);this.parent.insertBefore(i,l||void 0)}isolate(e,n){const s=this.split(e);if(s==null)throw new Error("Attempt to isolate at end");return s.split(n),s}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,n){const s=typeof e=="string"?this.scroll.create(e,n):e;return this.parent!=null&&(this.parent.insertBefore(s,this.next||void 0),this.remove()),s}split(e,n){return e===0?this:this.next}update(e,n){}wrap(e,n){const s=typeof e=="string"?this.scroll.create(e,n):e;if(this.parent!=null&&this.parent.insertBefore(s,this.next||void 0),typeof s.appendChild!="function")throw new cl(`Cannot wrap ${e}`);return s.appendChild(this),s}};wE.blotName="abstract";let SE=wE;const NE=class extends SE{static value(e){return!0}index(e,n){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(e,n){let s=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(s+=1),[this.parent.domNode,s]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};NE.scope=Pe.INLINE_BLOT;let AI=NE;const Ln=AI;class jI{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const n=e.slice(1);this.append(...n)}}at(e){const n=this.iterator();let s=n();for(;s&&e>0;)e-=1,s=n();return s}contains(e){const n=this.iterator();let s=n();for(;s;){if(s===e)return!0;s=n()}return!1}indexOf(e){const n=this.iterator();let s=n(),i=0;for(;s;){if(s===e)return i;i+=1,s=n()}return-1}insertBefore(e,n){e!=null&&(this.remove(e),e.next=n,n!=null?(e.prev=n.prev,n.prev!=null&&(n.prev.next=e),n.prev=e,n===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let n=0,s=this.head;for(;s!=null;){if(s===e)return n;n+=s.length(),s=s.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const n=e;return e!=null&&(e=e.next),n}}find(e,n=!1){const s=this.iterator();let i=s();for(;i;){const l=i.length();if(e<l||n&&e===l&&(i.next==null||i.next.length()!==0))return[i,e];e-=l,i=s()}return[null,0]}forEach(e){const n=this.iterator();let s=n();for(;s;)e(s),s=n()}forEachAt(e,n,s){if(n<=0)return;const[i,l]=this.find(e);let c=e-l;const d=this.iterator(i);let h=d();for(;h&&c<e+n;){const m=h.length();e>c?s(h,e-c,Math.min(n,c+m-e)):s(h,0,Math.min(m,e+n-c)),c+=m,h=d()}}map(e){return this.reduce((n,s)=>(n.push(e(s)),n),[])}reduce(e,n){const s=this.iterator();let i=s();for(;i;)n=e(n,i),i=s();return n}}function g2(t,e){const n=e.find(t);if(n)return n;try{return e.create(t)}catch{const s=e.create(Pe.INLINE);return Array.from(t.childNodes).forEach(i=>{s.domNode.appendChild(i)}),t.parentNode&&t.parentNode.replaceChild(s.domNode,t),s.attach(),s}}const TE=class ui extends SE{constructor(e,n){super(e,n),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,ui.uiClass&&this.uiNode.classList.add(ui.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new jI,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const n=g2(e,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof cl)return;throw n}})}deleteAt(e,n){if(e===0&&n===this.length())return this.remove();this.children.forEachAt(e,n,(s,i,l)=>{s.deleteAt(i,l)})}descendant(e,n=0){const[s,i]=this.children.find(n);return e.blotName==null&&e(s)||e.blotName!=null&&s instanceof e?[s,i]:s instanceof ui?s.descendant(e,i):[null,-1]}descendants(e,n=0,s=Number.MAX_VALUE){let i=[],l=s;return this.children.forEachAt(n,s,(c,d,h)=>{(e.blotName==null&&e(c)||e.blotName!=null&&c instanceof e)&&i.push(c),c instanceof ui&&(i=i.concat(c.descendants(e,d,l))),l-=h}),i}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(n=>{e||this.statics.allowedChildren.some(s=>n instanceof s)||(n.statics.scope===Pe.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),e=!0):n instanceof ui?n.unwrap():n.remove())})}formatAt(e,n,s,i){this.children.forEachAt(e,n,(l,c,d)=>{l.formatAt(c,d,s,i)})}insertAt(e,n,s){const[i,l]=this.children.find(e);if(i)i.insertAt(l,n,s);else{const c=s==null?this.scroll.create("text",n):this.scroll.create(n,s);this.appendChild(c)}}insertBefore(e,n){e.parent!=null&&e.parent.children.remove(e);let s=null;this.children.insertBefore(e,n||null),e.parent=this,n!=null&&(s=n.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(e.domNode,s),e.attach()}length(){return this.children.reduce((e,n)=>e+n.length(),0)}moveChildren(e,n){this.children.forEach(s=>{e.insertBefore(s,n)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(e,n=!1){const[s,i]=this.children.find(e,n),l=[[this,e]];return s instanceof ui?l.concat(s.path(i,n)):(s!=null&&l.push([s,i]),l)}removeChild(e){this.children.remove(e)}replaceWith(e,n){const s=typeof e=="string"?this.scroll.create(e,n):e;return s instanceof ui&&this.moveChildren(s),super.replaceWith(s)}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(e,this.length(),(i,l,c)=>{const d=i.split(l,n);d!=null&&s.appendChild(d)}),s}splitAfter(e){const n=this.clone();for(;e.next!=null;)n.appendChild(e.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,n){const s=[],i=[];e.forEach(l=>{l.target===this.domNode&&l.type==="childList"&&(s.push(...l.addedNodes),i.push(...l.removedNodes))}),i.forEach(l=>{if(l.parentNode!=null&&l.tagName!=="IFRAME"&&document.body.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const c=this.scroll.find(l);c!=null&&(c.domNode.parentNode==null||c.domNode.parentNode===this.domNode)&&c.detach()}),s.filter(l=>l.parentNode===this.domNode&&l!==this.uiNode).sort((l,c)=>l===c?0:l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(l=>{let c=null;l.nextSibling!=null&&(c=this.scroll.find(l.nextSibling));const d=g2(l,this.scroll);(d.next!==c||d.next==null)&&(d.parent!=null&&d.parent.removeChild(this),this.insertBefore(d,c||void 0))}),this.enforceAllowedChildren()}};TE.uiClass="";let _I=TE;const bs=_I;function kI(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}const Qo=class Jo extends bs{static create(e){return super.create(e)}static formats(e,n){const s=n.query(Jo.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Uf(this.domNode)}format(e,n){if(e===this.statics.blotName&&!n)this.children.forEach(s=>{s instanceof Jo||(s=s.wrap(Jo.blotName,!0)),this.attributes.copy(s)}),this.unwrap();else{const s=this.scroll.query(e,Pe.INLINE);if(s==null)return;s instanceof Vs?this.attributes.attribute(s,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,s,i){this.formats()[s]!=null||this.scroll.query(s,Pe.ATTRIBUTE)?this.isolate(e,n).format(s,i):super.formatAt(e,n,s,i)}optimize(e){super.optimize(e);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const s=this.next;s instanceof Jo&&s.prev===this&&kI(n,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(e,n){const s=super.replaceWith(e,n);return this.attributes.copy(s),s}update(e,n){super.update(e,n),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}wrap(e,n){const s=super.wrap(e,n);return s instanceof Jo&&this.attributes.move(s),s}};Qo.allowedChildren=[Qo,Ln],Qo.blotName="inline",Qo.scope=Pe.INLINE_BLOT,Qo.tagName="SPAN";let OI=Qo;const P0=OI,el=class Eg extends bs{static create(e){return super.create(e)}static formats(e,n){const s=n.query(Eg.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Uf(this.domNode)}format(e,n){const s=this.scroll.query(e,Pe.BLOCK);s!=null&&(s instanceof Vs?this.attributes.attribute(s,n):e===this.statics.blotName&&!n?this.replaceWith(Eg.blotName):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n))}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,s,i){this.scroll.query(s,Pe.BLOCK)!=null?this.format(s,i):super.formatAt(e,n,s,i)}insertAt(e,n,s){if(s==null||this.scroll.query(n,Pe.INLINE)!=null)super.insertAt(e,n,s);else{const i=this.split(e);if(i!=null){const l=this.scroll.create(n,s);i.parent.insertBefore(l,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,n){const s=super.replaceWith(e,n);return this.attributes.copy(s),s}update(e,n){super.update(e,n),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}};el.blotName="block",el.scope=Pe.BLOCK_BLOT,el.tagName="P",el.allowedChildren=[P0,el,Ln];let DI=el;const Zc=DI,Cg=class extends bs{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,n){super.deleteAt(e,n),this.enforceAllowedChildren()}formatAt(e,n,s,i){super.formatAt(e,n,s,i),this.enforceAllowedChildren()}insertAt(e,n,s){super.insertAt(e,n,s),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Cg.blotName="container",Cg.scope=Pe.BLOCK_BLOT;let MI=Cg;const qf=MI;class RI extends Ln{static formats(e,n){}format(e,n){super.formatAt(0,this.length(),e,n)}formatAt(e,n,s,i){e===0&&n===this.length()?this.format(s,i):super.formatAt(e,n,s,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Da=RI,LI={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},PI=100,tl=class extends bs{constructor(e,n){super(null,n),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(s=>{this.update(s)}),this.observer.observe(this.domNode,LI),this.attach()}create(e,n){return this.registry.create(this,e,n)}find(e,n=!1){const s=this.registry.find(e,n);return s?s.scroll===this?s:n?this.find(s.scroll.domNode.parentNode,!0):null:null}query(e,n=Pe.ANY){return this.registry.query(e,n)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,n){this.update(),e===0&&n===this.length()?this.children.forEach(s=>{s.remove()}):super.deleteAt(e,n)}formatAt(e,n,s,i){this.update(),super.formatAt(e,n,s,i)}insertAt(e,n,s){this.update(),super.insertAt(e,n,s)}optimize(e=[],n={}){super.optimize(n);const s=n.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const l=(h,m=!0)=>{h==null||h===this||h.domNode.parentNode!=null&&(s.has(h.domNode)||s.set(h.domNode,[]),m&&l(h.parent))},c=h=>{s.has(h.domNode)&&(h instanceof bs&&h.children.forEach(c),s.delete(h.domNode),h.optimize(n))};let d=e;for(let h=0;d.length>0;h+=1){if(h>=PI)throw new Error("[Parchment] Maximum optimize iterations reached");for(d.forEach(m=>{const y=this.find(m.target,!0);y!=null&&(y.domNode===m.target&&(m.type==="childList"?(l(this.find(m.previousSibling,!1)),Array.from(m.addedNodes).forEach(b=>{const x=this.find(b,!1);l(x,!1),x instanceof bs&&x.children.forEach(w=>{l(w,!1)})})):m.type==="attributes"&&l(y.prev)),l(y))}),this.children.forEach(c),d=Array.from(this.observer.takeRecords()),i=d.slice();i.length>0;)e.push(i.pop())}}update(e,n={}){e=e||this.observer.takeRecords();const s=new WeakMap;e.map(i=>{const l=this.find(i.target,!0);return l==null?null:s.has(l.domNode)?(s.get(l.domNode).push(i),null):(s.set(l.domNode,[i]),l)}).forEach(i=>{i!=null&&i!==this&&s.has(i.domNode)&&i.update(s.get(i.domNode)||[],n)}),n.mutationsMap=s,s.has(this.domNode)&&super.update(s.get(this.domNode),n),this.optimize(e,n)}};tl.blotName="scroll",tl.defaultChild=Zc,tl.allowedChildren=[Zc,qf],tl.scope=Pe.BLOCK_BLOT,tl.tagName="DIV";let zI=tl;const z0=zI,Ag=class EE extends Ln{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,n){super(e,n),this.text=this.statics.value(this.domNode)}deleteAt(e,n){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+n)}index(e,n){return this.domNode===e?n:-1}insertAt(e,n,s){s==null?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,n,s)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof EE&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,n=!1){return[this.domNode,e]}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(e,n){e.some(s=>s.type==="characterData"&&s.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Ag.blotName="text",Ag.scope=Pe.INLINE_BLOT;let BI=Ag;const xf=BI,II=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Vs,AttributorStore:Uf,BlockBlot:Zc,ClassAttributor:vs,ContainerBlot:qf,EmbedBlot:Da,InlineBlot:P0,LeafBlot:Ln,ParentBlot:bs,Registry:ml,Scope:Pe,ScrollBlot:z0,StyleAttributor:Ni,TextBlot:xf},Symbol.toStringTag,{value:"Module"}));var jd={exports:{}},Ap,y2;function UI(){if(y2)return Ap;y2=1;var t=-1,e=1,n=0;function s(k,F,q,Z,re){if(k===F)return k?[[n,k]]:[];if(q!=null){var A=W(k,F,q);if(A)return A}var B=d(k,F),V=k.substring(0,B);k=k.substring(B),F=F.substring(B),B=m(k,F);var le=k.substring(k.length-B);k=k.substring(0,k.length-B),F=F.substring(0,F.length-B);var ue=i(k,F);return V&&ue.unshift([n,V]),le&&ue.push([n,le]),E(ue,re),Z&&b(ue),ue}function i(k,F){var q;if(!k)return[[e,F]];if(!F)return[[t,k]];var Z=k.length>F.length?k:F,re=k.length>F.length?F:k,A=Z.indexOf(re);if(A!==-1)return q=[[e,Z.substring(0,A)],[n,re],[e,Z.substring(A+re.length)]],k.length>F.length&&(q[0][0]=q[2][0]=t),q;if(re.length===1)return[[t,k],[e,F]];var B=y(k,F);if(B){var V=B[0],le=B[1],ue=B[2],M=B[3],Y=B[4],X=s(V,ue),ie=s(le,M);return X.concat([[n,Y]],ie)}return l(k,F)}function l(k,F){for(var q=k.length,Z=F.length,re=Math.ceil((q+Z)/2),A=re,B=2*re,V=new Array(B),le=new Array(B),ue=0;ue<B;ue++)V[ue]=-1,le[ue]=-1;V[A+1]=0,le[A+1]=0;for(var M=q-Z,Y=M%2!==0,X=0,ie=0,me=0,ge=0,xe=0;xe<re;xe++){for(var Ce=-xe+X;Ce<=xe-ie;Ce+=2){var ee=A+Ce,oe;Ce===-xe||Ce!==xe&&V[ee-1]<V[ee+1]?oe=V[ee+1]:oe=V[ee-1]+1;for(var pe=oe-Ce;oe<q&&pe<Z&&k.charAt(oe)===F.charAt(pe);)oe++,pe++;if(V[ee]=oe,oe>q)ie+=2;else if(pe>Z)X+=2;else if(Y){var ve=A+M-Ce;if(ve>=0&&ve<B&&le[ve]!==-1){var we=q-le[ve];if(oe>=we)return c(k,F,oe,pe)}}}for(var Se=-xe+me;Se<=xe-ge;Se+=2){var ve=A+Se,we;Se===-xe||Se!==xe&&le[ve-1]<le[ve+1]?we=le[ve+1]:we=le[ve-1]+1;for(var je=we-Se;we<q&&je<Z&&k.charAt(q-we-1)===F.charAt(Z-je-1);)we++,je++;if(le[ve]=we,we>q)ge+=2;else if(je>Z)me+=2;else if(!Y){var ee=A+M-Se;if(ee>=0&&ee<B&&V[ee]!==-1){var oe=V[ee],pe=A+oe-ee;if(we=q-we,oe>=we)return c(k,F,oe,pe)}}}}return[[t,k],[e,F]]}function c(k,F,q,Z){var re=k.substring(0,q),A=F.substring(0,Z),B=k.substring(q),V=F.substring(Z),le=s(re,A),ue=s(B,V);return le.concat(ue)}function d(k,F){if(!k||!F||k.charAt(0)!==F.charAt(0))return 0;for(var q=0,Z=Math.min(k.length,F.length),re=Z,A=0;q<re;)k.substring(A,re)==F.substring(A,re)?(q=re,A=q):Z=re,re=Math.floor((Z-q)/2+q);return D(k.charCodeAt(re-1))&&re--,re}function h(k,F){var q=k.length,Z=F.length;if(q==0||Z==0)return 0;q>Z?k=k.substring(q-Z):q<Z&&(F=F.substring(0,q));var re=Math.min(q,Z);if(k==F)return re;for(var A=0,B=1;;){var V=k.substring(re-B),le=F.indexOf(V);if(le==-1)return A;B+=le,(le==0||k.substring(re-B)==F.substring(0,B))&&(A=B,B++)}}function m(k,F){if(!k||!F||k.slice(-1)!==F.slice(-1))return 0;for(var q=0,Z=Math.min(k.length,F.length),re=Z,A=0;q<re;)k.substring(k.length-re,k.length-A)==F.substring(F.length-re,F.length-A)?(q=re,A=q):Z=re,re=Math.floor((Z-q)/2+q);return I(k.charCodeAt(k.length-re))&&re--,re}function y(k,F){var q=k.length>F.length?k:F,Z=k.length>F.length?F:k;if(q.length<4||Z.length*2<q.length)return null;function re(ie,me,ge){for(var xe=ie.substring(ge,ge+Math.floor(ie.length/4)),Ce=-1,ee="",oe,pe,ve,we;(Ce=me.indexOf(xe,Ce+1))!==-1;){var Se=d(ie.substring(ge),me.substring(Ce)),je=m(ie.substring(0,ge),me.substring(0,Ce));ee.length<je+Se&&(ee=me.substring(Ce-je,Ce)+me.substring(Ce,Ce+Se),oe=ie.substring(0,ge-je),pe=ie.substring(ge+Se),ve=me.substring(0,Ce-je),we=me.substring(Ce+Se))}return ee.length*2>=ie.length?[oe,pe,ve,we,ee]:null}var A=re(q,Z,Math.ceil(q.length/4)),B=re(q,Z,Math.ceil(q.length/2)),V;if(!A&&!B)return null;B?A?V=A[4].length>B[4].length?A:B:V=B:V=A;var le,ue,M,Y;k.length>F.length?(le=V[0],ue=V[1],M=V[2],Y=V[3]):(M=V[0],Y=V[1],le=V[2],ue=V[3]);var X=V[4];return[le,ue,M,Y,X]}function b(k){for(var F=!1,q=[],Z=0,re=null,A=0,B=0,V=0,le=0,ue=0;A<k.length;)k[A][0]==n?(q[Z++]=A,B=le,V=ue,le=0,ue=0,re=k[A][1]):(k[A][0]==e?le+=k[A][1].length:ue+=k[A][1].length,re&&re.length<=Math.max(B,V)&&re.length<=Math.max(le,ue)&&(k.splice(q[Z-1],0,[t,re]),k[q[Z-1]+1][0]=e,Z--,Z--,A=Z>0?q[Z-1]:-1,B=0,V=0,le=0,ue=0,re=null,F=!0)),A++;for(F&&E(k),R(k),A=1;A<k.length;){if(k[A-1][0]==t&&k[A][0]==e){var M=k[A-1][1],Y=k[A][1],X=h(M,Y),ie=h(Y,M);X>=ie?(X>=M.length/2||X>=Y.length/2)&&(k.splice(A,0,[n,Y.substring(0,X)]),k[A-1][1]=M.substring(0,M.length-X),k[A+1][1]=Y.substring(X),A++):(ie>=M.length/2||ie>=Y.length/2)&&(k.splice(A,0,[n,M.substring(0,ie)]),k[A-1][0]=e,k[A-1][1]=Y.substring(0,Y.length-ie),k[A+1][0]=t,k[A+1][1]=M.substring(ie),A++),A++}A++}}var x=/[^a-zA-Z0-9]/,w=/\s/,N=/[\r\n]/,_=/\n\r?\n$/,C=/^\r?\n\r?\n/;function R(k){function F(ie,me){if(!ie||!me)return 6;var ge=ie.charAt(ie.length-1),xe=me.charAt(0),Ce=ge.match(x),ee=xe.match(x),oe=Ce&&ge.match(w),pe=ee&&xe.match(w),ve=oe&&ge.match(N),we=pe&&xe.match(N),Se=ve&&ie.match(_),je=we&&me.match(C);return Se||je?5:ve||we?4:Ce&&!oe&&pe?3:oe||pe?2:Ce||ee?1:0}for(var q=1;q<k.length-1;){if(k[q-1][0]==n&&k[q+1][0]==n){var Z=k[q-1][1],re=k[q][1],A=k[q+1][1],B=m(Z,re);if(B){var V=re.substring(re.length-B);Z=Z.substring(0,Z.length-B),re=V+re.substring(0,re.length-B),A=V+A}for(var le=Z,ue=re,M=A,Y=F(Z,re)+F(re,A);re.charAt(0)===A.charAt(0);){Z+=re.charAt(0),re=re.substring(1)+A.charAt(0),A=A.substring(1);var X=F(Z,re)+F(re,A);X>=Y&&(Y=X,le=Z,ue=re,M=A)}k[q-1][1]!=le&&(le?k[q-1][1]=le:(k.splice(q-1,1),q--),k[q][1]=ue,M?k[q+1][1]=M:(k.splice(q+1,1),q--))}q++}}function E(k,F){k.push([n,""]);for(var q=0,Z=0,re=0,A="",B="",V;q<k.length;){if(q<k.length-1&&!k[q][1]){k.splice(q,1);continue}switch(k[q][0]){case e:re++,B+=k[q][1],q++;break;case t:Z++,A+=k[q][1],q++;break;case n:var le=q-re-Z-1;if(F){if(le>=0&&U(k[le][1])){var ue=k[le][1].slice(-1);if(k[le][1]=k[le][1].slice(0,-1),A=ue+A,B=ue+B,!k[le][1]){k.splice(le,1),q--;var M=le-1;k[M]&&k[M][0]===e&&(re++,B=k[M][1]+B,M--),k[M]&&k[M][0]===t&&(Z++,A=k[M][1]+A,M--),le=M}}if(P(k[q][1])){var ue=k[q][1].charAt(0);k[q][1]=k[q][1].slice(1),A+=ue,B+=ue}}if(q<k.length-1&&!k[q][1]){k.splice(q,1);break}if(A.length>0||B.length>0){A.length>0&&B.length>0&&(V=d(B,A),V!==0&&(le>=0?k[le][1]+=B.substring(0,V):(k.splice(0,0,[n,B.substring(0,V)]),q++),B=B.substring(V),A=A.substring(V)),V=m(B,A),V!==0&&(k[q][1]=B.substring(B.length-V)+k[q][1],B=B.substring(0,B.length-V),A=A.substring(0,A.length-V)));var Y=re+Z;A.length===0&&B.length===0?(k.splice(q-Y,Y),q=q-Y):A.length===0?(k.splice(q-Y,Y,[e,B]),q=q-Y+1):B.length===0?(k.splice(q-Y,Y,[t,A]),q=q-Y+1):(k.splice(q-Y,Y,[t,A],[e,B]),q=q-Y+2)}q!==0&&k[q-1][0]===n?(k[q-1][1]+=k[q][1],k.splice(q,1)):q++,re=0,Z=0,A="",B="";break}}k[k.length-1][1]===""&&k.pop();var X=!1;for(q=1;q<k.length-1;)k[q-1][0]===n&&k[q+1][0]===n&&(k[q][1].substring(k[q][1].length-k[q-1][1].length)===k[q-1][1]?(k[q][1]=k[q-1][1]+k[q][1].substring(0,k[q][1].length-k[q-1][1].length),k[q+1][1]=k[q-1][1]+k[q+1][1],k.splice(q-1,1),X=!0):k[q][1].substring(0,k[q+1][1].length)==k[q+1][1]&&(k[q-1][1]+=k[q+1][1],k[q][1]=k[q][1].substring(k[q+1][1].length)+k[q+1][1],k.splice(q+1,1),X=!0)),q++;X&&E(k,F)}function D(k){return k>=55296&&k<=56319}function I(k){return k>=56320&&k<=57343}function P(k){return I(k.charCodeAt(0))}function U(k){return D(k.charCodeAt(k.length-1))}function z(k){for(var F=[],q=0;q<k.length;q++)k[q][1].length>0&&F.push(k[q]);return F}function L(k,F,q,Z){return U(k)||P(Z)?null:z([[n,k],[t,F],[e,q],[n,Z]])}function W(k,F,q){var Z=typeof q=="number"?{index:q,length:0}:q.oldRange,re=typeof q=="number"?null:q.newRange,A=k.length,B=F.length;if(Z.length===0&&(re===null||re.length===0)){var V=Z.index,le=k.slice(0,V),ue=k.slice(V),M=re?re.index:null;e:{var Y=V+B-A;if(M!==null&&M!==Y||Y<0||Y>B)break e;var X=F.slice(0,Y),ie=F.slice(Y);if(ie!==ue)break e;var me=Math.min(V,Y),ge=le.slice(0,me),xe=X.slice(0,me);if(ge!==xe)break e;var Ce=le.slice(me),ee=X.slice(me);return L(ge,Ce,ee,ue)}e:{if(M!==null&&M!==V)break e;var oe=V,X=F.slice(0,oe),ie=F.slice(oe);if(X!==le)break e;var pe=Math.min(A-oe,B-oe),ve=ue.slice(ue.length-pe),we=ie.slice(ie.length-pe);if(ve!==we)break e;var Ce=ue.slice(0,ue.length-pe),ee=ie.slice(0,ie.length-pe);return L(le,Ce,ee,ve)}}if(Z.length>0&&re&&re.length===0)e:{var ge=k.slice(0,Z.index),ve=k.slice(Z.index+Z.length),me=ge.length,pe=ve.length;if(B<me+pe)break e;var xe=F.slice(0,me),we=F.slice(B-pe);if(ge!==xe||ve!==we)break e;var Ce=k.slice(me,A-pe),ee=F.slice(me,B-pe);return L(ge,Ce,ee,ve)}return null}function se(k,F,q,Z){return s(k,F,q,Z,!0)}return se.INSERT=e,se.DELETE=t,se.EQUAL=n,Ap=se,Ap}var Ac={exports:{}};Ac.exports;var b2;function CE(){return b2||(b2=1,(function(t,e){var n=200,s="__lodash_hash_undefined__",i=9007199254740991,l="[object Arguments]",c="[object Array]",d="[object Boolean]",h="[object Date]",m="[object Error]",y="[object Function]",b="[object GeneratorFunction]",x="[object Map]",w="[object Number]",N="[object Object]",_="[object Promise]",C="[object RegExp]",R="[object Set]",E="[object String]",D="[object Symbol]",I="[object WeakMap]",P="[object ArrayBuffer]",U="[object DataView]",z="[object Float32Array]",L="[object Float64Array]",W="[object Int8Array]",se="[object Int16Array]",k="[object Int32Array]",F="[object Uint8Array]",q="[object Uint8ClampedArray]",Z="[object Uint16Array]",re="[object Uint32Array]",A=/[\\^$.*+?()[\]{}|]/g,B=/\w*$/,V=/^\[object .+?Constructor\]$/,le=/^(?:0|[1-9]\d*)$/,ue={};ue[l]=ue[c]=ue[P]=ue[U]=ue[d]=ue[h]=ue[z]=ue[L]=ue[W]=ue[se]=ue[k]=ue[x]=ue[w]=ue[N]=ue[C]=ue[R]=ue[E]=ue[D]=ue[F]=ue[q]=ue[Z]=ue[re]=!0,ue[m]=ue[y]=ue[I]=!1;var M=typeof fi=="object"&&fi&&fi.Object===Object&&fi,Y=typeof self=="object"&&self&&self.Object===Object&&self,X=M||Y||Function("return this")(),ie=e&&!e.nodeType&&e,me=ie&&!0&&t&&!t.nodeType&&t,ge=me&&me.exports===ie;function xe(v,O){return v.set(O[0],O[1]),v}function Ce(v,O){return v.add(O),v}function ee(v,O){for(var H=-1,ne=v?v.length:0;++H<ne&&O(v[H],H,v)!==!1;);return v}function oe(v,O){for(var H=-1,ne=O.length,$e=v.length;++H<ne;)v[$e+H]=O[H];return v}function pe(v,O,H,ne){for(var $e=-1,Me=v?v.length:0;++$e<Me;)H=O(H,v[$e],$e,v);return H}function ve(v,O){for(var H=-1,ne=Array(v);++H<v;)ne[H]=O(H);return ne}function we(v,O){return v?.[O]}function Se(v){var O=!1;if(v!=null&&typeof v.toString!="function")try{O=!!(v+"")}catch{}return O}function je(v){var O=-1,H=Array(v.size);return v.forEach(function(ne,$e){H[++O]=[$e,ne]}),H}function be(v,O){return function(H){return v(O(H))}}function Ke(v){var O=-1,H=Array(v.size);return v.forEach(function(ne){H[++O]=ne}),H}var Xe=Array.prototype,ze=Function.prototype,He=Object.prototype,ot=X["__core-js_shared__"],zt=(function(){var v=/[^.]+$/.exec(ot&&ot.keys&&ot.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""})(),Gt=ze.toString,st=He.hasOwnProperty,Be=He.toString,Ge=RegExp("^"+Gt.call(st).replace(A,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=ge?X.Buffer:void 0,Ie=X.Symbol,Bt=X.Uint8Array,St=be(Object.getPrototypeOf,Object),Ja=Object.create,zn=He.propertyIsEnumerable,Bn=Xe.splice,Rt=Object.getOwnPropertySymbols,bn=mt?mt.isBuffer:void 0,It=be(Object.keys,Object),Ss=ra(X,"DataView"),es=ra(X,"Map"),Cn=ra(X,"Promise"),pa=ra(X,"Set"),Zn=ra(X,"WeakMap"),An=ra(Object,"create"),xn=sn(Ss),jn=sn(es),ga=sn(Cn),Gs=sn(pa),ts=sn(Zn),In=Ie?Ie.prototype:void 0,Qn=In?In.valueOf:void 0;function Jn(v){var O=-1,H=v?v.length:0;for(this.clear();++O<H;){var ne=v[O];this.set(ne[0],ne[1])}}function Ns(){this.__data__=An?An(null):{}}function Or(v){return this.has(v)&&delete this.__data__[v]}function Dr(v){var O=this.__data__;if(An){var H=O[v];return H===s?void 0:H}return st.call(O,v)?O[v]:void 0}function ns(v){var O=this.__data__;return An?O[v]!==void 0:st.call(O,v)}function ea(v,O){var H=this.__data__;return H[v]=An&&O===void 0?s:O,this}Jn.prototype.clear=Ns,Jn.prototype.delete=Or,Jn.prototype.get=Dr,Jn.prototype.has=ns,Jn.prototype.set=ea;function Ut(v){var O=-1,H=v?v.length:0;for(this.clear();++O<H;){var ne=v[O];this.set(ne[0],ne[1])}}function Ys(){this.__data__=[]}function mn(v){var O=this.__data__,H=qn(O,v);if(H<0)return!1;var ne=O.length-1;return H==ne?O.pop():Bn.call(O,H,1),!0}function Tt(v){var O=this.__data__,H=qn(O,v);return H<0?void 0:O[H][1]}function Xt(v){return qn(this.__data__,v)>-1}function ta(v,O){var H=this.__data__,ne=qn(H,v);return ne<0?H.push([v,O]):H[ne][1]=O,this}Ut.prototype.clear=Ys,Ut.prototype.delete=mn,Ut.prototype.get=Tt,Ut.prototype.has=Xt,Ut.prototype.set=ta;function Et(v){var O=-1,H=v?v.length:0;for(this.clear();++O<H;){var ne=v[O];this.set(ne[0],ne[1])}}function Ks(){this.__data__={hash:new Jn,map:new(es||Ut),string:new Jn}}function Ti(v){return ks(this,v).delete(v)}function Ws(v){return ks(this,v).get(v)}function as(v){return ks(this,v).has(v)}function Ts(v,O){return ks(this,v).set(v,O),this}Et.prototype.clear=Ks,Et.prototype.delete=Ti,Et.prototype.get=Ws,Et.prototype.has=as,Et.prototype.set=Ts;function Lt(v){this.__data__=new Ut(v)}function ya(){this.__data__=new Ut}function na(v){return this.__data__.delete(v)}function _n(v){return this.__data__.get(v)}function Ct(v){return this.__data__.has(v)}function Un(v,O){var H=this.__data__;if(H instanceof Ut){var ne=H.__data__;if(!es||ne.length<n-1)return ne.push([v,O]),this;H=this.__data__=new Et(ne)}return H.set(v,O),this}Lt.prototype.clear=ya,Lt.prototype.delete=na,Lt.prototype.get=_n,Lt.prototype.has=Ct,Lt.prototype.set=Un;function aa(v,O){var H=Pr(v)||xa(v)?ve(v.length,String):[],ne=H.length,$e=!!ne;for(var Me in v)st.call(v,Me)&&!($e&&(Me=="length"||jl(Me,ne)))&&H.push(Me);return H}function sa(v,O,H){var ne=v[O];(!(st.call(v,O)&&rs(ne,H))||H===void 0&&!(O in v))&&(v[O]=H)}function qn(v,O){for(var H=v.length;H--;)if(rs(v[H][0],O))return H;return-1}function $n(v,O){return v&&Mr(O,Qs(O),v)}function Es(v,O,H,ne,$e,Me,Je){var rt;if(ne&&(rt=Me?ne(v,$e,Me,Je):ne(v)),rt!==void 0)return rt;if(!Mn(v))return v;var Ot=Pr(v);if(Ot){if(rt=po(v),!O)return Ci(v,rt)}else{var lt=ss(v),qt=lt==y||lt==b;if(Ds(v))return Oe(v,O);if(lt==N||lt==l||qt&&!Me){if(Se(v))return Me?v:{};if(rt=ba(qt?{}:v),!O)return Ai(v,$n(rt,v))}else{if(!ue[lt])return Me?v:{};rt=ji(v,lt,Es,O)}}Je||(Je=new Lt);var rn=Je.get(v);if(rn)return rn;if(Je.set(v,rt),!Ot)var $t=H?_s(v):Qs(v);return ee($t||v,function(pn,on){$t&&(on=pn,pn=v[on]),sa(rt,on,Es(pn,O,H,ne,on,v,Je))}),rt}function Xs(v){return Mn(v)?Ja(v):{}}function Ei(v,O,H){var ne=O(v);return Pr(v)?ne:oe(ne,H(v))}function Cs(v){return Be.call(v)}function Zs(v){if(!Mn(v)||Rr(v))return!1;var O=Vn(v)||Se(v)?Ge:V;return O.test(sn(v))}function ye(v){if(!ia(v))return It(v);var O=[];for(var H in Object(v))st.call(v,H)&&H!="constructor"&&O.push(H);return O}function Oe(v,O){if(O)return v.slice();var H=new v.constructor(v.length);return v.copy(H),H}function qe(v){var O=new v.constructor(v.byteLength);return new Bt(O).set(new Bt(v)),O}function kn(v,O){var H=O?qe(v.buffer):v.buffer;return new v.constructor(H,v.byteOffset,v.byteLength)}function As(v,O,H){var ne=O?H(je(v),!0):je(v);return pe(ne,xe,new v.constructor)}function js(v){var O=new v.constructor(v.source,B.exec(v));return O.lastIndex=v.lastIndex,O}function Ma(v,O,H){var ne=O?H(Ke(v),!0):Ke(v);return pe(ne,Ce,new v.constructor)}function Al(v){return Qn?Object(Qn.call(v)):{}}function On(v,O){var H=O?qe(v.buffer):v.buffer;return new v.constructor(H,v.byteOffset,v.length)}function Ci(v,O){var H=-1,ne=v.length;for(O||(O=Array(ne));++H<ne;)O[H]=v[H];return O}function Mr(v,O,H,ne){H||(H={});for(var $e=-1,Me=O.length;++$e<Me;){var Je=O[$e],rt=void 0;sa(H,Je,rt===void 0?v[Je]:rt)}return H}function Ai(v,O){return Mr(v,Dn(v),O)}function _s(v){return Ei(v,Qs,Dn)}function ks(v,O){var H=v.__data__;return _l(O)?H[typeof O=="string"?"string":"hash"]:H.map}function ra(v,O){var H=we(v,O);return Zs(H)?H:void 0}var Dn=Rt?be(Rt,Object):Br,ss=Cs;(Ss&&ss(new Ss(new ArrayBuffer(1)))!=U||es&&ss(new es)!=x||Cn&&ss(Cn.resolve())!=_||pa&&ss(new pa)!=R||Zn&&ss(new Zn)!=I)&&(ss=function(v){var O=Be.call(v),H=O==N?v.constructor:void 0,ne=H?sn(H):void 0;if(ne)switch(ne){case xn:return U;case jn:return x;case ga:return _;case Gs:return R;case ts:return I}return O});function po(v){var O=v.length,H=v.constructor(O);return O&&typeof v[0]=="string"&&st.call(v,"index")&&(H.index=v.index,H.input=v.input),H}function ba(v){return typeof v.constructor=="function"&&!ia(v)?Xs(St(v)):{}}function ji(v,O,H,ne){var $e=v.constructor;switch(O){case P:return qe(v);case d:case h:return new $e(+v);case U:return kn(v,ne);case z:case L:case W:case se:case k:case F:case q:case Z:case re:return On(v,ne);case x:return As(v,ne,H);case w:case E:return new $e(v);case C:return js(v);case R:return Ma(v,ne,H);case D:return Al(v)}}function jl(v,O){return O=O??i,!!O&&(typeof v=="number"||le.test(v))&&v>-1&&v%1==0&&v<O}function _l(v){var O=typeof v;return O=="string"||O=="number"||O=="symbol"||O=="boolean"?v!=="__proto__":v===null}function Rr(v){return!!zt&&zt in v}function ia(v){var O=v&&v.constructor,H=typeof O=="function"&&O.prototype||He;return v===H}function sn(v){if(v!=null){try{return Gt.call(v)}catch{}try{return v+""}catch{}}return""}function Lr(v){return Es(v,!0,!0)}function rs(v,O){return v===O||v!==v&&O!==O}function xa(v){return go(v)&&st.call(v,"callee")&&(!zn.call(v,"callee")||Be.call(v)==l)}var Pr=Array.isArray;function Os(v){return v!=null&&zr(v.length)&&!Vn(v)}function go(v){return va(v)&&Os(v)}var Ds=bn||yo;function Vn(v){var O=Mn(v)?Be.call(v):"";return O==y||O==b}function zr(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=i}function Mn(v){var O=typeof v;return!!v&&(O=="object"||O=="function")}function va(v){return!!v&&typeof v=="object"}function Qs(v){return Os(v)?aa(v):ye(v)}function Br(){return[]}function yo(){return!1}t.exports=Lr})(Ac,Ac.exports)),Ac.exports}var jc={exports:{}};jc.exports;var x2;function AE(){return x2||(x2=1,(function(t,e){var n=200,s="__lodash_hash_undefined__",i=1,l=2,c=9007199254740991,d="[object Arguments]",h="[object Array]",m="[object AsyncFunction]",y="[object Boolean]",b="[object Date]",x="[object Error]",w="[object Function]",N="[object GeneratorFunction]",_="[object Map]",C="[object Number]",R="[object Null]",E="[object Object]",D="[object Promise]",I="[object Proxy]",P="[object RegExp]",U="[object Set]",z="[object String]",L="[object Symbol]",W="[object Undefined]",se="[object WeakMap]",k="[object ArrayBuffer]",F="[object DataView]",q="[object Float32Array]",Z="[object Float64Array]",re="[object Int8Array]",A="[object Int16Array]",B="[object Int32Array]",V="[object Uint8Array]",le="[object Uint8ClampedArray]",ue="[object Uint16Array]",M="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,X=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,me={};me[q]=me[Z]=me[re]=me[A]=me[B]=me[V]=me[le]=me[ue]=me[M]=!0,me[d]=me[h]=me[k]=me[y]=me[F]=me[b]=me[x]=me[w]=me[_]=me[C]=me[E]=me[P]=me[U]=me[z]=me[se]=!1;var ge=typeof fi=="object"&&fi&&fi.Object===Object&&fi,xe=typeof self=="object"&&self&&self.Object===Object&&self,Ce=ge||xe||Function("return this")(),ee=e&&!e.nodeType&&e,oe=ee&&!0&&t&&!t.nodeType&&t,pe=oe&&oe.exports===ee,ve=pe&&ge.process,we=(function(){try{return ve&&ve.binding&&ve.binding("util")}catch{}})(),Se=we&&we.isTypedArray;function je(v,O){for(var H=-1,ne=v==null?0:v.length,$e=0,Me=[];++H<ne;){var Je=v[H];O(Je,H,v)&&(Me[$e++]=Je)}return Me}function be(v,O){for(var H=-1,ne=O.length,$e=v.length;++H<ne;)v[$e+H]=O[H];return v}function Ke(v,O){for(var H=-1,ne=v==null?0:v.length;++H<ne;)if(O(v[H],H,v))return!0;return!1}function Xe(v,O){for(var H=-1,ne=Array(v);++H<v;)ne[H]=O(H);return ne}function ze(v){return function(O){return v(O)}}function He(v,O){return v.has(O)}function ot(v,O){return v?.[O]}function zt(v){var O=-1,H=Array(v.size);return v.forEach(function(ne,$e){H[++O]=[$e,ne]}),H}function Gt(v,O){return function(H){return v(O(H))}}function st(v){var O=-1,H=Array(v.size);return v.forEach(function(ne){H[++O]=ne}),H}var Be=Array.prototype,Ge=Function.prototype,mt=Object.prototype,Ie=Ce["__core-js_shared__"],Bt=Ge.toString,St=mt.hasOwnProperty,Ja=(function(){var v=/[^.]+$/.exec(Ie&&Ie.keys&&Ie.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""})(),zn=mt.toString,Bn=RegExp("^"+Bt.call(St).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rt=pe?Ce.Buffer:void 0,bn=Ce.Symbol,It=Ce.Uint8Array,Ss=mt.propertyIsEnumerable,es=Be.splice,Cn=bn?bn.toStringTag:void 0,pa=Object.getOwnPropertySymbols,Zn=Rt?Rt.isBuffer:void 0,An=Gt(Object.keys,Object),xn=Dn(Ce,"DataView"),jn=Dn(Ce,"Map"),ga=Dn(Ce,"Promise"),Gs=Dn(Ce,"Set"),ts=Dn(Ce,"WeakMap"),In=Dn(Object,"create"),Qn=sn(xn),Jn=sn(jn),Ns=sn(ga),Or=sn(Gs),Dr=sn(ts),ns=bn?bn.prototype:void 0,ea=ns?ns.valueOf:void 0;function Ut(v){var O=-1,H=v==null?0:v.length;for(this.clear();++O<H;){var ne=v[O];this.set(ne[0],ne[1])}}function Ys(){this.__data__=In?In(null):{},this.size=0}function mn(v){var O=this.has(v)&&delete this.__data__[v];return this.size-=O?1:0,O}function Tt(v){var O=this.__data__;if(In){var H=O[v];return H===s?void 0:H}return St.call(O,v)?O[v]:void 0}function Xt(v){var O=this.__data__;return In?O[v]!==void 0:St.call(O,v)}function ta(v,O){var H=this.__data__;return this.size+=this.has(v)?0:1,H[v]=In&&O===void 0?s:O,this}Ut.prototype.clear=Ys,Ut.prototype.delete=mn,Ut.prototype.get=Tt,Ut.prototype.has=Xt,Ut.prototype.set=ta;function Et(v){var O=-1,H=v==null?0:v.length;for(this.clear();++O<H;){var ne=v[O];this.set(ne[0],ne[1])}}function Ks(){this.__data__=[],this.size=0}function Ti(v){var O=this.__data__,H=Oe(O,v);if(H<0)return!1;var ne=O.length-1;return H==ne?O.pop():es.call(O,H,1),--this.size,!0}function Ws(v){var O=this.__data__,H=Oe(O,v);return H<0?void 0:O[H][1]}function as(v){return Oe(this.__data__,v)>-1}function Ts(v,O){var H=this.__data__,ne=Oe(H,v);return ne<0?(++this.size,H.push([v,O])):H[ne][1]=O,this}Et.prototype.clear=Ks,Et.prototype.delete=Ti,Et.prototype.get=Ws,Et.prototype.has=as,Et.prototype.set=Ts;function Lt(v){var O=-1,H=v==null?0:v.length;for(this.clear();++O<H;){var ne=v[O];this.set(ne[0],ne[1])}}function ya(){this.size=0,this.__data__={hash:new Ut,map:new(jn||Et),string:new Ut}}function na(v){var O=ra(this,v).delete(v);return this.size-=O?1:0,O}function _n(v){return ra(this,v).get(v)}function Ct(v){return ra(this,v).has(v)}function Un(v,O){var H=ra(this,v),ne=H.size;return H.set(v,O),this.size+=H.size==ne?0:1,this}Lt.prototype.clear=ya,Lt.prototype.delete=na,Lt.prototype.get=_n,Lt.prototype.has=Ct,Lt.prototype.set=Un;function aa(v){var O=-1,H=v==null?0:v.length;for(this.__data__=new Lt;++O<H;)this.add(v[O])}function sa(v){return this.__data__.set(v,s),this}function qn(v){return this.__data__.has(v)}aa.prototype.add=aa.prototype.push=sa,aa.prototype.has=qn;function $n(v){var O=this.__data__=new Et(v);this.size=O.size}function Es(){this.__data__=new Et,this.size=0}function Xs(v){var O=this.__data__,H=O.delete(v);return this.size=O.size,H}function Ei(v){return this.__data__.get(v)}function Cs(v){return this.__data__.has(v)}function Zs(v,O){var H=this.__data__;if(H instanceof Et){var ne=H.__data__;if(!jn||ne.length<n-1)return ne.push([v,O]),this.size=++H.size,this;H=this.__data__=new Lt(ne)}return H.set(v,O),this.size=H.size,this}$n.prototype.clear=Es,$n.prototype.delete=Xs,$n.prototype.get=Ei,$n.prototype.has=Cs,$n.prototype.set=Zs;function ye(v,O){var H=xa(v),ne=!H&&rs(v),$e=!H&&!ne&&Os(v),Me=!H&&!ne&&!$e&&va(v),Je=H||ne||$e||Me,rt=Je?Xe(v.length,String):[],Ot=rt.length;for(var lt in v)St.call(v,lt)&&!(Je&&(lt=="length"||$e&&(lt=="offset"||lt=="parent")||Me&&(lt=="buffer"||lt=="byteLength"||lt=="byteOffset")||ji(lt,Ot)))&&rt.push(lt);return rt}function Oe(v,O){for(var H=v.length;H--;)if(Lr(v[H][0],O))return H;return-1}function qe(v,O,H){var ne=O(v);return xa(v)?ne:be(ne,H(v))}function kn(v){return v==null?v===void 0?W:R:Cn&&Cn in Object(v)?ss(v):ia(v)}function As(v){return Mn(v)&&kn(v)==d}function js(v,O,H,ne,$e){return v===O?!0:v==null||O==null||!Mn(v)&&!Mn(O)?v!==v&&O!==O:Ma(v,O,H,ne,js,$e)}function Ma(v,O,H,ne,$e,Me){var Je=xa(v),rt=xa(O),Ot=Je?h:ba(v),lt=rt?h:ba(O);Ot=Ot==d?E:Ot,lt=lt==d?E:lt;var qt=Ot==E,rn=lt==E,$t=Ot==lt;if($t&&Os(v)){if(!Os(O))return!1;Je=!0,qt=!1}if($t&&!qt)return Me||(Me=new $n),Je||va(v)?Mr(v,O,H,ne,$e,Me):Ai(v,O,Ot,H,ne,$e,Me);if(!(H&i)){var pn=qt&&St.call(v,"__wrapped__"),on=rn&&St.call(O,"__wrapped__");if(pn||on){var Ms=pn?v.value():v,wa=on?O.value():O;return Me||(Me=new $n),$e(Ms,wa,H,ne,Me)}}return $t?(Me||(Me=new $n),_s(v,O,H,ne,$e,Me)):!1}function Al(v){if(!zr(v)||_l(v))return!1;var O=Ds(v)?Bn:X;return O.test(sn(v))}function On(v){return Mn(v)&&Vn(v.length)&&!!me[kn(v)]}function Ci(v){if(!Rr(v))return An(v);var O=[];for(var H in Object(v))St.call(v,H)&&H!="constructor"&&O.push(H);return O}function Mr(v,O,H,ne,$e,Me){var Je=H&i,rt=v.length,Ot=O.length;if(rt!=Ot&&!(Je&&Ot>rt))return!1;var lt=Me.get(v);if(lt&&Me.get(O))return lt==O;var qt=-1,rn=!0,$t=H&l?new aa:void 0;for(Me.set(v,O),Me.set(O,v);++qt<rt;){var pn=v[qt],on=O[qt];if(ne)var Ms=Je?ne(on,pn,qt,O,v,Me):ne(pn,on,qt,v,O,Me);if(Ms!==void 0){if(Ms)continue;rn=!1;break}if($t){if(!Ke(O,function(wa,Js){if(!He($t,Js)&&(pn===wa||$e(pn,wa,H,ne,Me)))return $t.push(Js)})){rn=!1;break}}else if(!(pn===on||$e(pn,on,H,ne,Me))){rn=!1;break}}return Me.delete(v),Me.delete(O),rn}function Ai(v,O,H,ne,$e,Me,Je){switch(H){case F:if(v.byteLength!=O.byteLength||v.byteOffset!=O.byteOffset)return!1;v=v.buffer,O=O.buffer;case k:return!(v.byteLength!=O.byteLength||!Me(new It(v),new It(O)));case y:case b:case C:return Lr(+v,+O);case x:return v.name==O.name&&v.message==O.message;case P:case z:return v==O+"";case _:var rt=zt;case U:var Ot=ne&i;if(rt||(rt=st),v.size!=O.size&&!Ot)return!1;var lt=Je.get(v);if(lt)return lt==O;ne|=l,Je.set(v,O);var qt=Mr(rt(v),rt(O),ne,$e,Me,Je);return Je.delete(v),qt;case L:if(ea)return ea.call(v)==ea.call(O)}return!1}function _s(v,O,H,ne,$e,Me){var Je=H&i,rt=ks(v),Ot=rt.length,lt=ks(O),qt=lt.length;if(Ot!=qt&&!Je)return!1;for(var rn=Ot;rn--;){var $t=rt[rn];if(!(Je?$t in O:St.call(O,$t)))return!1}var pn=Me.get(v);if(pn&&Me.get(O))return pn==O;var on=!0;Me.set(v,O),Me.set(O,v);for(var Ms=Je;++rn<Ot;){$t=rt[rn];var wa=v[$t],Js=O[$t];if(ne)var hu=Je?ne(Js,wa,$t,O,v,Me):ne(wa,Js,$t,v,O,Me);if(!(hu===void 0?wa===Js||$e(wa,Js,H,ne,Me):hu)){on=!1;break}Ms||(Ms=$t=="constructor")}if(on&&!Ms){var bo=v.constructor,xo=O.constructor;bo!=xo&&"constructor"in v&&"constructor"in O&&!(typeof bo=="function"&&bo instanceof bo&&typeof xo=="function"&&xo instanceof xo)&&(on=!1)}return Me.delete(v),Me.delete(O),on}function ks(v){return qe(v,Qs,po)}function ra(v,O){var H=v.__data__;return jl(O)?H[typeof O=="string"?"string":"hash"]:H.map}function Dn(v,O){var H=ot(v,O);return Al(H)?H:void 0}function ss(v){var O=St.call(v,Cn),H=v[Cn];try{v[Cn]=void 0;var ne=!0}catch{}var $e=zn.call(v);return ne&&(O?v[Cn]=H:delete v[Cn]),$e}var po=pa?function(v){return v==null?[]:(v=Object(v),je(pa(v),function(O){return Ss.call(v,O)}))}:Br,ba=kn;(xn&&ba(new xn(new ArrayBuffer(1)))!=F||jn&&ba(new jn)!=_||ga&&ba(ga.resolve())!=D||Gs&&ba(new Gs)!=U||ts&&ba(new ts)!=se)&&(ba=function(v){var O=kn(v),H=O==E?v.constructor:void 0,ne=H?sn(H):"";if(ne)switch(ne){case Qn:return F;case Jn:return _;case Ns:return D;case Or:return U;case Dr:return se}return O});function ji(v,O){return O=O??c,!!O&&(typeof v=="number"||ie.test(v))&&v>-1&&v%1==0&&v<O}function jl(v){var O=typeof v;return O=="string"||O=="number"||O=="symbol"||O=="boolean"?v!=="__proto__":v===null}function _l(v){return!!Ja&&Ja in v}function Rr(v){var O=v&&v.constructor,H=typeof O=="function"&&O.prototype||mt;return v===H}function ia(v){return zn.call(v)}function sn(v){if(v!=null){try{return Bt.call(v)}catch{}try{return v+""}catch{}}return""}function Lr(v,O){return v===O||v!==v&&O!==O}var rs=As((function(){return arguments})())?As:function(v){return Mn(v)&&St.call(v,"callee")&&!Ss.call(v,"callee")},xa=Array.isArray;function Pr(v){return v!=null&&Vn(v.length)&&!Ds(v)}var Os=Zn||yo;function go(v,O){return js(v,O)}function Ds(v){if(!zr(v))return!1;var O=kn(v);return O==w||O==N||O==m||O==I}function Vn(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=c}function zr(v){var O=typeof v;return v!=null&&(O=="object"||O=="function")}function Mn(v){return v!=null&&typeof v=="object"}var va=Se?ze(Se):On;function Qs(v){return Pr(v)?ye(v):Ci(v)}function Br(){return[]}function yo(){return!1}t.exports=go})(jc,jc.exports)),jc.exports}var _d={},v2;function qI(){if(v2)return _d;v2=1,Object.defineProperty(_d,"__esModule",{value:!0});const t=CE(),e=AE();var n;return(function(s){function i(h={},m={},y=!1){typeof h!="object"&&(h={}),typeof m!="object"&&(m={});let b=t(m);y||(b=Object.keys(b).reduce((x,w)=>(b[w]!=null&&(x[w]=b[w]),x),{}));for(const x in h)h[x]!==void 0&&m[x]===void 0&&(b[x]=h[x]);return Object.keys(b).length>0?b:void 0}s.compose=i;function l(h={},m={}){typeof h!="object"&&(h={}),typeof m!="object"&&(m={});const y=Object.keys(h).concat(Object.keys(m)).reduce((b,x)=>(e(h[x],m[x])||(b[x]=m[x]===void 0?null:m[x]),b),{});return Object.keys(y).length>0?y:void 0}s.diff=l;function c(h={},m={}){h=h||{};const y=Object.keys(m).reduce((b,x)=>(m[x]!==h[x]&&h[x]!==void 0&&(b[x]=m[x]),b),{});return Object.keys(h).reduce((b,x)=>(h[x]!==m[x]&&m[x]===void 0&&(b[x]=null),b),y)}s.invert=c;function d(h,m,y=!1){if(typeof h!="object")return m;if(typeof m!="object")return;if(!y)return m;const b=Object.keys(m).reduce((x,w)=>(h[w]===void 0&&(x[w]=m[w]),x),{});return Object.keys(b).length>0?b:void 0}s.transform=d})(n||(n={})),_d.default=n,_d}var kd={},w2;function jE(){if(w2)return kd;w2=1,Object.defineProperty(kd,"__esModule",{value:!0});var t;return(function(e){function n(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.retain=="object"&&s.retain!==null?1:typeof s.insert=="string"?s.insert.length:1}e.length=n})(t||(t={})),kd.default=t,kd}var Od={},S2;function $I(){if(S2)return Od;S2=1,Object.defineProperty(Od,"__esModule",{value:!0});const t=jE();class e{constructor(s){this.ops=s,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(s){s||(s=1/0);const i=this.ops[this.index];if(i){const l=this.offset,c=t.default.length(i);if(s>=c-l?(s=c-l,this.index+=1,this.offset=0):this.offset+=s,typeof i.delete=="number")return{delete:s};{const d={};return i.attributes&&(d.attributes=i.attributes),typeof i.retain=="number"?d.retain=s:typeof i.retain=="object"&&i.retain!==null?d.retain=i.retain:typeof i.insert=="string"?d.insert=i.insert.substr(l,s):d.insert=i.insert,d}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?t.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const s=this.ops[this.index];return s?typeof s.delete=="number"?"delete":typeof s.retain=="number"||typeof s.retain=="object"&&s.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const s=this.offset,i=this.index,l=this.next(),c=this.ops.slice(this.index);return this.offset=s,this.index=i,[l].concat(c)}}else return[]}}return Od.default=e,Od}var N2;function VI(){return N2||(N2=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const n=UI(),s=CE(),i=AE(),l=qI();e.AttributeMap=l.default;const c=jE();e.Op=c.default;const d=$I();e.OpIterator=d.default;const h="\0",m=(b,x)=>{if(typeof b!="object"||b===null)throw new Error(`cannot retain a ${typeof b}`);if(typeof x!="object"||x===null)throw new Error(`cannot retain a ${typeof x}`);const w=Object.keys(b)[0];if(!w||w!==Object.keys(x)[0])throw new Error(`embed types not matched: ${w} != ${Object.keys(x)[0]}`);return[w,b[w],x[w]]};class y{constructor(x){Array.isArray(x)?this.ops=x:x!=null&&Array.isArray(x.ops)?this.ops=x.ops:this.ops=[]}static registerEmbed(x,w){this.handlers[x]=w}static unregisterEmbed(x){delete this.handlers[x]}static getHandler(x){const w=this.handlers[x];if(!w)throw new Error(`no handlers for embed type "${x}"`);return w}insert(x,w){const N={};return typeof x=="string"&&x.length===0?this:(N.insert=x,w!=null&&typeof w=="object"&&Object.keys(w).length>0&&(N.attributes=w),this.push(N))}delete(x){return x<=0?this:this.push({delete:x})}retain(x,w){if(typeof x=="number"&&x<=0)return this;const N={retain:x};return w!=null&&typeof w=="object"&&Object.keys(w).length>0&&(N.attributes=w),this.push(N)}push(x){let w=this.ops.length,N=this.ops[w-1];if(x=s(x),typeof N=="object"){if(typeof x.delete=="number"&&typeof N.delete=="number")return this.ops[w-1]={delete:N.delete+x.delete},this;if(typeof N.delete=="number"&&x.insert!=null&&(w-=1,N=this.ops[w-1],typeof N!="object"))return this.ops.unshift(x),this;if(i(x.attributes,N.attributes)){if(typeof x.insert=="string"&&typeof N.insert=="string")return this.ops[w-1]={insert:N.insert+x.insert},typeof x.attributes=="object"&&(this.ops[w-1].attributes=x.attributes),this;if(typeof x.retain=="number"&&typeof N.retain=="number")return this.ops[w-1]={retain:N.retain+x.retain},typeof x.attributes=="object"&&(this.ops[w-1].attributes=x.attributes),this}}return w===this.ops.length?this.ops.push(x):this.ops.splice(w,0,x),this}chop(){const x=this.ops[this.ops.length-1];return x&&typeof x.retain=="number"&&!x.attributes&&this.ops.pop(),this}filter(x){return this.ops.filter(x)}forEach(x){this.ops.forEach(x)}map(x){return this.ops.map(x)}partition(x){const w=[],N=[];return this.forEach(_=>{(x(_)?w:N).push(_)}),[w,N]}reduce(x,w){return this.ops.reduce(x,w)}changeLength(){return this.reduce((x,w)=>w.insert?x+c.default.length(w):w.delete?x-w.delete:x,0)}length(){return this.reduce((x,w)=>x+c.default.length(w),0)}slice(x=0,w=1/0){const N=[],_=new d.default(this.ops);let C=0;for(;C<w&&_.hasNext();){let R;C<x?R=_.next(x-C):(R=_.next(w-C),N.push(R)),C+=c.default.length(R)}return new y(N)}compose(x){const w=new d.default(this.ops),N=new d.default(x.ops),_=[],C=N.peek();if(C!=null&&typeof C.retain=="number"&&C.attributes==null){let E=C.retain;for(;w.peekType()==="insert"&&w.peekLength()<=E;)E-=w.peekLength(),_.push(w.next());C.retain-E>0&&N.next(C.retain-E)}const R=new y(_);for(;w.hasNext()||N.hasNext();)if(N.peekType()==="insert")R.push(N.next());else if(w.peekType()==="delete")R.push(w.next());else{const E=Math.min(w.peekLength(),N.peekLength()),D=w.next(E),I=N.next(E);if(I.retain){const P={};if(typeof D.retain=="number")P.retain=typeof I.retain=="number"?E:I.retain;else if(typeof I.retain=="number")D.retain==null?P.insert=D.insert:P.retain=D.retain;else{const z=D.retain==null?"insert":"retain",[L,W,se]=m(D[z],I.retain),k=y.getHandler(L);P[z]={[L]:k.compose(W,se,z==="retain")}}const U=l.default.compose(D.attributes,I.attributes,typeof D.retain=="number");if(U&&(P.attributes=U),R.push(P),!N.hasNext()&&i(R.ops[R.ops.length-1],P)){const z=new y(w.rest());return R.concat(z).chop()}}else typeof I.delete=="number"&&(typeof D.retain=="number"||typeof D.retain=="object"&&D.retain!==null)&&R.push(I)}return R.chop()}concat(x){const w=new y(this.ops.slice());return x.ops.length>0&&(w.push(x.ops[0]),w.ops=w.ops.concat(x.ops.slice(1))),w}diff(x,w){if(this.ops===x.ops)return new y;const N=[this,x].map(D=>D.map(I=>{if(I.insert!=null)return typeof I.insert=="string"?I.insert:h;const P=D===x?"on":"with";throw new Error("diff() called "+P+" non-document")}).join("")),_=new y,C=n(N[0],N[1],w,!0),R=new d.default(this.ops),E=new d.default(x.ops);return C.forEach(D=>{let I=D[1].length;for(;I>0;){let P=0;switch(D[0]){case n.INSERT:P=Math.min(E.peekLength(),I),_.push(E.next(P));break;case n.DELETE:P=Math.min(I,R.peekLength()),R.next(P),_.delete(P);break;case n.EQUAL:P=Math.min(R.peekLength(),E.peekLength(),I);const U=R.next(P),z=E.next(P);i(U.insert,z.insert)?_.retain(P,l.default.diff(U.attributes,z.attributes)):_.push(z).delete(P);break}I-=P}}),_.chop()}eachLine(x,w=`
`){const N=new d.default(this.ops);let _=new y,C=0;for(;N.hasNext();){if(N.peekType()!=="insert")return;const R=N.peek(),E=c.default.length(R)-N.peekLength(),D=typeof R.insert=="string"?R.insert.indexOf(w,E)-E:-1;if(D<0)_.push(N.next());else if(D>0)_.push(N.next(D));else{if(x(_,N.next(1).attributes||{},C)===!1)return;C+=1,_=new y}}_.length()>0&&x(_,{},C)}invert(x){const w=new y;return this.reduce((N,_)=>{if(_.insert)w.delete(c.default.length(_));else{if(typeof _.retain=="number"&&_.attributes==null)return w.retain(_.retain),N+_.retain;if(_.delete||typeof _.retain=="number"){const C=_.delete||_.retain;return x.slice(N,N+C).forEach(E=>{_.delete?w.push(E):_.retain&&_.attributes&&w.retain(c.default.length(E),l.default.invert(_.attributes,E.attributes))}),N+C}else if(typeof _.retain=="object"&&_.retain!==null){const C=x.slice(N,N+1),R=new d.default(C.ops).next(),[E,D,I]=m(_.retain,R.insert),P=y.getHandler(E);return w.retain({[E]:P.invert(D,I)},l.default.invert(_.attributes,R.attributes)),N+1}}return N},0),w.chop()}transform(x,w=!1){if(w=!!w,typeof x=="number")return this.transformPosition(x,w);const N=x,_=new d.default(this.ops),C=new d.default(N.ops),R=new y;for(;_.hasNext()||C.hasNext();)if(_.peekType()==="insert"&&(w||C.peekType()!=="insert"))R.retain(c.default.length(_.next()));else if(C.peekType()==="insert")R.push(C.next());else{const E=Math.min(_.peekLength(),C.peekLength()),D=_.next(E),I=C.next(E);if(D.delete)continue;if(I.delete)R.push(I);else{const P=D.retain,U=I.retain;let z=typeof U=="object"&&U!==null?U:E;if(typeof P=="object"&&P!==null&&typeof U=="object"&&U!==null){const L=Object.keys(P)[0];if(L===Object.keys(U)[0]){const W=y.getHandler(L);W&&(z={[L]:W.transform(P[L],U[L],w)})}}R.retain(z,l.default.transform(D.attributes,I.attributes,w))}}return R.chop()}transformPosition(x,w=!1){w=!!w;const N=new d.default(this.ops);let _=0;for(;N.hasNext()&&_<=x;){const C=N.peekLength(),R=N.peekType();if(N.next(),R==="delete"){x-=Math.min(C,x-_);continue}else R==="insert"&&(_<x||!w)&&(x+=C);_+=C}return x}}y.Op=c.default,y.OpIterator=d.default,y.AttributeMap=l.default,y.handlers={},e.default=y,t.exports=y,t.exports.default=y})(jd,jd.exports)),jd.exports}var Ya=VI();const Le=Sf(Ya);class ws extends Da{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}ws.blotName="break";ws.tagName="BR";let xs=class extends xf{};const HI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function $f(t){return t.replace(/[&<>"']/g,e=>HI[e])}class Fn extends P0{static allowedChildren=[Fn,ws,Da,xs];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,n){const s=Fn.order.indexOf(e),i=Fn.order.indexOf(n);return s>=0||i>=0?s-i:e===n?0:e<n?-1:1}formatAt(e,n,s,i){if(Fn.compare(this.statics.blotName,s)<0&&this.scroll.query(s,Pe.BLOT)){const l=this.isolate(e,n);i&&l.wrap(s,i)}else super.formatAt(e,n,s,i)}optimize(e){if(super.optimize(e),this.parent instanceof Fn&&Fn.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}const T2=1;class En extends Zc{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=_E(this)),this.cache.delta}deleteAt(e,n){super.deleteAt(e,n),this.cache={}}formatAt(e,n,s,i){n<=0||(this.scroll.query(s,Pe.BLOCK)?e+n===this.length()&&this.format(s,i):super.formatAt(e,Math.min(n,this.length()-e-1),s,i),this.cache={})}insertAt(e,n,s){if(s!=null){super.insertAt(e,n,s),this.cache={};return}if(n.length===0)return;const i=n.split(`
`),l=i.shift();l.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),l):this.children.tail.insertAt(this.children.tail.length(),l),this.cache={});let c=this;i.reduce((d,h)=>(c=c.split(d,!0),c.insertAt(0,h),h.length),e+l.length)}insertBefore(e,n){const{head:s}=this.children;super.insertBefore(e,n),s instanceof ws&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+T2),this.cache.length}moveChildren(e,n){super.moveChildren(e,n),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n&&(e===0||e>=this.length()-T2)){const i=this.clone();return e===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const s=super.split(e,n);return this.cache={},s}}En.blotName="block";En.tagName="P";En.defaultChild=ws;En.allowedChildren=[ws,Fn,Da,xs];class Fa extends Da{attach(){super.attach(),this.attributes=new Uf(this.domNode)}delta(){return new Le().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,n){const s=this.scroll.query(e,Pe.BLOCK_ATTRIBUTE);s!=null&&this.attributes.attribute(s,n)}formatAt(e,n,s,i){this.format(s,i)}insertAt(e,n,s){if(s!=null){super.insertAt(e,n,s);return}const i=n.split(`
`),l=i.pop(),c=i.map(h=>{const m=this.scroll.create(En.blotName);return m.insertAt(0,h),m}),d=this.split(e);c.forEach(h=>{this.parent.insertBefore(h,d)}),l&&this.parent.insertBefore(this.scroll.create("text",l),d)}}Fa.scope=Pe.BLOCK_BLOT;function _E(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(Ln).reduce((n,s)=>s.length()===0?n:n.insert(s.value(),Va(s,{},e)),new Le).insert(`
`,Va(t))}function Va(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e={...e,...t.formats()},n&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:Va(t.parent,e,n)}class hs extends Da{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(e,n,s){super(e,n),this.selection=s,this.textNode=document.createTextNode(hs.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,n){if(this.savedLength!==0){super.format(e,n);return}let s=this,i=0;for(;s!=null&&s.statics.scope!==Pe.BLOCK_BLOT;)i+=s.offset(s.parent),s=s.parent;s!=null&&(this.savedLength=hs.CONTENTS.length,s.optimize(),s.formatAt(i,hs.CONTENTS.length,e,n),this.savedLength=0)}index(e,n){return e===this.textNode?0:super.index(e,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof xs?this.prev:null,s=n?n.length():0,i=this.next instanceof xs?this.next:null,l=i?i.text:"",{textNode:c}=this,d=c.data.split(hs.CONTENTS).join("");c.data=hs.CONTENTS;let h;if(n)h=n,(d||i)&&(n.insertAt(n.length(),d+l),i&&i.remove());else if(i)h=i,i.insertAt(0,d);else{const m=document.createTextNode(d);h=this.scroll.create(m),this.parent.insertBefore(h,this)}if(this.remove(),e){const m=(x,w)=>n&&x===n.domNode?w:x===c?s+w-1:i&&x===i.domNode?s+d.length+w:null,y=m(e.start.node,e.start.offset),b=m(e.end.node,e.end.offset);if(y!==null&&b!==null)return{startNode:h.domNode,startOffset:y,endNode:h.domNode,endOffset:b}}return null}update(e,n){if(e.some(s=>s.type==="characterData"&&s.target===this.textNode)){const s=this.restore();s&&(n.range=s)}}optimize(e){super.optimize(e);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=hs.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}}var jp={exports:{}},E2;function FI(){return E2||(E2=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function i(h,m,y){this.fn=h,this.context=m,this.once=y||!1}function l(h,m,y,b,x){if(typeof y!="function")throw new TypeError("The listener must be a function");var w=new i(y,b||h,x),N=n?n+m:m;return h._events[N]?h._events[N].fn?h._events[N]=[h._events[N],w]:h._events[N].push(w):(h._events[N]=w,h._eventsCount++),h}function c(h,m){--h._eventsCount===0?h._events=new s:delete h._events[m]}function d(){this._events=new s,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],y,b;if(this._eventsCount===0)return m;for(b in y=this._events)e.call(y,b)&&m.push(n?b.slice(1):b);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(y)):m},d.prototype.listeners=function(m){var y=n?n+m:m,b=this._events[y];if(!b)return[];if(b.fn)return[b.fn];for(var x=0,w=b.length,N=new Array(w);x<w;x++)N[x]=b[x].fn;return N},d.prototype.listenerCount=function(m){var y=n?n+m:m,b=this._events[y];return b?b.fn?1:b.length:0},d.prototype.emit=function(m,y,b,x,w,N){var _=n?n+m:m;if(!this._events[_])return!1;var C=this._events[_],R=arguments.length,E,D;if(C.fn){switch(C.once&&this.removeListener(m,C.fn,void 0,!0),R){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,y),!0;case 3:return C.fn.call(C.context,y,b),!0;case 4:return C.fn.call(C.context,y,b,x),!0;case 5:return C.fn.call(C.context,y,b,x,w),!0;case 6:return C.fn.call(C.context,y,b,x,w,N),!0}for(D=1,E=new Array(R-1);D<R;D++)E[D-1]=arguments[D];C.fn.apply(C.context,E)}else{var I=C.length,P;for(D=0;D<I;D++)switch(C[D].once&&this.removeListener(m,C[D].fn,void 0,!0),R){case 1:C[D].fn.call(C[D].context);break;case 2:C[D].fn.call(C[D].context,y);break;case 3:C[D].fn.call(C[D].context,y,b);break;case 4:C[D].fn.call(C[D].context,y,b,x);break;default:if(!E)for(P=1,E=new Array(R-1);P<R;P++)E[P-1]=arguments[P];C[D].fn.apply(C[D].context,E)}}return!0},d.prototype.on=function(m,y,b){return l(this,m,y,b,!1)},d.prototype.once=function(m,y,b){return l(this,m,y,b,!0)},d.prototype.removeListener=function(m,y,b,x){var w=n?n+m:m;if(!this._events[w])return this;if(!y)return c(this,w),this;var N=this._events[w];if(N.fn)N.fn===y&&(!x||N.once)&&(!b||N.context===b)&&c(this,w);else{for(var _=0,C=[],R=N.length;_<R;_++)(N[_].fn!==y||x&&!N[_].once||b&&N[_].context!==b)&&C.push(N[_]);C.length?this._events[w]=C.length===1?C[0]:C:c(this,w)}return this},d.prototype.removeAllListeners=function(m){var y;return m?(y=n?n+m:m,this._events[y]&&c(this,y)):(this._events=new s,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(jp)),jp.exports}var GI=FI();const YI=Sf(GI),jg=new WeakMap,_g=["error","warn","log","info"];let kg="warn";function kE(t){if(kg&&_g.indexOf(t)<=_g.indexOf(kg)){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];console[t](...n)}}function kr(t){return _g.reduce((e,n)=>(e[n]=kE.bind(console,n,t),e),{})}kr.level=t=>{kg=t};kE.level=kr.level;const _p=kr("quill:events"),KI=["selectionchange","mousedown","mouseup","click"];KI.forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const l=jg.get(i);l&&l.emitter&&l.emitter.handleDOM(...n)})})});class De extends YI{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",_p.error)}emit(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return _p.log.call(_p,...n),super.emit(...n)}handleDOM(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach(l=>{let{node:c,handler:d}=l;(e.target===c||c.contains(e.target))&&d(e,...s)})}listenDOM(e,n,s){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:n,handler:s})}}const kp=kr("quill:selection");class ao{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=n}}class WI{constructor(e,n){this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new ao(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,De.sources.USER),1)}),this.emitter.on(De.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const s=this.getNativeRange();s!=null&&s.start.node!==this.cursor.textNode&&this.emitter.once(De.events.SCROLL_UPDATE,(i,l)=>{try{this.root.contains(s.start.node)&&this.root.contains(s.end.node)&&this.setNativeRange(s.start.node,s.start.offset,s.end.node,s.end.offset);const c=l.some(d=>d.type==="characterData"||d.type==="childList"||d.type==="attributes"&&d.target===this.root);this.update(c?De.sources.SILENT:i)}catch{}})}),this.emitter.on(De.events.SCROLL_OPTIMIZE,(s,i)=>{if(i.range){const{startNode:l,startOffset:c,endNode:d,endOffset:h}=i.range;this.setNativeRange(l,c,d,h),this.update(De.sources.SILENT)}}),this.update(De.sources.SILENT)}handleComposition(){this.emitter.on(De.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(De.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(De.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,n){this.scroll.update();const s=this.getNativeRange();if(!(s==null||!s.native.collapsed||this.scroll.query(e,Pe.BLOCK))){if(s.start.node!==this.cursor.textNode){const i=this.scroll.find(s.start.node,!1);if(i==null)return;if(i instanceof Ln){const l=i.split(s.start.offset);i.parent.insertBefore(this.cursor,l)}else i.insertBefore(this.cursor,s.start.node);this.cursor.attach()}this.cursor.format(e,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const s=this.scroll.length();e=Math.min(e,s-1),n=Math.min(e+n,s-1)-e;let i,[l,c]=this.scroll.leaf(e);if(l==null)return null;if(n>0&&c===l.length()){const[y]=this.scroll.leaf(e+1);if(y){const[b]=this.scroll.line(e),[x]=this.scroll.line(e+1);b===x&&(l=y,c=0)}}[i,c]=l.position(c,!0);const d=document.createRange();if(n>0)return d.setStart(i,c),[l,c]=this.scroll.leaf(e+n),l==null?null:([i,c]=l.position(c,!0),d.setEnd(i,c),d.getBoundingClientRect());let h="left",m;if(i instanceof Text){if(!i.data.length)return null;c<i.data.length?(d.setStart(i,c),d.setEnd(i,c+1)):(d.setStart(i,c-1),d.setEnd(i,c),h="right"),m=d.getBoundingClientRect()}else{if(!(l.domNode instanceof Element))return null;m=l.domNode.getBoundingClientRect(),c>0&&(h="right")}return{bottom:m.top+m.height,height:m.height,left:m[h],right:m[h],top:m.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const n=e.getRangeAt(0);if(n==null)return null;const s=this.normalizeNative(n);return kp.info("getNativeRange",s),s}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Op(this.root,document.activeElement)}normalizedToRange(e){const n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);const s=n.map(c=>{const[d,h]=c,m=this.scroll.find(d,!0),y=m.offset(this.scroll);return h===0?y:m instanceof Ln?y+m.index(d,h):y+m.length()}),i=Math.min(Math.max(...s),this.scroll.length()-1),l=Math.min(i,...s);return new ao(l,i-l)}normalizeNative(e){if(!Op(this.root,e.startContainer)||!e.collapsed&&!Op(this.root,e.endContainer))return null;const n={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[n.start,n.end].forEach(s=>{let{node:i,offset:l}=s;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>l)i=i.childNodes[l],l=0;else if(i.childNodes.length===l)i=i.lastChild,i instanceof Text?l=i.data.length:i.childNodes.length>0?l=i.childNodes.length:l=i.childNodes.length+1;else break;s.node=i,s.offset=l}),n}rangeToNative(e){const n=this.scroll.length(),s=(i,l)=>{i=Math.min(n-1,i);const[c,d]=this.scroll.leaf(i);return c?c.position(d,l):[null,-1]};return[...s(e.index,!1),...s(e.index+e.length,!0)]}setNativeRange(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(kp.info("setNativeRange",e,n,s,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||s.parentNode==null))return;const c=document.getSelection();if(c!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:d}=this.getNativeRange()||{};if(d==null||l||e!==d.startContainer||n!==d.startOffset||s!==d.endContainer||i!==d.endOffset){e instanceof Element&&e.tagName==="BR"&&(n=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),s instanceof Element&&s.tagName==="BR"&&(i=Array.from(s.parentNode.childNodes).indexOf(s),s=s.parentNode);const h=document.createRange();h.setStart(e,n),h.setEnd(s,i),c.removeAllRanges(),c.addRange(h)}}else c.removeAllRanges(),this.root.blur()}setRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:De.sources.API;if(typeof n=="string"&&(s=n,n=!1),kp.info("setRange",e),e!=null){const i=this.rangeToNative(e);this.setNativeRange(...i,n)}else this.setNativeRange(null);this.update(s)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:De.sources.USER;const n=this.lastRange,[s,i]=this.getRange();if(this.lastRange=s,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!di(n,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const c=this.cursor.restore();c&&this.setNativeRange(c.startNode,c.startOffset,c.endNode,c.endOffset)}const l=[De.events.SELECTION_CHANGE,ll(this.lastRange),ll(n),e];this.emitter.emit(De.events.EDITOR_CHANGE,...l),e!==De.sources.SILENT&&this.emitter.emit(...l)}}}function Op(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}const XI=/^[ -~]*$/;class ZI{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const s=C2(e),i=new Le;return JI(s.ops.slice()).reduce((c,d)=>{const h=Ya.Op.length(d);let m=d.attributes||{},y=!1,b=!1;if(d.insert!=null){if(i.retain(h),typeof d.insert=="string"){const N=d.insert;b=!N.endsWith(`
`)&&(n<=c||!!this.scroll.descendant(Fa,c)[0]),this.scroll.insertAt(c,N);const[_,C]=this.scroll.line(c);let R=gi({},Va(_));if(_ instanceof En){const[E]=_.descendant(Ln,C);E&&(R=gi(R,Va(E)))}m=Ya.AttributeMap.diff(R,m)||{}}else if(typeof d.insert=="object"){const N=Object.keys(d.insert)[0];if(N==null)return c;const _=this.scroll.query(N,Pe.INLINE)!=null;if(_)(n<=c||this.scroll.descendant(Fa,c)[0])&&(b=!0);else if(c>0){const[C,R]=this.scroll.descendant(Ln,c-1);C instanceof xs?C.value()[R]!==`
`&&(y=!0):C instanceof Da&&C.statics.scope===Pe.INLINE_BLOT&&(y=!0)}if(this.scroll.insertAt(c,N,d.insert[N]),_){const[C]=this.scroll.descendant(Ln,c);if(C){const R=gi({},Va(C));m=Ya.AttributeMap.diff(R,m)||{}}}}n+=h}else if(i.push(d),d.retain!==null&&typeof d.retain=="object"){const N=Object.keys(d.retain)[0];if(N==null)return c;this.scroll.updateEmbedAt(c,N,d.retain[N])}Object.keys(m).forEach(N=>{this.scroll.formatAt(c,h,N,m[N])});const x=y?1:0,w=b?1:0;return n+=x+w,i.retain(x),i.delete(w),c+h+x+w},0),i.reduce((c,d)=>typeof d.delete=="number"?(this.scroll.deleteAt(c,d.delete),c):c+Ya.Op.length(d),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(s)}deleteText(e,n){return this.scroll.deleteAt(e,n),this.update(new Le().retain(e).delete(n))}formatLine(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(s).forEach(l=>{this.scroll.lines(e,Math.max(n,1)).forEach(c=>{c.format(l,s[l])})}),this.scroll.optimize();const i=new Le().retain(e).retain(n,ll(s));return this.update(i)}formatText(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(s).forEach(l=>{this.scroll.formatAt(e,n,l,s[l])});const i=new Le().retain(e).retain(n,ll(s));return this.update(i)}getContents(e,n){return this.delta.slice(e,e+n)}getDelta(){return this.scroll.lines().reduce((e,n)=>e.concat(n.delta()),new Le)}getFormat(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=[],i=[];n===0?this.scroll.path(e).forEach(d=>{const[h]=d;h instanceof En?s.push(h):h instanceof Ln&&i.push(h)}):(s=this.scroll.lines(e,n),i=this.scroll.descendants(Ln,e,n));const[l,c]=[s,i].map(d=>{const h=d.shift();if(h==null)return{};let m=Va(h);for(;Object.keys(m).length>0;){const y=d.shift();if(y==null)return m;m=QI(Va(y),m)}return m});return{...l,...c}}getHTML(e,n){const[s,i]=this.scroll.line(e);if(s){const l=s.length();return s.length()>=i+n&&!(i===0&&n===l)?Qc(s,i,n,!0):Qc(this.scroll,e,n,!0)}return""}getText(e,n){return this.getContents(e,n).filter(s=>typeof s.insert=="string").map(s=>s.insert).join("")}insertContents(e,n){const s=C2(n),i=new Le().retain(e).concat(s);return this.scroll.insertContents(e,s),this.update(i)}insertEmbed(e,n,s){return this.scroll.insertAt(e,n,s),this.update(new Le().retain(e).insert({[n]:s}))}insertText(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,n),Object.keys(s).forEach(i=>{this.scroll.formatAt(e,n.length,i,s[i])}),this.update(new Le().retain(e).insert(n,ll(s)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==En.blotName)return!1;const n=e;return n.children.length>1?!1:n.children.head instanceof ws}removeFormat(e,n){const s=this.getText(e,n),[i,l]=this.scroll.line(e+n);let c=0,d=new Le;i!=null&&(c=i.length()-l,d=i.delta().slice(l,l+c-1).insert(`
`));const m=this.getContents(e,n+c).diff(new Le().insert(s).concat(d)),y=new Le().retain(e).concat(m);return this.applyDelta(y)}update(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(XI)&&this.scroll.find(n[0].target)){const l=this.scroll.find(n[0].target),c=Va(l),d=l.offset(this.scroll),h=n[0].oldValue.replace(hs.CONTENTS,""),m=new Le().insert(h),y=new Le().insert(l.value()),b=s&&{oldRange:A2(s.oldRange,-d),newRange:A2(s.newRange,-d)};e=new Le().retain(d).concat(m.diff(y,b)).reduce((w,N)=>N.insert?w.insert(N.insert,c):w.push(N),new Le),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!di(i.compose(e),this.delta))&&(e=i.diff(this.delta,s));return e}}function nl(t,e,n){if(t.length===0){const[w]=Dp(n.pop());return e<=0?`</li></${w}>`:`</li></${w}>${nl([],e-1,n)}`}const[{child:s,offset:i,length:l,indent:c,type:d},...h]=t,[m,y]=Dp(d);if(c>e)return n.push(d),c===e+1?`<${m}><li${y}>${Qc(s,i,l)}${nl(h,c,n)}`:`<${m}><li>${nl(t,e+1,n)}`;const b=n[n.length-1];if(c===e&&d===b)return`</li><li${y}>${Qc(s,i,l)}${nl(h,c,n)}`;const[x]=Dp(n.pop());return`</li></${x}>${nl(t,e-1,n)}`}function Qc(t,e,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,n);if(t instanceof xs)return $f(t.value().slice(e,e+n)).replaceAll(" ","&nbsp;");if(t instanceof bs){if(t.statics.blotName==="list-container"){const m=[];return t.children.forEachAt(e,n,(y,b,x)=>{const w="formats"in y&&typeof y.formats=="function"?y.formats():{};m.push({child:y,offset:b,length:x,indent:w.indent||0,type:w.list})}),nl(m,-1,[])}const i=[];if(t.children.forEachAt(e,n,(m,y,b)=>{i.push(Qc(m,y,b))}),s||t.statics.blotName==="list")return i.join("");const{outerHTML:l,innerHTML:c}=t.domNode,[d,h]=l.split(`>${c}<`);return d==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${h}`:`${d}>${i.join("")}<${h}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function QI(t,e){return Object.keys(e).reduce((n,s)=>{if(t[s]==null)return n;const i=e[s];return i===t[s]?n[s]=i:Array.isArray(i)?i.indexOf(t[s])<0?n[s]=i.concat([t[s]]):n[s]=i:n[s]=[i,t[s]],n},{})}function Dp(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function C2(t){return t.reduce((e,n)=>{if(typeof n.insert=="string"){const s=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(s,n.attributes)}return e.push(n)},new Le)}function A2(t,e){let{index:n,length:s}=t;return new ao(n+e,s)}function JI(t){const e=[];return t.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((i,l)=>{l&&e.push({insert:`
`,attributes:n.attributes}),i&&e.push({insert:i,attributes:n.attributes})}):e.push(n)}),e}class Fs{static DEFAULTS={};constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=n}}const Dd="\uFEFF";class B0 extends Da{constructor(e,n){super(e,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(s=>{this.contentNode.appendChild(s)}),this.leftGuard=document.createTextNode(Dd),this.rightGuard=document.createTextNode(Dd),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,n)}restore(e){let n=null,s;const i=e.data.split(Dd).join("");if(e===this.leftGuard)if(this.prev instanceof xs){const l=this.prev.length();this.prev.insertAt(l,i),n={startNode:this.prev.domNode,startOffset:l+i.length}}else s=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(s),this),n={startNode:s,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof xs?(this.next.insertAt(0,i),n={startNode:this.next.domNode,startOffset:i.length}):(s=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(s),this.next),n={startNode:s,startOffset:i.length}));return e.data=Dd,n}update(e,n){e.forEach(s=>{if(s.type==="characterData"&&(s.target===this.leftGuard||s.target===this.rightGuard)){const i=this.restore(s.target);i&&(n.range=i)}})}}class eU{isComposing=!1;constructor(e,n){this.scroll=e,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const n=e.target instanceof Node?this.scroll.find(e.target,!0):null;n&&!(n instanceof B0)&&(this.emitter.emit(De.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(De.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(De.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(De.events.COMPOSITION_END,e),this.isComposing=!1}}class Cl{static DEFAULTS={modules:{}};static themes={default:Cl};modules={};constructor(e,n){this.quill=e,this.options=n}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const n=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new n(this.quill,this.options.modules[e]||{}),this.modules[e]}}const tU=t=>t.parentElement||t.getRootNode().host||null,nU=t=>{const e=t.getBoundingClientRect(),n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,s="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*s,left:e.left}},Md=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},j2=(t,e,n,s,i,l)=>t<n&&e>s?0:t<n?-(n-t+i):e>s?e-t>s-n?t+i-n:e-s+l:0,aU=(t,e)=>{const n=t.ownerDocument;let s=e,i=t;for(;i;){const l=i===n.body,c=l?{top:0,right:window.visualViewport?.width??n.documentElement.clientWidth,bottom:window.visualViewport?.height??n.documentElement.clientHeight,left:0}:nU(i),d=getComputedStyle(i),h=j2(s.left,s.right,c.left,c.right,Md(d.scrollPaddingLeft),Md(d.scrollPaddingRight)),m=j2(s.top,s.bottom,c.top,c.bottom,Md(d.scrollPaddingTop),Md(d.scrollPaddingBottom));if(h||m)if(l)n.defaultView?.scrollBy(h,m);else{const{scrollLeft:y,scrollTop:b}=i;m&&(i.scrollTop+=m),h&&(i.scrollLeft+=h);const x=i.scrollLeft-y,w=i.scrollTop-b;s={left:s.left-x,top:s.top-w,right:s.right-x,bottom:s.bottom-w}}i=l||d.position==="fixed"?null:tU(i)}},sU=100,rU=["block","break","cursor","inline","scroll","text"],iU=(t,e,n)=>{const s=new ml;return rU.forEach(i=>{const l=e.query(i);l&&s.register(l)}),t.forEach(i=>{let l=e.query(i);l||n.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let c=0;for(;l;)if(s.register(l),l="blotName"in l?l.requiredContainer??null:null,c+=1,c>sU){n.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),s},ul=kr("quill"),Rd=new ml;bs.uiClass="ql-ui";class fe{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Rd,theme:"default"};static events=De.events;static sources=De.sources;static version="2.0.3";static imports={delta:Le,parchment:II,"core/module":Fs,"core/theme":Cl};static debug(e){e===!0&&(e="log"),kr.level(e)}static find(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return jg.get(e)||Rd.find(e,n)}static import(e){return this.imports[e]==null&&ul.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),s="attrName"in e?e.attrName:e.blotName;typeof s=="string"?this.register(`formats/${s}`,e,n):Object.keys(e).forEach(i=>{this.register(i,e[i],n)})}else{const e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],s=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!s&&ul.warn(`Overwriting ${e} with`,n),this.imports[e]=n,(e.startsWith("blots/")||e.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&Rd.register(n),typeof n.register=="function"&&n.register(Rd)}}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=oU(e,n),this.container=this.options.container,this.container==null){ul.error("Invalid Quill container",e);return}this.options.debug&&fe.debug(this.options.debug);const s=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",jg.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new De;const i=z0.blotName,l=this.options.registry.query(i);if(!l||!("blotName"in l))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new l(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new ZI(this.scroll),this.selection=new WI(this.scroll,this.emitter),this.composition=new eU(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(De.events.EDITOR_CHANGE,c=>{c===De.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(De.events.SCROLL_UPDATE,(c,d)=>{const h=this.selection.lastRange,[m]=this.selection.getRange(),y=h&&m?{oldRange:h,newRange:m}:void 0;us.call(this,()=>this.editor.update(null,d,y),c)}),this.emitter.on(De.events.SCROLL_EMBED_UPDATE,(c,d)=>{const h=this.selection.lastRange,[m]=this.selection.getRange(),y=h&&m?{oldRange:h,newRange:m}:void 0;us.call(this,()=>{const b=new Le().retain(c.offset(this)).retain({[c.statics.blotName]:d});return this.editor.update(b,[],y)},fe.sources.USER)}),s){const c=this.clipboard.convert({html:`${s}<p><br></p>`,text:`
`});this.setContents(c)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const s=e;e=document.createElement("div"),e.classList.add(s)}return this.container.insertBefore(e,n),e}blur(){this.selection.setRange(null)}deleteText(e,n,s){return[e,n,,s]=gr(e,n,s),us.call(this,()=>this.editor.deleteText(e,n),s,e,-1*n)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const n=e();return this.allowReadOnlyEdits=!1,n}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:De.sources.API;return us.call(this,()=>{const i=this.getSelection(!0);let l=new Le;if(i==null)return l;if(this.scroll.query(e,Pe.BLOCK))l=this.editor.formatLine(i.index,i.length,{[e]:n});else{if(i.length===0)return this.selection.format(e,n),l;l=this.editor.formatText(i.index,i.length,{[e]:n})}return this.setSelection(i,De.sources.SILENT),l},s)}formatLine(e,n,s,i,l){let c;return[e,n,c,l]=gr(e,n,s,i,l),us.call(this,()=>this.editor.formatLine(e,n,c),l,e,0)}formatText(e,n,s,i,l){let c;return[e,n,c,l]=gr(e,n,s,i,l),us.call(this,()=>this.editor.formatText(e,n,c),l,e,0)}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=null;if(typeof e=="number"?s=this.selection.getBounds(e,n):s=this.selection.getBounds(e.index,e.length),!s)return null;const i=this.container.getBoundingClientRect();return{bottom:s.bottom-i.top,height:s.height,left:s.left-i.left,right:s.right-i.left,top:s.top-i.top,width:s.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,n]=gr(e,n),this.editor.getContents(e,n)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,n):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,n)}getModule(e){return this.theme.modules[e]}getSelection(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=gr(e,n),this.editor.getHTML(e,n)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=gr(e,n),this.editor.getText(e,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,n,s){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:fe.sources.API;return us.call(this,()=>this.editor.insertEmbed(e,n,s),i,e)}insertText(e,n,s,i,l){let c;return[e,,c,l]=gr(e,0,s,i,l),us.call(this,()=>this.editor.insertText(e,n,c),l,e,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,n,s){return[e,n,,s]=gr(e,n,s),us.call(this,()=>this.editor.removeFormat(e,n),s,e)}scrollRectIntoView(e){aU(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,n=e&&this.selection.getBounds(e.index,e.length);n&&this.scrollRectIntoView(n)}setContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:De.sources.API;return us.call(this,()=>{e=new Le(e);const s=this.getLength(),i=this.editor.deleteText(0,s),l=this.editor.insertContents(0,e),c=this.editor.deleteText(this.getLength()-1,1);return i.compose(l).compose(c)},n)}setSelection(e,n,s){e==null?this.selection.setRange(null,n||fe.sources.API):([e,n,,s]=gr(e,n,s),this.selection.setRange(new ao(Math.max(0,e),n),s),s!==De.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:De.sources.API;const s=new Le().insert(e);return this.setContents(s,n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:De.sources.USER;const n=this.scroll.update(e);return this.selection.update(e),n}updateContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:De.sources.API;return us.call(this,()=>(e=new Le(e),this.editor.applyDelta(e)),n,!0)}}function _2(t){return typeof t=="string"?document.querySelector(t):t}function Mp(t){return Object.entries(t??{}).reduce((e,n)=>{let[s,i]=n;return{...e,[s]:i===!0?{}:i}},{})}function k2(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function oU(t,e){const n=_2(t);if(!n)throw new Error("Invalid Quill container");const i=!e.theme||e.theme===fe.DEFAULTS.theme?Cl:fe.import(`themes/${e.theme}`);if(!i)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:l,...c}=fe.DEFAULTS,{modules:d,...h}=i.DEFAULTS;let m=Mp(e.modules);m!=null&&m.toolbar&&m.toolbar.constructor!==Object&&(m={...m,toolbar:{container:m.toolbar}});const y=gi({},Mp(l),Mp(d),m),b={...c,...k2(h),...k2(e)};let x=e.registry;return x?e.formats&&ul.warn('Ignoring "formats" option because "registry" is specified'):x=e.formats?iU(e.formats,b.registry,ul):b.registry,{...b,registry:x,container:n,theme:i,modules:Object.entries(y).reduce((w,N)=>{let[_,C]=N;if(!C)return w;const R=fe.import(`modules/${_}`);return R==null?(ul.error(`Cannot load ${_} module. Are you sure you registered it?`),w):{...w,[_]:gi({},R.DEFAULTS||{},C)}},{}),bounds:_2(b.bounds)}}function us(t,e,n,s){if(!this.isEnabled()&&e===De.sources.USER&&!this.allowReadOnlyEdits)return new Le;let i=n==null?null:this.getSelection();const l=this.editor.delta,c=t();if(i!=null&&(n===!0&&(n=i.index),s==null?i=O2(i,c,e):s!==0&&(i=O2(i,n,s,e)),this.setSelection(i,De.sources.SILENT)),c.length()>0){const d=[De.events.TEXT_CHANGE,c,l,e];this.emitter.emit(De.events.EDITOR_CHANGE,...d),e!==De.sources.SILENT&&this.emitter.emit(...d)}return c}function gr(t,e,n,s,i){let l={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(i=s,s=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(i=s,s=n,n=e,e=0),typeof n=="object"?(l=n,i=s):typeof n=="string"&&(s!=null?l[n]=s:i=n),i=i||De.sources.API,[t,e,l,i]}function O2(t,e,n,s){const i=typeof n=="number"?n:0;if(t==null)return null;let l,c;return e&&typeof e.transformPosition=="function"?[l,c]=[t.index,t.index+t.length].map(d=>e.transformPosition(d,s!==De.sources.USER)):[l,c]=[t.index,t.index+t.length].map(d=>d<e||d===e&&s===De.sources.USER?d:i>=0?d+i:Math.max(e,d+i)),new ao(l,c-l)}class fo extends qf{}function D2(t){return t instanceof En||t instanceof Fa}function M2(t){return typeof t.updateContent=="function"}class lU extends z0{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=En;static allowedChildren=[En,Fa,fo];constructor(e,n,s){let{emitter:i}=s;super(e,n),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",l=>this.handleDragStart(l))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(De.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(De.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,n){this.emitter.emit(De.events.SCROLL_EMBED_UPDATE,e,n)}deleteAt(e,n){const[s,i]=this.line(e),[l]=this.line(e+n);if(super.deleteAt(e,n),l!=null&&s!==l&&i>0){if(s instanceof Fa||l instanceof Fa){this.optimize();return}const c=l.children.head instanceof ws?null:l.children.head;s.moveChildren(l,c),s.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,n,s,i){super.formatAt(e,n,s,i),this.optimize()}insertAt(e,n,s){if(e>=this.length())if(s==null||this.scroll.query(n,Pe.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),s==null&&n.endsWith(`
`)?i.insertAt(0,n.slice(0,-1),s):i.insertAt(0,n,s)}else{const i=this.scroll.create(n,s);this.appendChild(i)}else super.insertAt(e,n,s);this.optimize()}insertBefore(e,n){if(e.statics.scope===Pe.INLINE_BLOT){const s=this.scroll.create(this.statics.defaultChild.blotName);s.appendChild(e),super.insertBefore(s,n)}else super.insertBefore(e,n)}insertContents(e,n){const s=this.deltaToRenderBlocks(n.concat(new Le().insert(`
`))),i=s.pop();if(i==null)return;this.batchStart();const l=s.shift();if(l){const h=l.type==="block"&&(l.delta.length()===0||!this.descendant(Fa,e)[0]&&e<this.length()),m=l.type==="block"?l.delta:new Le().insert({[l.key]:l.value});Rp(this,e,m);const y=l.type==="block"?1:0,b=e+m.length()+y;h&&this.insertAt(b-1,`
`);const x=Va(this.line(e)[0]),w=Ya.AttributeMap.diff(x,l.attributes)||{};Object.keys(w).forEach(N=>{this.formatAt(b-1,1,N,w[N])}),e=b}let[c,d]=this.children.find(e);if(s.length&&(c&&(c=c.split(d),d=0),s.forEach(h=>{if(h.type==="block"){const m=this.createBlock(h.attributes,c||void 0);Rp(m,0,h.delta)}else{const m=this.create(h.key,h.value);this.insertBefore(m,c||void 0),Object.keys(h.attributes).forEach(y=>{m.format(y,h.attributes[y])})}})),i.type==="block"&&i.delta.length()){const h=c?c.offset(c.scroll)+d:this.length();Rp(this,h,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const n=this.path(e).pop();if(!n)return[null,-1];const[s,i]=n;return s instanceof Ln?[s,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(D2,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const s=(i,l,c)=>{let d=[],h=c;return i.children.forEachAt(l,c,(m,y,b)=>{D2(m)?d.push(m):m instanceof qf&&(d=d.concat(s(m,y,h))),h-=b}),d};return s(this,e,n)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,n),e.length>0&&this.emitter.emit(De.events.SCROLL_OPTIMIZE,e,n))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let n=De.sources.USER;typeof e=="string"&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(s=>{let{target:i}=s;const l=this.find(i,!0);return l&&!M2(l)}),e.length>0&&this.emitter.emit(De.events.SCROLL_BEFORE_UPDATE,n,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(De.events.SCROLL_UPDATE,n,e)}updateEmbedAt(e,n,s){const[i]=this.descendant(l=>l instanceof Fa,e);i&&i.statics.blotName===n&&M2(i)&&i.updateContent(s)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const n=[];let s=new Le;return e.forEach(i=>{const l=i?.insert;if(l)if(typeof l=="string"){const c=l.split(`
`);c.slice(0,-1).forEach(h=>{s.insert(h,i.attributes),n.push({type:"block",delta:s,attributes:i.attributes??{}}),s=new Le});const d=c[c.length-1];d&&s.insert(d,i.attributes)}else{const c=Object.keys(l)[0];if(!c)return;this.query(c,Pe.INLINE)?s.push(i):(s.length()&&n.push({type:"block",delta:s,attributes:{}}),s=new Le,n.push({type:"blockEmbed",key:c,value:l[c],attributes:i.attributes??{}}))}}),s.length()&&n.push({type:"block",delta:s,attributes:{}}),n}createBlock(e,n){let s;const i={};Object.entries(e).forEach(d=>{let[h,m]=d;this.query(h,Pe.BLOCK&Pe.BLOT)!=null?s=h:i[h]=m});const l=this.create(s||this.statics.defaultChild.blotName,s?e[s]:void 0);this.insertBefore(l,n||void 0);const c=l.length();return Object.entries(i).forEach(d=>{let[h,m]=d;l.formatAt(0,c,h,m)}),l}}function Rp(t,e,n){n.reduce((s,i)=>{const l=Ya.Op.length(i);let c=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const d=i.insert;t.insertAt(s,d);const[h]=t.descendant(Ln,s),m=Va(h);c=Ya.AttributeMap.diff(m,c)||{}}else if(typeof i.insert=="object"){const d=Object.keys(i.insert)[0];if(d==null)return s;if(t.insertAt(s,d,i.insert[d]),t.scroll.query(d,Pe.INLINE)!=null){const[m]=t.descendant(Ln,s),y=Va(m);c=Ya.AttributeMap.diff(y,c)||{}}}}return Object.keys(c).forEach(d=>{t.formatAt(s,l,d,c[d])}),s+l},e)}const I0={scope:Pe.BLOCK,whitelist:["right","center","justify"]},cU=new Vs("align","align",I0),OE=new vs("align","ql-align",I0),DE=new Ni("align","text-align",I0);class ME extends Ni{value(e){let n=super.value(e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):n}}const uU=new vs("color","ql-color",{scope:Pe.INLINE}),U0=new ME("color","color",{scope:Pe.INLINE}),dU=new vs("background","ql-bg",{scope:Pe.INLINE}),q0=new ME("background","background-color",{scope:Pe.INLINE});class ho extends fo{static create(e){const n=super.create(e);return n.setAttribute("spellcheck","false"),n}code(e,n){return this.children.map(s=>s.length()<=1?"":s.domNode.innerText).join(`
`).slice(e,e+n)}html(e,n){return`<pre>
${$f(this.code(e,n))}
</pre>`}}class Kn extends En{static TAB="  ";static register(){fe.register(ho)}}class $0 extends Fn{}$0.blotName="code";$0.tagName="CODE";Kn.blotName="code-block";Kn.className="ql-code-block";Kn.tagName="DIV";ho.blotName="code-block-container";ho.className="ql-code-block-container";ho.tagName="DIV";ho.allowedChildren=[Kn];Kn.allowedChildren=[xs,ws,hs];Kn.requiredContainer=ho;const V0={scope:Pe.BLOCK,whitelist:["rtl"]},RE=new Vs("direction","dir",V0),LE=new vs("direction","ql-direction",V0),PE=new Ni("direction","direction",V0),zE={scope:Pe.INLINE,whitelist:["serif","monospace"]},BE=new vs("font","ql-font",zE);class fU extends Ni{value(e){return super.value(e).replace(/["']/g,"")}}const IE=new fU("font","font-family",zE),UE=new vs("size","ql-size",{scope:Pe.INLINE,whitelist:["small","large","huge"]}),qE=new Ni("size","font-size",{scope:Pe.INLINE,whitelist:["10px","18px","32px"]}),hU=kr("quill:keyboard"),mU=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Vf extends Fs{static match(e,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(s=>!!n[s]!==e[s]&&n[s]!==null)?!1:n.key===e.key||n.key===e.which}constructor(e,n){super(e,n),this.bindings={},Object.keys(this.options.bindings).forEach(s=>{this.options.bindings[s]&&this.addBinding(this.options.bindings[s])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=gU(e);if(i==null){hU.warn("Attempted to add invalid keyboard binding",i);return}typeof n=="function"&&(n={handler:n}),typeof s=="function"&&(s={handler:s}),(Array.isArray(i.key)?i.key:[i.key]).forEach(c=>{const d={...i,key:c,...n,...s};this.bindings[d.key]=this.bindings[d.key]||[],this.bindings[d.key].push(d)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const i=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(R=>Vf.match(e,R));if(i.length===0)return;const l=fe.find(e.target,!0);if(l&&l.scroll!==this.quill.scroll)return;const c=this.quill.getSelection();if(c==null||!this.quill.hasFocus())return;const[d,h]=this.quill.getLine(c.index),[m,y]=this.quill.getLeaf(c.index),[b,x]=c.length===0?[m,y]:this.quill.getLeaf(c.index+c.length),w=m instanceof xf?m.value().slice(0,y):"",N=b instanceof xf?b.value().slice(x):"",_={collapsed:c.length===0,empty:c.length===0&&d.length()<=1,format:this.quill.getFormat(c),line:d,offset:h,prefix:w,suffix:N,event:e};i.some(R=>{if(R.collapsed!=null&&R.collapsed!==_.collapsed||R.empty!=null&&R.empty!==_.empty||R.offset!=null&&R.offset!==_.offset)return!1;if(Array.isArray(R.format)){if(R.format.every(E=>_.format[E]==null))return!1}else if(typeof R.format=="object"&&!Object.keys(R.format).every(E=>R.format[E]===!0?_.format[E]!=null:R.format[E]===!1?_.format[E]==null:di(R.format[E],_.format[E])))return!1;return R.prefix!=null&&!R.prefix.test(_.prefix)||R.suffix!=null&&!R.suffix.test(_.suffix)?!1:R.handler.call(this,c,_,R)!==!0})&&e.preventDefault()})}handleBackspace(e,n){const s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={};const[l]=this.quill.getLine(e.index);let c=new Le().retain(e.index-s).delete(s);if(n.offset===0){const[d]=this.quill.getLine(e.index-1);if(d&&!(d.statics.blotName==="block"&&d.length()<=1)){const m=l.formats(),y=this.quill.getFormat(e.index-1,1);if(i=Ya.AttributeMap.diff(m,y)||{},Object.keys(i).length>0){const b=new Le().retain(e.index+l.length()-2).retain(1,i);c=c.compose(b)}}}this.quill.updateContents(c,fe.sources.USER),this.quill.focus()}handleDelete(e,n){const s=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(e.index>=this.quill.getLength()-s)return;let i={};const[l]=this.quill.getLine(e.index);let c=new Le().retain(e.index).delete(s);if(n.offset>=l.length()-1){const[d]=this.quill.getLine(e.index+1);if(d){const h=l.formats(),m=this.quill.getFormat(e.index,1);i=Ya.AttributeMap.diff(h,m)||{},Object.keys(i).length>0&&(c=c.retain(d.length()-1).retain(1,i))}}this.quill.updateContents(c,fe.sources.USER),this.quill.focus()}handleDeleteRange(e){H0({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,n){const s=Object.keys(n.format).reduce((l,c)=>(this.quill.scroll.query(c,Pe.BLOCK)&&!Array.isArray(n.format[c])&&(l[c]=n.format[c]),l),{}),i=new Le().retain(e.index).delete(e.length).insert(`
`,s);this.quill.updateContents(i,fe.sources.USER),this.quill.setSelection(e.index+1,fe.sources.SILENT),this.quill.focus()}}const pU={bindings:{bold:Lp("bold"),italic:Lp("italic"),underline:Lp("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",fe.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",fe.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",fe.sources.USER):e.format.list!=null&&this.quill.format("list",!1,fe.sources.USER)}},"indent code-block":R2(!0),"outdent code-block":R2(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,fe.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const n=new Le().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(n,fe.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,fe.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,fe.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,fe.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,n]=this.quill.getLine(t.index),s={...e.formats(),list:"checked"},i=new Le().retain(t.index).insert(`
`,s).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,fe.sources.USER),this.quill.setSelection(t.index+1,fe.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[n,s]=this.quill.getLine(t.index),i=new Le().retain(t.index).insert(`
`,e.format).retain(n.length()-s-1).retain(1,{header:null});this.quill.updateContents(i,fe.sources.USER),this.quill.setSelection(t.index+1,fe.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[n,s,i,l]=e.getTable(t),c=yU(n,s,i,l);if(c==null)return;let d=n.offset();if(c<0){const h=new Le().retain(d).insert(`
`);this.quill.updateContents(h,fe.sources.USER),this.quill.setSelection(t.index+1,t.length,fe.sources.SILENT)}else if(c>0){d+=n.length();const h=new Le().retain(d).insert(`
`);this.quill.updateContents(h,fe.sources.USER),this.quill.setSelection(d,fe.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:n,line:s}=e,i=s.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(i-1,fe.sources.USER):this.quill.setSelection(i+s.length(),fe.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=e.prefix,[s,i]=this.quill.getLine(t.index);if(i>n)return!0;let l;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(t.index," ",fe.sources.USER),this.quill.history.cutoff();const c=new Le().retain(t.index-i).delete(n+1).retain(s.length()-2-i).retain(1,{list:l});return this.quill.updateContents(c,fe.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,fe.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,n]=this.quill.getLine(t.index);let s=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,s-=1,s<=0){const l=new Le().retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(l,fe.sources.USER),this.quill.setSelection(t.index-1,fe.sources.SILENT),!1}return!0}},"embed left":Ld("ArrowLeft",!1),"embed left shift":Ld("ArrowLeft",!0),"embed right":Ld("ArrowRight",!1),"embed right shift":Ld("ArrowRight",!0),"table down":L2(!1),"table up":L2(!0)}};Vf.DEFAULTS=pU;function R2(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,n){let{event:s}=n;const i=this.quill.scroll.query("code-block"),{TAB:l}=i;if(e.length===0&&!s.shiftKey){this.quill.insertText(e.index,l,fe.sources.USER),this.quill.setSelection(e.index+l.length,fe.sources.SILENT);return}const c=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:d,length:h}=e;c.forEach((m,y)=>{t?(m.insertAt(0,l),y===0?d+=l.length:h+=l.length):m.domNode.textContent.startsWith(l)&&(m.deleteAt(0,l.length),y===0?d-=l.length:h-=l.length)}),this.quill.update(fe.sources.USER),this.quill.setSelection(d,h,fe.sources.SILENT)}}}function Ld(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(s){let{index:i}=s;t==="ArrowRight"&&(i+=s.length+1);const[l]=this.quill.getLeaf(i);return l instanceof Da?(t==="ArrowLeft"?e?this.quill.setSelection(s.index-1,s.length+1,fe.sources.USER):this.quill.setSelection(s.index-1,fe.sources.USER):e?this.quill.setSelection(s.index,s.length+1,fe.sources.USER):this.quill.setSelection(s.index+s.length+1,fe.sources.USER),!1):!0}}}function Lp(t){return{key:t[0],shortKey:!0,handler(e,n){this.quill.format(t,!n.format[t],fe.sources.USER)}}}function L2(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,n){const s=t?"prev":"next",i=n.line,l=i.parent[s];if(l!=null){if(l.statics.blotName==="table-row"){let c=l.children.head,d=i;for(;d.prev!=null;)d=d.prev,c=c.next;const h=c.offset(this.quill.scroll)+Math.min(n.offset,c.length()-1);this.quill.setSelection(h,0,fe.sources.USER)}}else{const c=i.table()[s];c!=null&&(t?this.quill.setSelection(c.offset(this.quill.scroll)+c.length()-1,0,fe.sources.USER):this.quill.setSelection(c.offset(this.quill.scroll),0,fe.sources.USER))}return!1}}}function gU(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=ll(t);else return null;return t.shortKey&&(t[mU]=t.shortKey,delete t.shortKey),t}function H0(t){let{quill:e,range:n}=t;const s=e.getLines(n);let i={};if(s.length>1){const l=s[0].formats(),c=s[s.length-1].formats();i=Ya.AttributeMap.diff(c,l)||{}}e.deleteText(n,fe.sources.USER),Object.keys(i).length>0&&e.formatLine(n.index,1,i,fe.sources.USER),e.setSelection(n.index,fe.sources.SILENT)}function yU(t,e,n,s){return e.prev==null&&e.next==null?n.prev==null&&n.next==null?s===0?-1:1:n.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const bU=/font-weight:\s*normal/,xU=["P","OL","UL"],P2=t=>t&&xU.includes(t.tagName),vU=t=>{Array.from(t.querySelectorAll("br")).filter(e=>P2(e.previousElementSibling)&&P2(e.nextElementSibling)).forEach(e=>{e.parentNode?.removeChild(e)})},wU=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>e.getAttribute("style")?.match(bU)).forEach(e=>{const n=t.createDocumentFragment();n.append(...e.childNodes),e.parentNode?.replaceChild(n,e)})};function SU(t){t.querySelector('[id^="docs-internal-guid-"]')&&(wU(t),vU(t))}const NU=/\bmso-list:[^;]*ignore/i,TU=/\bmso-list:[^;]*\bl(\d+)/i,EU=/\bmso-list:[^;]*\blevel(\d+)/i,CU=(t,e)=>{const n=t.getAttribute("style"),s=n?.match(TU);if(!s)return null;const i=Number(s[1]),l=n?.match(EU),c=l?Number(l[1]):1,d=new RegExp(`@list l${i}:level${c}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),h=e.match(d),m=h&&h[1]==="bullet"?"bullet":"ordered";return{id:i,indent:c,type:m,element:t}},AU=t=>{const e=Array.from(t.querySelectorAll("[style*=mso-list]")),n=[],s=[];e.forEach(c=>{(c.getAttribute("style")||"").match(NU)?n.push(c):s.push(c)}),n.forEach(c=>c.parentNode?.removeChild(c));const i=t.documentElement.innerHTML,l=s.map(c=>CU(c,i)).filter(c=>c);for(;l.length;){const c=[];let d=l.shift();for(;d;)c.push(d),d=l.length&&l[0]?.element===d.element.nextElementSibling&&l[0].id===d.id?l.shift():null;const h=document.createElement("ul");c.forEach(b=>{const x=document.createElement("li");x.setAttribute("data-list",b.type),b.indent>1&&x.setAttribute("class",`ql-indent-${b.indent-1}`),x.innerHTML=b.element.innerHTML,h.appendChild(x)});const m=c[0]?.element,{parentNode:y}=m??{};m&&y?.replaceChild(h,m),c.slice(1).forEach(b=>{let{element:x}=b;y?.removeChild(x)})}};function jU(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&AU(t)}const _U=[jU,SU],kU=t=>{t.documentElement&&_U.forEach(e=>{e(t)})},OU=kr("quill:clipboard"),DU=[[Node.TEXT_NODE,FU],[Node.TEXT_NODE,B2],["br",BU],[Node.ELEMENT_NODE,B2],[Node.ELEMENT_NODE,zU],[Node.ELEMENT_NODE,PU],[Node.ELEMENT_NODE,VU],["li",qU],["ol, ul",$U],["pre",IU],["tr",HU],["b",Pp("bold")],["i",Pp("italic")],["strike",Pp("strike")],["style",UU]],MU=[cU,RE].reduce((t,e)=>(t[e.keyName]=e,t),{}),z2=[DE,q0,U0,PE,IE,qE].reduce((t,e)=>(t[e.keyName]=e,t),{});class RU extends Fs{static DEFAULTS={matchers:[]};constructor(e,n){super(e,n),this.quill.root.addEventListener("copy",s=>this.onCaptureCopy(s,!1)),this.quill.root.addEventListener("cut",s=>this.onCaptureCopy(s,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],DU.concat(this.options.matchers??[]).forEach(s=>{let[i,l]=s;this.addMatcher(i,l)})}addMatcher(e,n){this.matchers.push([e,n])}convert(e){let{html:n,text:s}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[Kn.blotName])return new Le().insert(s||"",{[Kn.blotName]:i[Kn.blotName]});if(!n)return new Le().insert(s||"",i);const l=this.convertHTML(n);return cu(l,`
`)&&(l.ops[l.ops.length-1].attributes==null||i.table)?l.compose(new Le().retain(l.length()-1).delete(1)):l}normalizeHTML(e){kU(e)}convertHTML(e){const n=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(n);const s=n.body,i=new WeakMap,[l,c]=this.prepareMatching(s,i);return F0(this.quill.scroll,s,l,c,i)}dangerouslyPasteHTML(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fe.sources.API;if(typeof e=="string"){const i=this.convert({html:e,text:""});this.quill.setContents(i,n),this.quill.setSelection(0,fe.sources.SILENT)}else{const i=this.convert({html:n,text:""});this.quill.updateContents(new Le().retain(e).concat(i),s),this.quill.setSelection(e+i.length(),fe.sources.SILENT)}}onCaptureCopy(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[s]=this.quill.selection.getRange();if(s==null)return;const{html:i,text:l}=this.onCopy(s,n);e.clipboardData?.setData("text/plain",l),e.clipboardData?.setData("text/html",i),n&&H0({range:s,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const s=e.clipboardData?.getData("text/html");let i=e.clipboardData?.getData("text/plain");if(!s&&!i){const c=e.clipboardData?.getData("text/uri-list");c&&(i=this.normalizeURIList(c))}const l=Array.from(e.clipboardData?.files||[]);if(!s&&l.length>0){this.quill.uploader.upload(n,l);return}if(s&&l.length>0){const c=new DOMParser().parseFromString(s,"text/html");if(c.body.childElementCount===1&&c.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(n,l);return}}this.onPaste(n,{html:s,text:i})}onCopy(e){const n=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:n}}onPaste(e,n){let{text:s,html:i}=n;const l=this.quill.getFormat(e.index),c=this.convert({text:s,html:i},l);OU.log("onPaste",c,{text:s,html:i});const d=new Le().retain(e.index).delete(e.length).concat(c);this.quill.updateContents(d,fe.sources.USER),this.quill.setSelection(d.length()-e.length,fe.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,n){const s=[],i=[];return this.matchers.forEach(l=>{const[c,d]=l;switch(c){case Node.TEXT_NODE:i.push(d);break;case Node.ELEMENT_NODE:s.push(d);break;default:Array.from(e.querySelectorAll(c)).forEach(h=>{n.has(h)?n.get(h)?.push(d):n.set(h,[d])});break}}),[s,i]}}function mo(t,e,n,s){return s.query(e)?t.reduce((i,l)=>{if(!l.insert)return i;if(l.attributes&&l.attributes[e])return i.push(l);const c=n?{[e]:n}:{};return i.insert(l.insert,{...c,...l.attributes})},new Le):t}function cu(t,e){let n="";for(let s=t.ops.length-1;s>=0&&n.length<e.length;--s){const i=t.ops[s];if(typeof i.insert!="string")break;n=i.insert+n}return n.slice(-1*e.length)===e}function pi(t,e){if(!(t instanceof Element))return!1;const n=e.query(t);return n&&n.prototype instanceof Da?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function LU(t,e){return t.previousElementSibling&&t.nextElementSibling&&!pi(t.previousElementSibling,e)&&!pi(t.nextElementSibling,e)}const Pd=new WeakMap;function $E(t){return t==null?!1:(Pd.has(t)||(t.tagName==="PRE"?Pd.set(t,!0):Pd.set(t,$E(t.parentNode))),Pd.get(t))}function F0(t,e,n,s,i){return e.nodeType===e.TEXT_NODE?s.reduce((l,c)=>c(e,l,t),new Le):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((l,c)=>{let d=F0(t,c,n,s,i);return c.nodeType===e.ELEMENT_NODE&&(d=n.reduce((h,m)=>m(c,h,t),d),d=(i.get(c)||[]).reduce((h,m)=>m(c,h,t),d)),l.concat(d)},new Le):new Le}function Pp(t){return(e,n,s)=>mo(n,t,!0,s)}function PU(t,e,n){const s=Vs.keys(t),i=vs.keys(t),l=Ni.keys(t),c={};return s.concat(i).concat(l).forEach(d=>{let h=n.query(d,Pe.ATTRIBUTE);h!=null&&(c[h.attrName]=h.value(t),c[h.attrName])||(h=MU[d],h!=null&&(h.attrName===d||h.keyName===d)&&(c[h.attrName]=h.value(t)||void 0),h=z2[d],h!=null&&(h.attrName===d||h.keyName===d)&&(h=z2[d],c[h.attrName]=h.value(t)||void 0))}),Object.entries(c).reduce((d,h)=>{let[m,y]=h;return mo(d,m,y,n)},e)}function zU(t,e,n){const s=n.query(t);if(s==null)return e;if(s.prototype instanceof Da){const i={},l=s.value(t);if(l!=null)return i[s.blotName]=l,new Le().insert(i,s.formats(t,n))}else if(s.prototype instanceof Zc&&!cu(e,`
`)&&e.insert(`
`),"blotName"in s&&"formats"in s&&typeof s.formats=="function")return mo(e,s.blotName,s.formats(t,n),n);return e}function BU(t,e){return cu(e,`
`)||e.insert(`
`),e}function IU(t,e,n){const s=n.query("code-block"),i=s&&"formats"in s&&typeof s.formats=="function"?s.formats(t,n):!0;return mo(e,"code-block",i,n)}function UU(){return new Le}function qU(t,e,n){const s=n.query(t);if(s==null||s.blotName!=="list"||!cu(e,`
`))return e;let i=-1,l=t.parentNode;for(;l!=null;)["OL","UL"].includes(l.tagName)&&(i+=1),l=l.parentNode;return i<=0?e:e.reduce((c,d)=>d.insert?d.attributes&&typeof d.attributes.indent=="number"?c.push(d):c.insert(d.insert,{indent:i,...d.attributes||{}}):c,new Le)}function $U(t,e,n){const s=t;let i=s.tagName==="OL"?"ordered":"bullet";const l=s.getAttribute("data-checked");return l&&(i=l==="true"?"checked":"unchecked"),mo(e,"list",i,n)}function B2(t,e,n){if(!cu(e,`
`)){if(pi(t,n)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let s=t.nextSibling;for(;s!=null;){if(pi(s,n))return e.insert(`
`);const i=n.query(s);if(i&&i.prototype instanceof Fa)return e.insert(`
`);s=s.firstChild}}}return e}function VU(t,e,n){const s={},i=t.style||{};return i.fontStyle==="italic"&&(s.italic=!0),i.textDecoration==="underline"&&(s.underline=!0),i.textDecoration==="line-through"&&(s.strike=!0),(i.fontWeight?.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(s.bold=!0),e=Object.entries(s).reduce((l,c)=>{let[d,h]=c;return mo(l,d,h,n)},e),parseFloat(i.textIndent||0)>0?new Le().insert("	").concat(e):e}function HU(t,e,n){const s=t.parentElement?.tagName==="TABLE"?t.parentElement:t.parentElement?.parentElement;if(s!=null){const l=Array.from(s.querySelectorAll("tr")).indexOf(t)+1;return mo(e,"table",l,n)}return e}function FU(t,e,n){let s=t.data;if(t.parentElement?.tagName==="O:P")return e.insert(s.trim());if(!$E(t)){if(s.trim().length===0&&s.includes(`
`)&&!LU(t,n))return e;s=s.replace(/[^\S\u00a0]/g," "),s=s.replace(/ {2,}/g," "),(t.previousSibling==null&&t.parentElement!=null&&pi(t.parentElement,n)||t.previousSibling instanceof Element&&pi(t.previousSibling,n))&&(s=s.replace(/^ /,"")),(t.nextSibling==null&&t.parentElement!=null&&pi(t.parentElement,n)||t.nextSibling instanceof Element&&pi(t.nextSibling,n))&&(s=s.replace(/ $/,"")),s=s.replaceAll(""," ")}return e.insert(s)}class GU extends Fs{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,n){super(e,n),this.quill.on(fe.events.EDITOR_CHANGE,(s,i,l,c)=>{s===fe.events.SELECTION_CHANGE?i&&c!==fe.sources.SILENT&&(this.currentRange=i):s===fe.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||c===fe.sources.USER?this.record(i,l):this.transform(i)),this.currentRange=Og(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(e,n){if(this.stack[e].length===0)return;const s=this.stack[e].pop();if(!s)return;const i=this.quill.getContents(),l=s.delta.invert(i);this.stack[n].push({delta:l,range:Og(s.range,l)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,fe.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,n){if(e.ops.length===0)return;this.stack.redo=[];let s=e.invert(n),i=this.currentRange;const l=Date.now();if(this.lastRecorded+this.options.delay>l&&this.stack.undo.length>0){const c=this.stack.undo.pop();c&&(s=s.compose(c.delta),i=c.range)}else this.lastRecorded=l;s.length()!==0&&(this.stack.undo.push({delta:s,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){I2(this.stack.undo,e),I2(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,fe.sources.USER);else{const n=KU(this.quill.scroll,e.delta);this.quill.setSelection(n,fe.sources.USER)}}}function I2(t,e){let n=e;for(let s=t.length-1;s>=0;s-=1){const i=t[s];t[s]={delta:n.transform(i.delta,!0),range:i.range&&Og(i.range,n)},n=i.delta.transform(n),t[s].delta.length()===0&&t.splice(s,1)}}function YU(t,e){const n=e.ops[e.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(s=>t.query(s,Pe.BLOCK)!=null):!1}function KU(t,e){const n=e.reduce((i,l)=>i+(l.delete||0),0);let s=e.length()-n;return YU(t,e)&&(s-=1),s}function Og(t,e){if(!t)return t;const n=e.transformPosition(t.index),s=e.transformPosition(t.index+t.length);return{index:n,length:s-n}}class VE extends Fs{constructor(e,n){super(e,n),e.root.addEventListener("drop",s=>{s.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(s.clientX,s.clientY);else if(document.caretPositionFromPoint){const c=document.caretPositionFromPoint(s.clientX,s.clientY);i=document.createRange(),i.setStart(c.offsetNode,c.offset),i.setEnd(c.offsetNode,c.offset)}const l=i&&e.selection.normalizeNative(i);if(l){const c=e.selection.normalizedToRange(l);s.dataTransfer?.files&&this.upload(c,s.dataTransfer.files)}})}upload(e,n){const s=[];Array.from(n).forEach(i=>{i&&this.options.mimetypes?.includes(i.type)&&s.push(i)}),s.length>0&&this.options.handler.call(this,e,s)}}VE.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const n=e.map(s=>new Promise(i=>{const l=new FileReader;l.onload=()=>{i(l.result)},l.readAsDataURL(s)}));Promise.all(n).then(s=>{const i=s.reduce((l,c)=>l.insert({image:c}),new Le().retain(t.index).delete(t.length));this.quill.updateContents(i,De.sources.USER),this.quill.setSelection(t.index+s.length,De.sources.SILENT)})}};const WU=["insertText","insertReplacementText"];class XU extends Fs{constructor(e,n){super(e,n),e.root.addEventListener("beforeinput",s=>{this.handleBeforeInput(s)}),/Android/i.test(navigator.userAgent)||e.on(fe.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){H0({range:e,quill:this.quill})}replaceText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(n){const s=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new Le().retain(e.index).insert(n,s),fe.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+n.length,0,fe.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!WU.includes(e.inputType))return;const n=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const s=ZU(e);if(s==null)return;const i=this.quill.selection.normalizeNative(n),l=i?this.quill.selection.normalizedToRange(i):null;l&&this.replaceText(l,s)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function ZU(t){return typeof t.data=="string"?t.data:t.dataTransfer?.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const QU=/Mac/i.test(navigator.platform),JU=100,eq=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||QU&&t.key==="a"&&t.ctrlKey===!0);class tq extends Fs{isListening=!1;selectionChangeDeadline=0;constructor(e,n){super(e,n),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,n){let{line:s,event:i}=n;if(!(s instanceof bs)||!s.uiNode)return!0;const l=getComputedStyle(s.domNode).direction==="rtl";return l&&i.key!=="ArrowRight"||!l&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(i.shiftKey?1:0),fe.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&eq(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+JU,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const n=e.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;const s=this.quill.scroll.find(n.startContainer);if(!(s instanceof bs)||!s.uiNode)return;const i=document.createRange();i.setStartAfter(s.uiNode),i.setEndAfter(s.uiNode),e.removeAllRanges(),e.addRange(i)}}fe.register({"blots/block":En,"blots/block/embed":Fa,"blots/break":ws,"blots/container":fo,"blots/cursor":hs,"blots/embed":B0,"blots/inline":Fn,"blots/scroll":lU,"blots/text":xs,"modules/clipboard":RU,"modules/history":GU,"modules/keyboard":Vf,"modules/uploader":VE,"modules/input":XU,"modules/uiNode":tq});class nq extends vs{add(e,n){let s=0;if(n==="+1"||n==="-1"){const i=this.value(e)||0;s=n==="+1"?i+1:i-1}else typeof n=="number"&&(s=n);return s===0?(this.remove(e),!0):super.add(e,s.toString())}canAdd(e,n){return super.canAdd(e,n)||super.canAdd(e,parseInt(n,10))}value(e){return parseInt(super.value(e),10)||void 0}}const aq=new nq("indent","ql-indent",{scope:Pe.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class sq extends En{static blotName="blockquote";static tagName="blockquote"}class rq extends En{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}}class uu extends fo{}uu.blotName="list-container";uu.tagName="OL";class du extends En{static create(e){const n=super.create();return n.setAttribute("data-list",e),n}static formats(e){return e.getAttribute("data-list")||void 0}static register(){fe.register(uu)}constructor(e,n){super(e,n);const s=n.ownerDocument.createElement("span"),i=l=>{if(!e.isEnabled())return;const c=this.statics.formats(n,e);c==="checked"?(this.format("list","unchecked"),l.preventDefault()):c==="unchecked"&&(this.format("list","checked"),l.preventDefault())};s.addEventListener("mousedown",i),s.addEventListener("touchstart",i),this.attachUI(s)}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(e,n)}}du.blotName="list";du.tagName="LI";uu.allowedChildren=[du];du.requiredContainer=uu;class G0 extends Fn{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}class iq extends G0{static blotName="italic";static tagName=["EM","I"]}class vf extends Fn{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const n=super.create(e);return n.setAttribute("href",this.sanitize(e)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(e){return e.getAttribute("href")}static sanitize(e){return HE(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,n){e!==this.statics.blotName||!n?super.format(e,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}function HE(t,e){const n=document.createElement("a");n.href=t;const s=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(s)>-1}class oq extends Fn{static blotName="script";static tagName=["SUB","SUP"];static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}class lq extends G0{static blotName="strike";static tagName=["S","STRIKE"]}class cq extends Fn{static blotName="underline";static tagName="U"}class uq extends B0{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(e);return typeof e=="string"&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}const U2=["alt","height","width"];let dq=class extends Da{static blotName="image";static tagName="IMG";static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("src",this.sanitize(e)),n}static formats(e){return U2.reduce((n,s)=>(e.hasAttribute(s)&&(n[s]=e.getAttribute(s)),n),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return HE(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,n){U2.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}};const q2=["height","width"];class fq extends Fa{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const n=super.create(e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(e)),n}static formats(e){return q2.reduce((n,s)=>(e.hasAttribute(s)&&(n[s]=e.getAttribute(s)),n),{})}static sanitize(e){return vf.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,n){q2.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}const _c=new vs("code-token","hljs",{scope:Pe.INLINE});class Cr extends Fn{static formats(e,n){for(;e!=null&&e!==n.domNode;){if(e.classList&&e.classList.contains(Kn.className))return super.formats(e,n);e=e.parentNode}}constructor(e,n,s){super(e,n,s),_c.add(this.domNode,s)}format(e,n){e!==Cr.blotName?super.format(e,n):n?_c.add(this.domNode,n):(_c.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),_c.value(this.domNode)||this.unwrap()}}Cr.blotName="code-token";Cr.className="ql-token";class Ha extends Kn{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("data-language",e),n}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(e,n)}replaceWith(e,n){return this.formatAt(0,this.length(),Cr.blotName,!1),super.replaceWith(e,n)}}class Bc extends ho{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,n){e===Ha.blotName&&(this.forceNext=!0,this.children.forEach(s=>{s.format(e,n)}))}formatAt(e,n,s,i){s===Ha.blotName&&(this.forceNext=!0),super.formatAt(e,n,s,i)}highlight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(c=>c!==this.uiNode).map(c=>c.textContent).join(`
`)}
`,l=Ha.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const c=this.children.reduce((h,m)=>h.concat(_E(m,!1)),new Le),d=e(i,l);c.diff(d).reduce((h,m)=>{let{retain:y,attributes:b}=m;return y?(b&&Object.keys(b).forEach(x=>{[Ha.blotName,Cr.blotName].includes(x)&&this.formatAt(h,y,x,b[x])}),h+y):h},0)}this.cachedText=i,this.forceNext=!1}}html(e,n){const[s]=this.children.find(e);return`<pre data-language="${s?Ha.formats(s.domNode):"plain"}">
${$f(this.code(e,n))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=Ha.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}Bc.allowedChildren=[Ha];Ha.requiredContainer=Bc;Ha.allowedChildren=[Cr,hs,xs,ws];const hq=(t,e,n)=>{if(typeof t.versionString=="string"){const s=t.versionString.split(".")[0];if(parseInt(s,10)>=11)return t.highlight(n,{language:e}).value}return t.highlight(e,n).value};class FE extends Fs{static register(){fe.register(Cr,!0),fe.register(Ha,!0),fe.register(Bc,!0)}constructor(e,n){if(super(e,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((s,i)=>{let{key:l}=i;return s[l]=!0,s},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(fe.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Bc))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(s=>{let{key:i,label:l}=s;const c=n.ownerDocument.createElement("option");c.textContent=l,c.setAttribute("value",i),n.appendChild(c)}),n.addEventListener("change",()=>{e.format(Ha.blotName,n.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(n),e.children.head&&(n.value=Ha.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(fe.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(fe.sources.USER);const s=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Bc):[e]).forEach(l=>{l.highlight(this.highlightBlot,n)}),this.quill.update(fe.sources.SILENT),s!=null&&this.quill.setSelection(s,fe.sources.SILENT)}highlightBlot(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return $f(e).split(`
`).reduce((i,l,c)=>(c!==0&&i.insert(`
`,{[Kn.blotName]:n}),i.insert(l)),new Le);const s=this.quill.root.ownerDocument.createElement("div");return s.classList.add(Kn.className),s.innerHTML=hq(this.options.hljs,n,e),F0(this.quill.scroll,s,[(i,l)=>{const c=_c.value(i);return c?l.compose(new Le().retain(l.length(),{[Cr.blotName]:c})):l}],[(i,l)=>i.data.split(`
`).reduce((c,d,h)=>(h!==0&&c.insert(`
`,{[Kn.blotName]:n}),c.insert(d)),l)],new WeakMap)}}FE.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class ps extends En{static blotName="table";static tagName="TD";static create(e){const n=super.create();return e?n.setAttribute("data-row",e):n.setAttribute("data-row",Y0()),n}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,n){e===ps.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(e,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class so extends fo{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),n=this.children.tail.formats(),s=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===n.table&&e.table===s.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach(n=>{if(n.next==null)return;const s=n.formats(),i=n.next.formats();if(s.table!==i.table){const l=this.splitAfter(n);l&&l.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class yi extends fo{static blotName="table-body";static tagName="TBODY"}class wf extends fo{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants(so),n=e.reduce((s,i)=>Math.max(i.children.length,s),0);e.forEach(s=>{new Array(n-s.children.length).fill(0).forEach(()=>{let i;s.children.head!=null&&(i=ps.formats(s.children.head.domNode));const l=this.scroll.create(ps.blotName,i);s.appendChild(l),l.optimize()})})}cells(e){return this.rows().map(n=>n.children.at(e))}deleteColumn(e){const[n]=this.descendant(yi);n==null||n.children.head==null||n.children.forEach(s=>{const i=s.children.at(e);i?.remove()})}insertColumn(e){const[n]=this.descendant(yi);n==null||n.children.head==null||n.children.forEach(s=>{const i=s.children.at(e),l=ps.formats(s.children.head.domNode),c=this.scroll.create(ps.blotName,l);s.insertBefore(c,i)})}insertRow(e){const[n]=this.descendant(yi);if(n==null||n.children.head==null)return;const s=Y0(),i=this.scroll.create(so.blotName);n.children.head.children.forEach(()=>{const c=this.scroll.create(ps.blotName,s);i.appendChild(c)});const l=n.children.at(e);n.insertBefore(i,l)}rows(){const e=this.children.head;return e==null?[]:e.children.map(n=>n)}}wf.allowedChildren=[yi];yi.requiredContainer=wf;yi.allowedChildren=[so];so.requiredContainer=yi;so.allowedChildren=[ps];ps.requiredContainer=so;function Y0(){return`row-${Math.random().toString(36).slice(2,6)}`}class mq extends Fs{static register(){fe.register(ps),fe.register(so),fe.register(yi),fe.register(wf)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(wf).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,n]=this.getTable();n!=null&&(e.deleteColumn(n.cellOffset()),this.quill.update(fe.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(fe.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const n=e.offset();e.remove(),this.quill.update(fe.sources.USER),this.quill.setSelection(n,fe.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[n,s]=this.quill.getLine(e.index);if(n==null||n.statics.blotName!==ps.blotName)return[null,null,null,-1];const i=n.parent;return[i.parent.parent,i,n,s]}insertColumn(e){const n=this.quill.getSelection();if(!n)return;const[s,i,l]=this.getTable(n);if(l==null)return;const c=l.cellOffset();s.insertColumn(c+e),this.quill.update(fe.sources.USER);let d=i.rowOffset();e===0&&(d+=1),this.quill.setSelection(n.index+d,n.length,fe.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const n=this.quill.getSelection();if(!n)return;const[s,i,l]=this.getTable(n);if(l==null)return;const c=i.rowOffset();s.insertRow(c+e),this.quill.update(fe.sources.USER),e>0?this.quill.setSelection(n,fe.sources.SILENT):this.quill.setSelection(n.index+i.children.length,n.length,fe.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,n){const s=this.quill.getSelection();if(s==null)return;const i=new Array(e).fill(0).reduce(l=>{const c=new Array(n).fill(`
`).join("");return l.insert(c,{table:Y0()})},new Le().retain(s.index));this.quill.updateContents(i,fe.sources.USER),this.quill.setSelection(s.index,fe.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(fe.events.SCROLL_OPTIMIZE,e=>{e.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(fe.events.TEXT_CHANGE,(s,i,l)=>{l===fe.sources.USER&&this.balanceTables()}),!0):!1)})}}const $2=kr("quill:toolbar");class K0 extends Fs{constructor(e,n){if(super(e,n),Array.isArray(this.options.container)){const s=document.createElement("div");s.setAttribute("role","toolbar"),pq(s,this.options.container),e.container?.parentNode?.insertBefore(s,e.container),this.container=s}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){$2.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(s=>{const i=this.options.handlers?.[s];i&&this.addHandler(s,i)}),Array.from(this.container.querySelectorAll("button, select")).forEach(s=>{this.attach(s)}),this.quill.on(fe.events.EDITOR_CHANGE,()=>{const[s]=this.quill.selection.getRange();this.update(s)})}addHandler(e,n){this.handlers[e]=n}attach(e){let n=Array.from(e.classList).find(i=>i.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){$2.warn("ignoring attaching to nonexistent format",n,e);return}const s=e.tagName==="SELECT"?"change":"click";e.addEventListener(s,i=>{let l;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const d=e.options[e.selectedIndex];d.hasAttribute("selected")?l=!1:l=d.value||!1}else e.classList.contains("ql-active")?l=!1:l=e.value||!e.hasAttribute("value"),i.preventDefault();this.quill.focus();const[c]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,l);else if(this.quill.scroll.query(n).prototype instanceof Da){if(l=prompt(`Enter ${n}`),!l)return;this.quill.updateContents(new Le().retain(c.index).delete(c.length).insert({[n]:l}),fe.sources.USER)}else this.quill.format(n,l,fe.sources.USER);this.update(c)}),this.controls.push([n,e])}update(e){const n=e==null?{}:this.quill.getFormat(e);this.controls.forEach(s=>{const[i,l]=s;if(l.tagName==="SELECT"){let c=null;if(e==null)c=null;else if(n[i]==null)c=l.querySelector("option[selected]");else if(!Array.isArray(n[i])){let d=n[i];typeof d=="string"&&(d=d.replace(/"/g,'\\"')),c=l.querySelector(`option[value="${d}"]`)}c==null?(l.value="",l.selectedIndex=-1):c.selected=!0}else if(e==null)l.classList.remove("ql-active"),l.setAttribute("aria-pressed","false");else if(l.hasAttribute("value")){const c=n[i],d=c===l.getAttribute("value")||c!=null&&c.toString()===l.getAttribute("value")||c==null&&!l.getAttribute("value");l.classList.toggle("ql-active",d),l.setAttribute("aria-pressed",d.toString())}else{const c=n[i]!=null;l.classList.toggle("ql-active",c),l.setAttribute("aria-pressed",c.toString())}})}}K0.DEFAULTS={};function V2(t,e,n){const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add(`ql-${e}`),s.setAttribute("aria-pressed","false"),n!=null?(s.value=n,s.setAttribute("aria-label",`${e}: ${n}`)):s.setAttribute("aria-label",e),t.appendChild(s)}function pq(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(n=>{const s=document.createElement("span");s.classList.add("ql-formats"),n.forEach(i=>{if(typeof i=="string")V2(s,i);else{const l=Object.keys(i)[0],c=i[l];Array.isArray(c)?gq(s,l,c):V2(s,l,c)}}),t.appendChild(s)})}function gq(t,e,n){const s=document.createElement("select");s.classList.add(`ql-${e}`),n.forEach(i=>{const l=document.createElement("option");i!==!1?l.setAttribute("value",String(i)):l.setAttribute("selected","selected"),s.appendChild(l)}),t.appendChild(s)}K0.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(n=>{this.quill.scroll.query(n,Pe.INLINE)!=null&&this.quill.format(n,!1,fe.sources.USER)})}else this.quill.removeFormat(t.index,t.length,fe.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",fe.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,fe.sources.USER),this.quill.format("direction",t,fe.sources.USER)},indent(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e),s=parseInt(n.indent||0,10);if(t==="+1"||t==="-1"){let i=t==="+1"?1:-1;n.direction==="rtl"&&(i*=-1),this.quill.format("indent",s+i,fe.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,fe.sources.USER)},list(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e);t==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,fe.sources.USER):this.quill.format("list","unchecked",fe.sources.USER):this.quill.format("list",t,fe.sources.USER)}}};const yq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',bq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',xq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',vq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',wq='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',Sq='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',Nq='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',Tq='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',H2='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Eq='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',Cq='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',Aq='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',jq='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',_q='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',kq='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Oq='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Dq='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',Mq='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Rq='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',Lq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',Pq='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',zq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',Bq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',Iq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',Uq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',qq='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',$q='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Vq='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',Hq='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',Fq='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',Gq='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Yq='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Kq='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Jc={align:{"":yq,center:bq,right:xq,justify:vq},background:wq,blockquote:Sq,bold:Nq,clean:Tq,code:H2,"code-block":H2,color:Eq,direction:{"":Cq,rtl:Aq},formula:jq,header:{1:_q,2:kq,3:Oq,4:Dq,5:Mq,6:Rq},italic:Lq,image:Pq,indent:{"+1":zq,"-1":Bq},link:Iq,list:{bullet:Uq,check:qq,ordered:$q},script:{sub:Vq,super:Hq},strike:Fq,table:Gq,underline:Yq,video:Kq},Wq='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let F2=0;function G2(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class Hf{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),G2(this.label,"aria-expanded"),G2(this.options,"aria-hidden")}buildItem(e){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const s=e.getAttribute("value");return s&&n.setAttribute("data-value",s),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(n,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),n}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=Wq,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${F2}`,F2+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(n=>{const s=this.buildItem(n);e.appendChild(s),n.selected===!0&&this.selectItem(s)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=this.container.querySelector(".ql-selected");e!==s&&(s?.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const s=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(s)}else this.selectItem(null);const n=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class GE extends Hf{constructor(e,n){super(e),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(s=>{s.classList.add("ql-primary")})}buildItem(e){const n=super.buildItem(e);return n.style.backgroundColor=e.getAttribute("value")||"",n}selectItem(e,n){super.selectItem(e,n);const s=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";s&&(s.tagName==="line"?s.style.stroke=i:s.style.fill=i)}}class YE extends Hf{constructor(e,n){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(s=>{s.innerHTML=n[s.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,n){super.selectItem(e,n);const s=e||this.defaultItem;if(s!=null){if(this.label.innerHTML===s.innerHTML)return;this.label.innerHTML=s.innerHTML}}}const Xq=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class KE{constructor(e,n){this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,Xq(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const n=e.left+e.width/2-this.root.offsetWidth/2,s=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${s}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),l=this.root.getBoundingClientRect();let c=0;if(l.right>i.right&&(c=i.right-l.right,this.root.style.left=`${n+c}px`),l.left<i.left&&(c=i.left-l.left,this.root.style.left=`${n+c}px`),l.bottom>i.bottom){const d=l.bottom-l.top,h=e.bottom-e.top+d;this.root.style.top=`${s-h}px`,this.root.classList.add("ql-flip")}return c}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const Zq=[!1,"center","right","justify"],Qq=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Jq=[!1,"serif","monospace"],e$=["1","2","3",!1],t$=["small",!1,"large","huge"];class fu extends Cl{constructor(e,n){super(e,n);const s=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",s);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(l=>{l.container.contains(i.target)||l.close()})};e.emitter.listenDOM("click",document.body,s)}addModule(e){const n=super.addModule(e);return e==="toolbar"&&this.extendToolbar(n),n}buildButtons(e,n){Array.from(e).forEach(s=>{(s.getAttribute("class")||"").split(/\s+/).forEach(l=>{if(l.startsWith("ql-")&&(l=l.slice(3),n[l]!=null))if(l==="direction")s.innerHTML=n[l][""]+n[l].rtl;else if(typeof n[l]=="string")s.innerHTML=n[l];else{const c=s.value||"";c!=null&&n[l][c]&&(s.innerHTML=n[l][c])}})})}buildPickers(e,n){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&Sc(i,Zq),typeof n.align=="object"))return new YE(i,n.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const l=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&Sc(i,Qq,l==="background"?"#ffffff":"#000000"),new GE(i,n[l])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?Sc(i,Jq):i.classList.contains("ql-header")?Sc(i,e$):i.classList.contains("ql-size")&&Sc(i,t$)),new Hf(i)});const s=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(De.events.EDITOR_CHANGE,s)}}fu.DEFAULTS=gi({},Cl.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class WE extends KE{constructor(e,n){super(e,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const s=this.quill.getBounds(this.quill.selection.savedRange);s!=null&&this.position(s),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,De.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,De.sources.USER)),this.quill.root.scrollTop=n;break}case"video":e=n$(e);case"formula":{if(!e)break;const n=this.quill.getSelection(!0);if(n!=null){const s=n.index+n.length;this.quill.insertEmbed(s,this.root.getAttribute("data-mode"),e,De.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(s+1," ",De.sources.USER),this.quill.setSelection(s+2,De.sources.USER)}break}}this.textbox.value="",this.hide()}}function n$(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function Sc(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(s=>{const i=document.createElement("option");s===n?i.setAttribute("selected","selected"):i.setAttribute("value",String(s)),t.appendChild(i)})}const a$=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class s$ extends WE{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,n){super(e,n),this.quill.on(De.events.EDITOR_CHANGE,(s,i,l,c)=>{if(s===De.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&c===De.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const d=this.quill.getLines(i.index,i.length);if(d.length===1){const h=this.quill.getBounds(i);h!=null&&this.position(h)}else{const h=d[d.length-1],m=this.quill.getIndex(h),y=Math.min(h.length()-1,i.index+i.length-m),b=this.quill.getBounds(new ao(m,y));b!=null&&this.position(b)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(De.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const n=this.quill.getBounds(e);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(e){const n=super.position(e),s=this.root.querySelector(".ql-tooltip-arrow");return s.style.marginLeft="",n!==0&&(s.style.marginLeft=`${-1*n-s.offsetWidth/2}px`),n}}class XE extends fu{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=a$),super(e,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new s$(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Jc),this.buildPickers(e.container.querySelectorAll("select"),Jc))}}XE.DEFAULTS=gi({},fu.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,fe.sources.USER)}}}}});const r$=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class i$ extends WE{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,De.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(De.events.SELECTION_CHANGE,(e,n,s)=>{if(e!=null){if(e.length===0&&s===De.sources.USER){const[i,l]=this.quill.scroll.descendant(vf,e.index);if(i!=null){this.linkRange=new ao(e.index-l,i.length());const c=vf.formats(i.domNode);this.preview.textContent=c,this.preview.setAttribute("href",c),this.show();const d=this.quill.getBounds(this.linkRange);d!=null&&this.position(d);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class ZE extends fu{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=r$),super(e,n),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Jc),this.buildPickers(e.container.querySelectorAll("select"),Jc),this.tooltip=new i$(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,s)=>{e.handlers.link.call(e,!s.format.link)}))}}ZE.DEFAULTS=gi({},fu.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:s}=this.quill.theme;s.edit("link",n)}else this.quill.format("link",!1,fe.sources.USER)}}}}});fe.register({"attributors/attribute/direction":RE,"attributors/class/align":OE,"attributors/class/background":dU,"attributors/class/color":uU,"attributors/class/direction":LE,"attributors/class/font":BE,"attributors/class/size":UE,"attributors/style/align":DE,"attributors/style/background":q0,"attributors/style/color":U0,"attributors/style/direction":PE,"attributors/style/font":IE,"attributors/style/size":qE},!0);fe.register({"formats/align":OE,"formats/direction":LE,"formats/indent":aq,"formats/background":q0,"formats/color":U0,"formats/font":BE,"formats/size":UE,"formats/blockquote":sq,"formats/code-block":Kn,"formats/header":rq,"formats/list":du,"formats/bold":G0,"formats/code":$0,"formats/italic":iq,"formats/link":vf,"formats/script":oq,"formats/strike":lq,"formats/underline":cq,"formats/formula":uq,"formats/image":dq,"formats/video":fq,"modules/syntax":FE,"modules/table":mq,"modules/toolbar":K0,"themes/bubble":XE,"themes/snow":ZE,"ui/icons":Jc,"ui/picker":Hf,"ui/icon-picker":YE,"ui/color-picker":GE,"ui/tooltip":KE},!0);class pl extends fa.Component{constructor(e){super(e),this.editingAreaRef=T.createRef(),this.containerRef=T.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(s,i,l,c)=>{s==="text-change"?this.onEditorChangeText?.(this.editor.getSemanticHTML(),i,c,this.unprivilegedEditor):s==="selection-change"&&this.onEditorChangeSelection?.(i,c,this.unprivilegedEditor)};const n=this.isControlled()?e.value:e.defaultValue;this.value=n??""}validateProps(e){if(fa.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(fa.Children.count(e.children)&&fa.Children.only(e.children)?.type==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,n){if(this.validateProps(e),!this.editor||this.state.generation!==n.generation)return!0;if("value"in e){const s=this.getEditorContents(),i=e.value??"";this.isEqualValue(i,s)||this.setEditorContents(this.editor,i)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(s=>!di(e[s],this.props[s]))}shouldComponentRegenerate(e){return this.dirtyProps.some(n=>!di(e[n],this.props[n]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,n){if(this.editor&&this.shouldComponentRegenerate(e)){const s=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.editor&&e.placeholder!==this.props.placeholder&&(this.editor.root.dataset.placeholder=this.props.placeholder||""),this.state.generation!==n.generation){const{delta:s,selection:i}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const l=this.editor;l.setContents(s),Y2(()=>this.setEditorSelection(l,i))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){if(!this.editor)return;this.unhookEditor(this.editor);const e=this.props.modules?.toolbar;if(!(typeof e=="object"&&e&&"container"in e&&typeof e.container=="string"||typeof e=="string")){const s=this.containerRef.current?.querySelector(".ql-toolbar");s&&s.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,n){const s=new fe(e,n);return n.tabIndex!=null&&this.setEditorTabIndex(s,n.tabIndex),this.hookEditor(s),s}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,n){return this.isDelta(e)&&this.isDelta(n)?di(e.ops,n.ops):di(e,n)}setEditorContents(e,n){this.value=n;const s=this.getEditorSelection();typeof n=="string"?e.setContents(e.clipboard.convert({html:n})):e.setContents(n),Y2(()=>this.setEditorSelection(e,s))}setEditorSelection(e,n){if(this.selection=n,n){const s=e.getLength();n.index=Math.max(0,Math.min(n.index,s-1)),n.length=Math.max(0,Math.min(n.length,s-1-n.index)),e.setSelection(n)}}setEditorTabIndex(e,n){e?.scroll?.domNode&&(e.scroll.domNode.tabIndex=n)}setEditorReadOnly(e,n){n?e.disable():e.enable()}makeUnprivilegedEditor(e){const n=e;return{getHTML:()=>n.root.innerHTML,getSemanticHTML:n.getSemanticHTML.bind(n),getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:n}=this.props,{generation:s}=this.state,i={key:s,ref:this.editingAreaRef};return fa.Children.count(e)?fa.cloneElement(fa.Children.only(e),i):n?fa.createElement("pre",{...i}):fa.createElement("div",{...i})}render(){return fa.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,n,s,i){if(!this.editor)return;const l=this.isDelta(this.value)?i.getContents():i.getSemanticHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=l,this.props.onChange?.(e,n,s,i))}onEditorChangeSelection(e,n,s){if(!this.editor)return;const i=this.getEditorSelection(),l=!i&&e,c=i&&!e;di(e,i)||(this.selection=e,this.props.onChangeSelection?.(e,n,s),l?this.props.onFocus?.(e,n,s):c&&this.props.onBlur?.(i,n,s))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}pl.displayName="React Quill";pl.Quill=fe;pl.defaultProps={theme:"snow",modules:{},readOnly:!1};function Y2(t){Promise.resolve().then(t)}const Dg=({tags:t,setTags:e,inputValue:n,setInputValue:s})=>{const{t:i}=yn(),l=d=>{if(d.key==="Enter"){d.preventDefault();const h=n.trim();h&&!t.includes(h)&&(e([...t,h]),s(""))}},c=d=>{e(t.filter(h=>h!==d))};return f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:t.map((d,h)=>f.jsxs("span",{className:"bg-cream-100 text-cream-800 px-2 py-0.5 rounded-full text-xs font-medium flex items-center gap-1 border border-cream-200",children:["#",d,f.jsx("button",{onClick:()=>c(d),className:"hover:text-red-500",children:f.jsx(Ka,{size:10})})]},h))}),f.jsxs("div",{className:"relative flex items-center",children:[f.jsx(Fg,{size:14,className:"absolute left-2 text-cream-400"}),f.jsx("input",{type:"text",value:n,onChange:d=>s(d.target.value),onKeyDown:l,placeholder:i("write.tagEditor.placeholder"),className:"pl-7 pr-2 py-1 bg-transparent border-none outline-none text-sm text-cream-900 placeholder:text-cream-400 w-24 focus:w-32 transition-all"})]})]})},Mg=({value:t,onChange:e,existingCategories:n=[]})=>{const{t:s}=yn(),[i,l]=T.useState(!1),[c,d]=T.useState(t||""),h=T.useRef(null),m=T.useRef(null),y=[...new Set(n)],x=!c||c===t?y:y.filter(E=>E.toLowerCase().includes(c.toLowerCase())),w=c&&!y.some(E=>E.toLowerCase()===c.toLowerCase());T.useEffect(()=>{d(t||"")},[t]),T.useEffect(()=>{const E=D=>{h.current&&!h.current.contains(D.target)&&(l(!1),c!==t&&d(t||""))};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[c,t]);const N=E=>{e(E),d(E),l(!1)},_=()=>{c.trim()&&(e(c.trim()),l(!1))},C=E=>{E.key==="Enter"&&(E.preventDefault(),_())},R=E=>{E.stopPropagation(),e(""),d(""),m.current?.focus()};return f.jsxs("div",{className:"relative",ref:h,children:[f.jsxs("div",{className:"relative group",children:[f.jsx("input",{ref:m,type:"text",value:c,onChange:E=>{d(E.target.value),l(!0)},onFocus:()=>l(!0),onKeyDown:C,className:"w-full px-3 py-2 bg-cream-50 border border-cream-200 rounded-lg text-sm text-cream-900 focus:outline-none focus:border-cream-400 focus:ring-1 focus:ring-cream-400 pr-16",placeholder:s("write.categorySelector.placeholder")}),f.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[c&&f.jsx("button",{onClick:R,className:"p-1 text-cream-400 hover:text-cream-600 rounded-full hover:bg-cream-100 transition-colors",title:s("write.categorySelector.clear"),children:f.jsx(Ka,{size:14})}),f.jsx("button",{className:"p-1 text-cream-400 hover:text-cream-600 cursor-pointer transition-colors",onClick:()=>{l(!i),i||m.current?.focus()},children:f.jsx(_f,{size:16})})]})]}),i&&f.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-cream-200 rounded-lg shadow-lg max-h-60 overflow-y-auto custom-scrollbar",children:[x.length>0&&x.map(E=>f.jsxs("div",{className:Ne("px-3 py-2 text-sm cursor-pointer hover:bg-cream-50 flex items-center justify-between",E===t?"bg-cream-50 text-cream-900 font-medium":"text-cream-700"),onClick:()=>N(E),children:[f.jsx("span",{children:E}),E===t&&f.jsx(ys,{size:14,className:"text-cream-600"})]},E)),w&&f.jsxs("div",{className:"px-3 py-2 text-sm cursor-pointer hover:bg-cream-50 flex items-center gap-2 text-amber-600 border-t border-cream-50 font-medium",onClick:_,children:[f.jsx(Sr,{size:14}),f.jsx("span",{children:s("write.categorySelector.create",{value:c})})]}),x.length===0&&!w&&f.jsx("div",{className:"px-3 py-2 text-sm text-cream-400 italic",children:s("write.categorySelector.noCategories")})]})]})},QE=[{id:"happy",icon:sf,color:"text-green-500"},{id:"excited",icon:Yg,color:"text-yellow-500"},{id:"neutral",icon:PS,color:"text-gray-500"},{id:"sad",icon:RS,color:"text-blue-500"},{id:"loved",icon:kf,color:"text-pink-500"}],Rg=({value:t,onChange:e})=>{const{t:n}=yn();return f.jsx("div",{className:"flex items-center gap-1 bg-cream-50 rounded-lg p-1 border border-cream-200",children:QE.map(s=>{const i=s.icon,l=t===s.id;return f.jsx("button",{onClick:()=>e(s.id),className:Ne("p-1.5 rounded-md transition-all hover:bg-white",l?"bg-white shadow-sm ring-1 ring-cream-200":"opacity-50 hover:opacity-100"),title:n(`moods.${s.id}`),children:f.jsx(i,{size:16,className:Ne(l?s.color:"text-cream-600")})},s.id)})})};function JE({diary:t}){const{t:e,i18n:n}=yn(),i={en:hn,"en-US":hn,zh:Za,"zh-CN":Za,"zh-TW":Tl,ja:Pf}[n.language]||hn,{updateDiary:l,addComment:c,deleteDiary:d,deleteChatHistory:h,deleteComment:m,diaries:y,customCategories:b,addCategory:x}=io(),{generateChatResponse:w,generateComment:N,currentPersona:_}=oo(),[C,R]=T.useState(!1),[E,D]=T.useState(t.title),[I,P]=T.useState(t.content),[U,z]=T.useState(t.category||""),[L,W]=T.useState(t.tags||[]),[se,k]=T.useState(t.mood||"neutral"),[F,q]=T.useState(""),[Z,re]=T.useState(""),[A,B]=T.useState(!1),[V,le]=T.useState(!1),[ue,M]=T.useState(!1),[Y,X]=T.useState(null),[ie,me]=T.useState(!1),[ge,xe]=T.useState(!1),Ce={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],["link","image"],["clean"]]},ee=T.useMemo(()=>b.map(be=>be.name),[b]);T.useEffect(()=>{D(t.title),P(t.content),z(t.category||""),W(t.tags||[]),k(t.mood||"neutral")},[t]);const oe=()=>{d(t.id)},pe=()=>{const be=U.trim();be&&!b.some(Ke=>Ke.name===be)&&x(be),l(t.id,{title:E,content:I,category:be,tags:L,mood:se}),R(!1)},ve=()=>{Z.trim()&&(c(t.id,{author:"user",text:Z}),re(""))},we=async()=>{B(!0);try{console.log("Generating comment for diary:",t.id);const be=await N(t,t.comments);c(t.id,{author:"ai",text:be})}catch(be){console.error("Failed to generate comment:",be),alert(`Failed to generate comment: ${be.message}`)}finally{B(!1)}},Se=()=>{Y&&(m(t.id,Y),X(null),M(!1))},je=()=>{h(t.id),xe(!1)};return f.jsxs("div",{className:"mb-12 border-b border-cream-200 pb-12 last:border-0 last:pb-0",children:[f.jsx(Qi,{isOpen:V,onClose:()=>le(!1),onConfirm:oe,title:e("diary_item.delete_diary_title"),message:e("diary_item.delete_diary_message"),confirmText:e("common.delete"),isDangerous:!0}),f.jsx(Qi,{isOpen:ue,onClose:()=>M(!1),onConfirm:Se,title:e("diary_item.delete_comment_title"),message:e("diary_item.delete_comment_message"),confirmText:e("common.delete"),isDangerous:!0}),f.jsx("div",{className:"mb-6 flex items-center justify-end",children:C?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>R(!1),className:"p-2 text-cream-900/60 hover:text-cream-900 hover:bg-cream-100 rounded-lg transition-all",children:f.jsx(Ka,{size:20})}),f.jsxs("button",{onClick:pe,className:"px-4 py-2 bg-cream-900 text-white rounded-lg shadow-sm hover:bg-cream-800 transition-all flex items-center gap-2 text-sm font-medium",children:[f.jsx(Ji,{size:16}),e("diary_item.save")]})]}):f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>le(!0),className:"p-2 text-cream-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",title:e("diary_item.delete_diary"),children:f.jsx(fn,{size:18})}),f.jsxs("button",{onClick:()=>R(!0),className:"p-2 text-cream-900/60 hover:text-cream-900 hover:bg-white rounded-lg transition-all flex items-center gap-2 text-sm font-medium",children:[f.jsx(af,{size:18}),e("diary_item.edit")]})]})}),f.jsx("div",{className:"bg-white rounded-2xl p-8 md:p-12 shadow-sm border border-cream-100 mb-6 relative group min-h-[400px]",children:C?f.jsxs("div",{className:"h-full flex flex-col gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("input",{type:"text",value:E,onChange:be=>D(be.target.value),className:"text-3xl md:text-4xl font-bold text-cream-900 border-b border-cream-100 pb-2 focus:border-cream-300 outline-none bg-transparent flex-1 min-w-[200px]",placeholder:e("diary_item.title_placeholder")}),f.jsx(Rg,{value:se,onChange:k})]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-xs font-medium text-cream-500 mb-1 uppercase tracking-wide",children:e("diary_item.category_label")}),f.jsx(Mg,{value:U,onChange:z,existingCategories:ee})]}),f.jsxs("div",{className:"flex-[2]",children:[f.jsx("label",{className:"block text-xs font-medium text-cream-500 mb-1 uppercase tracking-wide",children:e("diary_item.tags_label")}),f.jsx(Dg,{tags:L,setTags:W,inputValue:F,setInputValue:q})]})]}),f.jsx("div",{className:"flex-1",children:f.jsx(pl,{theme:"snow",value:I,onChange:P,modules:Ce,placeholder:e("diary_item.content_placeholder"),className:"h-full"})})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.mood&&(()=>{const be=QE.find(Ke=>Ke.id===t.mood);if(be){const Ke=be.icon;return f.jsx(Ke,{size:32,className:be.color,title:t.mood})}return null})(),f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-cream-900 leading-tight",children:t.title})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-8",children:[t.category&&f.jsx("span",{className:"px-3 py-1 bg-cream-100 text-cream-600 rounded-full text-xs font-medium uppercase tracking-wide",children:t.category}),t.tags&&t.tags.length>0&&t.tags.map((be,Ke)=>f.jsxs("span",{className:"px-3 py-1 bg-cream-50 text-cream-500 rounded-full text-xs border border-cream-100",children:["#",be]},Ke))]}),f.jsx("div",{className:"prose prose-stone max-w-none text-cream-900/80 leading-loose text-lg font-serif [&_p]:indent-[2em] [&_p]:mb-4",dangerouslySetInnerHTML:{__html:t.content}})]})}),t.chatHistory&&t.chatHistory.length>0&&f.jsxs("div",{className:"mt-8 pt-8 border-t border-cream-200/50",children:[f.jsxs("button",{onClick:()=>me(!ie),className:"w-full flex items-center justify-between text-left group",children:[f.jsxs("h3",{className:"text-lg font-bold text-cream-900 flex items-center gap-2",children:[f.jsx(L_,{size:20}),e("diary_item.chat_history"),f.jsx("span",{className:"text-xs font-normal text-cream-500 ml-2 bg-cream-100 px-2 py-0.5 rounded-full",children:e("diary_item.messages_count",{count:t.chatHistory.length})})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:be=>{be.stopPropagation(),xe(!0)},className:"p-1.5 text-cream-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors opacity-0 group-hover:opacity-100",title:e("diary_item.delete_chat_history_title"),children:f.jsx(fn,{size:16})}),ie?f.jsx(Z4,{className:"text-cream-400 group-hover:text-cream-600 transition-colors",size:20}):f.jsx(_f,{className:"text-cream-400 group-hover:text-cream-600 transition-colors",size:20})]})]}),f.jsx(Qi,{isOpen:ge,onClose:()=>xe(!1),onConfirm:je,title:e("diary_item.delete_chat_history_title"),message:e("diary_item.delete_chat_history_confirm"),confirmText:e("common.delete"),isDangerous:!0}),f.jsx(dn,{children:ie&&f.jsx(dt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:f.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto custom-scrollbar p-2 mt-4 bg-cream-50/30 rounded-xl border border-cream-100/50",children:t.chatHistory.map(be=>f.jsxs("div",{className:Ne("flex gap-3",be.sender==="user"?"flex-row-reverse":"flex-row"),children:[f.jsx("div",{className:Ne("w-8 h-8 rounded-full flex items-center justify-center text-white text-xs shrink-0 shadow-sm",be.sender==="user"?"bg-cream-900":"bg-amber-500"),children:be.sender==="user"?f.jsx(eo,{size:14}):f.jsx(ov,{size:14})}),f.jsx("div",{className:Ne("p-3 rounded-xl max-w-[80%] text-sm leading-relaxed shadow-sm",be.sender==="user"?"bg-white text-cream-900 border border-cream-100 rounded-tr-none":"bg-white text-cream-900 border border-cream-100 rounded-tl-none"),children:be.text})]},be.id))})})})]}),f.jsxs("div",{className:"mt-8 pt-8 border-t border-cream-200/50",children:[f.jsxs("h3",{className:"text-lg font-bold text-cream-900 flex items-center gap-2 mb-6",children:[f.jsx(dl,{size:20}),e("diary_item.comments"),f.jsx("span",{className:"text-xs font-normal text-cream-500 ml-2 bg-cream-100 px-2 py-0.5 rounded-full",children:t.comments?.length||0})]}),f.jsxs("div",{className:"space-y-4 mb-6",children:[t.comments?.map(be=>f.jsxs(dt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:Ne("p-4 rounded-xl relative group",be.author==="ai"?"bg-gradient-to-br from-cream-50 to-white border border-cream-100":"bg-white border border-cream-100"),children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[be.author==="ai"?f.jsx("div",{className:"w-6 h-6 rounded-full bg-cream-900 flex items-center justify-center text-white",children:f.jsx(ov,{size:14})}):f.jsx("div",{className:"w-6 h-6 rounded-full bg-cream-200 flex items-center justify-center text-cream-600",children:f.jsx(eo,{size:14})}),f.jsx("span",{className:"text-sm font-bold text-cream-900",children:be.author==="ai"?e("diary_item.ai_author",{name:be.personaName||"AI"}):e("diary_item.user_author")}),f.jsx("span",{className:"text-xs text-cream-400",children:ht(xr(be.date),"p",{locale:i})})]}),f.jsx("button",{onClick:()=>{X(be.id),M(!0)},className:"p-1.5 text-cream-300 hover:text-red-500 hover:bg-red-50 rounded-lg opacity-0 group-hover:opacity-100 transition-all",title:e("diary_item.delete_comment"),children:f.jsx(fn,{size:14})})]}),f.jsx("p",{className:"text-cream-700 leading-relaxed text-sm pl-8 whitespace-pre-wrap",children:be.text})]},be.id)),(!t.comments||t.comments.length===0)&&f.jsx("div",{className:"text-center py-8 text-cream-400 text-sm bg-cream-50/50 rounded-xl border border-dashed border-cream-200",children:e("diary_item.no_comments")})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:we,disabled:A,className:"p-3 bg-cream-100 hover:bg-cream-200 text-cream-900 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:e("diary_item.ask_ai"),children:A?f.jsx(dt.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:f.jsx(ms,{size:20})}):f.jsx(ms,{size:20})}),f.jsxs("div",{className:"flex-1 relative",children:[f.jsx("input",{type:"text",value:Z,onChange:be=>re(be.target.value),onKeyDown:be=>be.key==="Enter"&&ve(),placeholder:e("diary_item.add_comment_placeholder"),className:"w-full h-full pl-4 pr-12 py-3 bg-cream-50 border-none rounded-xl focus:ring-2 focus:ring-cream-200 outline-none text-cream-900 placeholder:text-cream-400"}),f.jsx("button",{onClick:ve,disabled:!Z.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 bg-cream-900 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-cream-800 transition-colors",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-message-circle","aria-hidden":"true",children:f.jsx("path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"})})})]})]})]})]})}function K2(){const{t,i18n:e}=yn(),s={en:hn,"en-US":hn,zh:Za,"zh-CN":Za,"zh-TW":Tl,ja:Pf}[e.language]||hn,{date:i,id:l}=A5(),c=jr(),{getDiariesByDate:d,getDiaryById:h}=io(),{setActiveDate:m,activeDate:y}=oo(),b=fa.useRef(null);fa.useEffect(()=>{b.current&&(b.current.scrollTop=0)},[i,l]);let x=[],w=i;if(l){const N=h(l);N&&(x=[N],w=N.date)}else i&&(x=d(i));if(fa.useEffect(()=>{w&&w!==y&&m(w)},[w,y,m]),!x||x.length===0){const N=w||ht(new Date,"yyyy-MM-dd");return f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-cream-900/40 space-y-4",children:[f.jsx("p",{children:w?t("diary_entry.no_entries",{date:ht(xr(w),"PPP",{locale:s})}):t("diary_entry.no_entries",{date:"this selection"})}),f.jsxs("button",{onClick:()=>c(`/write?date=${N}`),className:"px-6 py-2 bg-cream-900 text-white rounded-xl shadow-md hover:bg-cream-800 transition-colors flex items-center gap-2",children:[f.jsx($c,{size:16}),t("diary_entry.write_for_this_day")]}),f.jsx("button",{onClick:()=>c("/calendar"),className:"text-sm hover:underline",children:t("diary_entry.go_back")})]})}return f.jsxs(dt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-5xl w-full mx-auto h-full flex flex-col",children:[f.jsxs("div",{className:"flex-none p-6 pb-2 flex items-center justify-between bg-diary-bg z-10",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>c("/calendar"),className:"p-2 hover:bg-white rounded-full transition-colors text-cream-900/60 hover:text-cream-900",title:t("diary_entry.back_to_timeline"),children:f.jsx(MS,{size:24})}),f.jsx("span",{className:"text-sm font-medium text-cream-900/40 uppercase tracking-widest",children:w&&ht(xr(w),"PPPP",{locale:s})}),x.length>0&&f.jsx("span",{className:"text-xs px-2 py-0.5 bg-cream-100 text-cream-600 rounded-full font-bold",children:t("diary_entry.entry_count",{count:x.length})})]}),f.jsxs("button",{onClick:()=>c(`/write?date=${w}`),className:"p-2 text-cream-900/60 hover:text-cream-900 hover:bg-white rounded-lg transition-all flex items-center gap-2 text-sm font-medium",title:t("diary_entry.add_another_entry"),children:[f.jsx($c,{size:18}),f.jsx("span",{className:"hidden sm:inline",children:t("diary_entry.add_new")})]})]}),f.jsx("div",{ref:b,className:"flex-1 overflow-y-auto custom-scrollbar p-6 pt-2 space-y-8",children:x.map(N=>f.jsx(JE,{diary:N},N.id))})]})}const o$={Book:jf,Heart:kf,Star:zS,Coffee:o_,Briefcase:B4,Plane:$_,Layers:LS,Folder:Hd},zp=[{name:"Indigo",value:"bg-indigo-100 text-indigo-600"},{name:"Purple",value:"bg-purple-100 text-purple-600"},{name:"Pink",value:"bg-pink-100 text-pink-600"},{name:"Rose",value:"bg-rose-100 text-rose-600"},{name:"Orange",value:"bg-orange-100 text-orange-600"},{name:"Amber",value:"bg-amber-100 text-amber-600"},{name:"Yellow",value:"bg-yellow-100 text-yellow-700"},{name:"Lime",value:"bg-lime-100 text-lime-700"},{name:"Green",value:"bg-green-100 text-green-600"},{name:"Emerald",value:"bg-emerald-100 text-emerald-600"},{name:"Teal",value:"bg-teal-100 text-teal-600"},{name:"Cyan",value:"bg-cyan-100 text-cyan-600"},{name:"Sky",value:"bg-sky-100 text-sky-600"},{name:"Blue",value:"bg-blue-100 text-blue-600"},{name:"Slate",value:"bg-slate-100 text-slate-600"}];function l$(){const{t,i18n:e}=yn(),s={en:hn,"en-US":hn,zh:Za,"zh-CN":Za,"zh-TW":Tl,ja:Pf}[e.language]||hn,{diaries:i,customCategories:l,addCategory:c,updateCategory:d,deleteCategory:h}=io(),[m,y]=T.useState(null),[b,x]=T.useState(!1),[w,N]=T.useState(null),[_,C]=T.useState(!1),[R,E]=T.useState(null),[D,I]=T.useState(""),[P,U]=T.useState(zp[0].value),[z,L]=T.useState(null),W=T.useRef(null),[se,k]=T.useState(null),F=jr(),q=T.useMemo(()=>{const M={};i.forEach(ge=>{const xe=ge.category||"Uncategorized";M[xe]=(M[xe]||0)+1});const Y=l.map(ge=>{const xe=["Daily Life","Work","Travel"].includes(ge.name);return{id:ge.name,name:xe?t(`categories.defaults.${ge.name}`):ge.name,originalName:ge.name,icon:o$[ge.iconName]||LS,color:ge.color||"bg-indigo-100 text-indigo-600",coverImage:ge.coverImage,count:M[ge.name]||0,isCustom:!0}}),X=new Set(Y.map(ge=>ge.originalName)),ie=[];i.forEach(ge=>{ge.category&&!X.has(ge.category)&&ge.category!=="Uncategorized"&&(X.add(ge.category),ie.push({id:ge.category,name:ge.category,originalName:ge.category,icon:Hd,color:"bg-gray-100 text-gray-600",count:M[ge.category]||0,isCustom:!0,isGhost:!0}))});const me=M.Uncategorized?[{id:"Uncategorized",name:t("categories.defaults.Uncategorized"),originalName:"Uncategorized",icon:Hd,color:"bg-slate-100 text-slate-600",count:M.Uncategorized,isCustom:!1}]:[];return[...Y,...ie,...me]},[i,l,t]),Z=T.useMemo(()=>m?i.filter(Y=>(Y.category||"Uncategorized")===m).sort((Y,X)=>new Date(X.date)-new Date(Y.date)).reduce((Y,X)=>(Y[X.date]||(Y[X.date]=[]),Y[X.date].push(X),Y),{}):{},[i,m]),re=()=>{E(null),I(""),U(zp[0].value),L(null),C(!0)},A=M=>{E(M),I(M.originalName||M.name),U(M.color),L(M.coverImage),C(!0)},B=M=>{const Y=M.target.files[0];if(Y){const X=new FileReader;X.onloadend=()=>{L(X.result)},X.readAsDataURL(Y)}},V=()=>{if(D.trim()){const M={name:D.trim(),color:P,coverImage:z};R?d(R.originalName||R.name,M):c(M),C(!1)}},le=M=>{k(M)},ue=()=>{se&&(h(se.originalName||se.name),k(null))};return f.jsxs("div",{className:"h-full flex flex-col",children:[_&&T4.createPortal(f.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-sm shadow-xl animate-in fade-in zoom-in duration-200",children:[f.jsx("h3",{className:"text-lg font-bold text-cream-900 mb-4",children:t(R?"categories.edit_dialog.edit_title":"categories.edit_dialog.add_title")}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-cream-400 uppercase tracking-wider mb-1 block",children:t("categories.edit_dialog.name_label")}),f.jsx("input",{type:"text",autoFocus:!0,value:D,onChange:M=>I(M.target.value),placeholder:t("categories.edit_dialog.name_placeholder"),className:"w-full px-4 py-2 bg-cream-50 border border-cream-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cream-400",onKeyDown:M=>M.key==="Enter"&&V()})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-cream-400 uppercase tracking-wider mb-2 block",children:t("categories.edit_dialog.cover_label")}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{onClick:()=>W.current?.click(),className:Ne("w-16 aspect-[3/4] rounded-md border-2 border-dashed border-cream-200 flex items-center justify-center cursor-pointer hover:border-cream-400 hover:bg-cream-50 transition-all overflow-hidden relative",z?"border-solid border-0":""),children:z?f.jsxs(f.Fragment,{children:[f.jsx("img",{src:z,alt:"Preview",className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:f.jsx(af,{size:12,className:"text-white"})})]}):f.jsx(qc,{size:16,className:"text-cream-300"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("button",{onClick:()=>W.current?.click(),className:"text-sm font-medium text-cream-600 hover:text-cream-900 underline decoration-cream-300 underline-offset-4",children:t(z?"categories.edit_dialog.change_image":"categories.edit_dialog.upload_image")}),z&&f.jsx("button",{onClick:()=>L(null),className:"ml-4 text-xs font-medium text-red-400 hover:text-red-600",children:t("categories.edit_dialog.remove_image")}),f.jsx("p",{className:"text-[10px] text-cream-400 mt-1",children:t("categories.edit_dialog.recommendation")})]}),f.jsx("input",{type:"file",ref:W,className:"hidden",accept:"image/*",onChange:B})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-cream-400 uppercase tracking-wider mb-2 block",children:t("categories.edit_dialog.color_label")}),f.jsx("div",{className:"grid grid-cols-5 gap-2",children:zp.map(M=>f.jsx("button",{onClick:()=>U(M.value),className:Ne("w-8 h-8 rounded-full flex items-center justify-center transition-all",M.value.split(" ")[0],P===M.value?"ring-2 ring-offset-2 ring-cream-400 scale-110":"hover:scale-105"),title:M.name,children:P===M.value&&f.jsx(ys,{size:14,className:"text-current opacity-70"})},M.name))})]})]}),f.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[f.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 text-cream-600 hover:bg-cream-50 rounded-lg transition-colors",children:t("categories.edit_dialog.cancel")}),f.jsx("button",{onClick:V,disabled:!D.trim(),className:"px-4 py-2 bg-cream-900 text-white rounded-lg hover:bg-cream-800 transition-colors disabled:opacity-50",children:t(R?"categories.edit_dialog.save":"categories.edit_dialog.create")})]})]})}),document.body),f.jsx(Qi,{isOpen:!!se,onClose:()=>k(null),onConfirm:ue,title:t("categories.delete_dialog.title"),message:t("categories.delete_dialog.message",{name:se?.name}),confirmText:t("categories.delete_dialog.confirm"),isDangerous:!0}),f.jsxs("div",{className:"flex items-center justify-between gap-4 px-6 pt-6 pb-2",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[m?f.jsx("button",{onClick:()=>y(null),className:"p-2 hover:bg-white/50 rounded-full transition-colors text-cream-600 group backdrop-blur-sm",children:f.jsx(kS,{size:24,className:"group-hover:-translate-x-1 transition-transform"})}):f.jsx(jf,{className:"text-cream-900 ml-1",size:28}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-cream-900 leading-none",children:m?["Daily Life","Work","Travel","Uncategorized"].includes(m)?t(`categories.defaults.${m}`):m:t("categories.title")}),m&&f.jsx("span",{className:"text-xs font-medium text-cream-500 mt-1 block",children:t("categories.entries",{count:Object.values(Z).flat().length})})]})]}),!m&&f.jsxs("button",{onClick:()=>x(!b),className:Ne("px-3 py-2 rounded-lg transition-all border border-cream-200 shadow-sm flex items-center gap-2 font-medium text-sm",b?"bg-cream-100 text-amber-500":"bg-white text-cream-900 hover:text-amber-500 hover:bg-cream-50"),children:[b?f.jsx(ys,{size:16}):f.jsx(Hg,{size:16}),t(b?"categories.done":"categories.manage")]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar pb-20 pr-2",children:f.jsx(dn,{mode:"wait",children:m?f.jsx(dt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"px-6 py-4",children:Object.keys(Z).length>0?f.jsx("div",{className:"space-y-12 relative before:absolute before:left-[11px] before:top-2 before:bottom-2 before:w-[2px] before:bg-cream-100",children:Object.entries(Z).map(([M,Y])=>f.jsxs("div",{className:"relative pl-8",children:[f.jsx("div",{className:"absolute left-0 top-0 w-6 h-6 rounded-full bg-white border-4 border-cream-100 z-10"}),f.jsxs("div",{className:"mb-4",children:[f.jsx("h3",{className:"text-sm font-bold text-cream-900 uppercase tracking-widest",children:ht(xr(M),"MMM d, yyyy",{locale:s})}),f.jsx("p",{className:"text-[10px] font-medium text-cream-400 uppercase tracking-tighter",children:ht(xr(M),"EEEE",{locale:s})})]}),f.jsx("div",{className:"space-y-4",children:Y.map(X=>f.jsx("div",{className:"group relative",children:f.jsx(JE,{diary:X,onClick:()=>F(`/diary/${X.date}`)})},X.id))})]},M))}):f.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-cream-400",children:[f.jsx(Hd,{size:48,className:"mb-4 opacity-20"}),f.jsx("p",{className:"text-sm font-medium",children:t("categories.no_diaries")})]})}):f.jsxs(dt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-x-10 gap-y-20 p-4",children:[q.map(M=>f.jsxs("div",{className:"group relative flex flex-col gap-2",children:[b&&M.isCustom&&f.jsxs("div",{className:Ne("absolute top-0 left-0 w-full aspect-[3/4] z-20 flex items-center justify-center gap-4 bg-black/40 backdrop-blur-[2px] transition-all duration-200 rounded-xl",w===M.id?"opacity-100":"opacity-0 group-hover:opacity-100"),children:[f.jsx("button",{onClick:Y=>{Y.stopPropagation(),A(M)},className:"text-white/70 hover:text-white transition-all hover:scale-110",title:t("categories.actions.edit"),children:f.jsx(af,{size:20})}),f.jsx("button",{onClick:Y=>{Y.stopPropagation(),le(M)},className:"text-white/70 hover:text-red-400 transition-all hover:scale-110",title:t("categories.actions.delete"),children:f.jsx(fn,{size:20})})]}),f.jsxs("div",{onClick:Y=>{b&&M.isCustom?(Y.stopPropagation(),N(w===M.id?null:M.id)):b||y(M.originalName||M.name)},className:Ne("relative w-full aspect-[3/4] rounded-xl shadow-sm transition-all duration-300",!b&&"cursor-pointer group-hover:-translate-y-2 group-hover:shadow-lg",b&&"opacity-90",b&&M.isCustom&&"cursor-pointer","overflow-hidden flex items-center justify-center bg-cream-100",!M.coverImage&&M.color),children:[M.coverImage?f.jsx("img",{src:M.coverImage,alt:M.name,className:"w-full h-full object-cover"}):f.jsx(M.icon,{size:32,className:"opacity-80 mix-blend-multiply"}),f.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-black/10 z-10"})]}),f.jsxs("div",{className:"flex flex-col items-center text-center mt-2",children:[f.jsx("span",{className:"text-sm font-bold text-cream-900 truncate w-full px-1",children:M.name}),f.jsx("span",{className:"text-[10px] font-medium text-cream-400 uppercase tracking-tight",children:t("categories.entries",{count:M.count})})]}),f.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-[80%] h-2 bg-black/5 rounded-full blur-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]},M.id)),b&&f.jsxs("div",{className:"group relative flex flex-col gap-2",children:[f.jsxs("div",{onClick:re,className:"relative w-full aspect-[3/4] rounded-xl border-2 border-dashed border-cream-200 flex items-center justify-center cursor-pointer hover:border-cream-400 hover:bg-cream-50 transition-all group-hover:-translate-y-2",children:[f.jsx(Sr,{size:32,className:"text-cream-300 group-hover:text-cream-500 transition-colors"}),f.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1.5 bg-black/5"})]}),f.jsx("div",{className:"flex flex-col items-center text-center mt-2",children:f.jsx("span",{className:"text-sm font-bold text-cream-400 group-hover:text-cream-600 transition-colors",children:t("categories.edit_dialog.add_title")})})]})]})})})]})}class c${diff(e,n,s={}){let i;typeof s=="function"?(i=s,s={}):"callback"in s&&(i=s.callback);const l=this.castInput(e,s),c=this.castInput(n,s),d=this.removeEmpty(this.tokenize(l,s)),h=this.removeEmpty(this.tokenize(c,s));return this.diffWithOptionsObj(d,h,s,i)}diffWithOptionsObj(e,n,s,i){var l;const c=E=>{if(E=this.postProcess(E,s),i){setTimeout(function(){i(E)},0);return}else return E},d=n.length,h=e.length;let m=1,y=d+h;s.maxEditLength!=null&&(y=Math.min(y,s.maxEditLength));const b=(l=s.timeout)!==null&&l!==void 0?l:1/0,x=Date.now()+b,w=[{oldPos:-1,lastComponent:void 0}];let N=this.extractCommon(w[0],n,e,0,s);if(w[0].oldPos+1>=h&&N+1>=d)return c(this.buildValues(w[0].lastComponent,n,e));let _=-1/0,C=1/0;const R=()=>{for(let E=Math.max(_,-m);E<=Math.min(C,m);E+=2){let D;const I=w[E-1],P=w[E+1];I&&(w[E-1]=void 0);let U=!1;if(P){const L=P.oldPos-E;U=P&&0<=L&&L<d}const z=I&&I.oldPos+1<h;if(!U&&!z){w[E]=void 0;continue}if(!z||U&&I.oldPos<P.oldPos?D=this.addToPath(P,!0,!1,0,s):D=this.addToPath(I,!1,!0,1,s),N=this.extractCommon(D,n,e,E,s),D.oldPos+1>=h&&N+1>=d)return c(this.buildValues(D.lastComponent,n,e))||!0;w[E]=D,D.oldPos+1>=h&&(C=Math.min(C,E-1)),N+1>=d&&(_=Math.max(_,E+1))}m++};if(i)(function E(){setTimeout(function(){if(m>y||Date.now()>x)return i(void 0);R()||E()},0)})();else for(;m<=y&&Date.now()<=x;){const E=R();if(E)return E}}addToPath(e,n,s,i,l){const c=e.lastComponent;return c&&!l.oneChangePerToken&&c.added===n&&c.removed===s?{oldPos:e.oldPos+i,lastComponent:{count:c.count+1,added:n,removed:s,previousComponent:c.previousComponent}}:{oldPos:e.oldPos+i,lastComponent:{count:1,added:n,removed:s,previousComponent:c}}}extractCommon(e,n,s,i,l){const c=n.length,d=s.length;let h=e.oldPos,m=h-i,y=0;for(;m+1<c&&h+1<d&&this.equals(s[h+1],n[m+1],l);)m++,h++,y++,l.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return y&&!l.oneChangePerToken&&(e.lastComponent={count:y,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=h,m}equals(e,n,s){return s.comparator?s.comparator(e,n):e===n||!!s.ignoreCase&&e.toLowerCase()===n.toLowerCase()}removeEmpty(e){const n=[];for(let s=0;s<e.length;s++)e[s]&&n.push(e[s]);return n}castInput(e,n){return e}tokenize(e,n){return Array.from(e)}join(e){return e.join("")}postProcess(e,n){return e}get useLongestToken(){return!1}buildValues(e,n,s){const i=[];let l;for(;e;)i.push(e),l=e.previousComponent,delete e.previousComponent,e=l;i.reverse();const c=i.length;let d=0,h=0,m=0;for(;d<c;d++){const y=i[d];if(y.removed)y.value=this.join(s.slice(m,m+y.count)),m+=y.count;else{if(!y.added&&this.useLongestToken){let b=n.slice(h,h+y.count);b=b.map(function(x,w){const N=s[m+w];return N.length>x.length?N:x}),y.value=this.join(b)}else y.value=this.join(n.slice(h,h+y.count));h+=y.count,y.added||(m+=y.count)}}return i}}const W2="a-zA-Z0-9_\\u{AD}\\u{C0}-\\u{D6}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}";class u$ extends c${tokenize(e){const n=new RegExp(`(\\r?\\n)|[${W2}]+|[^\\S\\n\\r]+|[^${W2}]`,"ug");return e.match(n)||[]}}const d$=new u$;function f$(t,e,n){return d$.diff(t,e,n)}const h$=({original:t,modified:e,originalTitle:n,modifiedTitle:s,originalTags:i,modifiedTags:l,onAccept:c,onReject:d,onRevert:h})=>{const{t:m}=yn(),y=T.useMemo(()=>!t&&!e?[]:f$(t||"",e||""),[t,e]),[b,x]=T.useState({});T.useEffect(()=>{x({})},[y]);const w=(D,I)=>{x(P=>{const U=P[D];let z;return U?U==="rejected"?z="accepted":z=void 0:z="rejected",{...P,[D]:z}})},N=()=>{let D="";y.forEach((I,P)=>{const U=b[P];I.added?U!=="rejected"&&(D+=I.value):I.removed?U==="rejected"&&(D+=I.value):D+=I.value}),c(D)},_=y.some(D=>D.added||D.removed),C=s&&s!==n,R=l&&JSON.stringify(l)!==JSON.stringify(i);return _||C||R?f.jsxs("div",{className:"flex flex-col h-full gap-4",children:[(C||R)&&f.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-100 space-y-3 shrink-0",children:[f.jsxs("h3",{className:"text-sm font-semibold text-amber-900 flex items-center gap-2",children:[f.jsx(ms,{size:14}),m("write.diffViewer.metadataChanges")]}),C&&f.jsxs("div",{className:"text-sm",children:[f.jsx("span",{className:"text-amber-700/70 font-medium uppercase text-xs block mb-1",children:m("write.diffViewer.title")}),f.jsxs("div",{className:"flex items-center gap-2 bg-white/50 p-2 rounded border border-amber-100",children:[f.jsx("span",{className:"line-through text-cream-400",children:n||m("write.diffViewer.untitled")}),f.jsx("span",{className:"text-amber-400",children:""}),f.jsx("span",{className:"font-semibold text-amber-900",children:s})]})]}),R&&f.jsxs("div",{className:"text-sm",children:[f.jsx("span",{className:"text-amber-700/70 font-medium uppercase text-xs block mb-1",children:m("write.diffViewer.tags")}),f.jsxs("div",{className:"flex flex-col gap-2 bg-white/50 p-2 rounded border border-amber-100",children:[f.jsx("div",{className:"flex flex-wrap gap-1 opacity-60 grayscale",children:(i||[]).length>0?i.map(D=>f.jsxs("span",{className:"px-1.5 py-0.5 bg-cream-200 rounded text-xs",children:["#",D]},D)):f.jsx("span",{className:"text-xs italic",children:m("write.diffViewer.noTags")})}),f.jsx("div",{className:"text-amber-400 text-center rotate-90 sm:rotate-0",children:""}),f.jsx("div",{className:"flex flex-wrap gap-1",children:(l||[]).map(D=>f.jsxs("span",{className:"px-1.5 py-0.5 bg-amber-200 text-amber-900 rounded text-xs",children:["#",D]},D))})]})]})]}),f.jsxs("div",{className:"flex-1 bg-white rounded-lg border border-cream-200 overflow-hidden flex flex-col",children:[f.jsxs("div",{className:"p-2 bg-cream-50 border-b border-cream-100 flex items-center justify-between text-xs text-cream-600",children:[f.jsx("span",{children:m("write.diffViewer.instructions")}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-green-200"})," ",m("write.diffViewer.added")]}),f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-red-200"})," ",m("write.diffViewer.removed")]})]})]}),f.jsx("div",{className:"flex-1 p-4 overflow-y-auto leading-relaxed whitespace-pre-wrap font-sans text-base",children:y.map((D,I)=>{const P=b[I];if(D.added){const U=P==="rejected";return f.jsxs("span",{onClick:()=>w(I,"added"),className:Ne("cursor-pointer transition-colors rounded px-0.5 relative group select-none",U?"bg-cream-100 text-cream-400 line-through decoration-cream-300":"bg-green-100 text-green-900 hover:bg-green-200"),title:m(U?"write.diffViewer.include":"write.diffViewer.discard"),children:[D.value,!U&&f.jsx(ys,{size:10,className:"absolute -top-1.5 -right-1.5 bg-green-500 text-white rounded-full p-0.5 opacity-0 group-hover:opacity-100 transition-opacity"})]},I)}if(D.removed){const U=P==="rejected";return f.jsxs("span",{onClick:()=>w(I,"removed"),className:Ne("cursor-pointer transition-colors rounded px-0.5 relative group select-none",U?"bg-blue-50 text-cream-900 border-b-2 border-blue-200":"bg-red-50 text-red-900 line-through decoration-red-300 hover:bg-red-100"),title:m(U?"write.diffViewer.delete":"write.diffViewer.restore"),children:[D.value,U&&f.jsx(hi,{size:10,className:"absolute -top-1.5 -right-1.5 bg-blue-500 text-white rounded-full p-0.5 opacity-0 group-hover:opacity-100 transition-opacity"})]},I)}return f.jsx("span",{children:D.value},I)})})]}),f.jsxs("div",{className:"flex justify-end gap-3 mt-auto shrink-0",children:[f.jsxs("button",{onClick:d,className:"px-4 py-2 rounded-xl border border-cream-200 text-cream-600 hover:bg-cream-50 hover:text-cream-900 transition-colors font-medium text-sm flex items-center gap-2",children:[f.jsx(Ka,{size:16}),m("write.diffViewer.rejectAll")]}),f.jsxs("button",{onClick:N,className:"px-4 py-2 rounded-xl bg-cream-900 text-white hover:bg-cream-800 transition-colors font-medium text-sm flex items-center gap-2 shadow-sm",children:[f.jsx(ys,{size:16}),m("write.diffViewer.applySelected")]})]})]}):f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsxs("div",{className:"flex-1 p-4 bg-white rounded-lg border border-cream-200 text-cream-900 leading-relaxed whitespace-pre-wrap overflow-y-auto",children:[t,f.jsx("div",{className:"mt-4 text-center text-sm text-cream-500 italic",children:m("write.diffViewer.noChanges")})]}),f.jsx("div",{className:"mt-4 flex justify-end",children:f.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-cream-100 text-cream-700 hover:bg-cream-200 rounded-xl transition-colors font-medium text-sm",children:[f.jsx(hi,{size:16}),m("write.diffViewer.back")]})})]})};function m$({isOpen:t,onClose:e,currentContent:n,onPreview:s,messages:i,setMessages:l}){const{t:c}=yn(),{polishDiary:d,isTyping:h,currentPersona:m}=oo(),[y,b]=T.useState(""),x=T.useRef(null),[w,N]=T.useState(!1);T.useEffect(()=>{t&&i.length===0&&l([{id:"init",role:"assistant",content:c("write.polish.greeting")}])},[t,i.length,l,c]);const _=()=>{x.current?.scrollIntoView({behavior:"smooth"})};T.useEffect(()=>{_()},[i,t]);const C=async(U=y)=>{if(!U.trim()||w)return;const z={id:Date.now(),role:"user",content:U},L=[...i,z];l(L),b(""),inputRef.current&&(inputRef.current.value=""),N(!0);try{const W=L.filter(Z=>Z.id!=="init").map(Z=>({role:Z.role,content:Z.content})),k=[{role:"user",content:`Here is my current diary draft:

"${n}"

(Please use this as the context for my requests)`},...W],F=await d(k),q={id:Date.now()+1,role:"assistant",content:F};l(Z=>[...Z,q])}catch{l(se=>[...se,{id:Date.now(),role:"assistant",content:c("write.polish.error")}])}finally{N(!1)}},R=()=>{C("Please polish this diary entry to make it flow better and correct any mistakes.")},E=async()=>{if(w)return;const U=i.length-1,z=i[U];if(!z||z.role!=="assistant"||z.id==="init")return;const L=i.slice(0,-1);l(L),N(!0);try{const W=L.filter(Z=>Z.id!=="init").map(Z=>({role:Z.role,content:Z.content})),k=[{role:"user",content:`Here is my current diary draft:

"${n}"

(Please use this as the context for my requests)`},...W],F=await d(k),q={id:Date.now()+1,role:"assistant",content:F};l(Z=>[...Z,q])}catch{l(se=>[...se,{id:Date.now(),role:"assistant",content:c("write.polish.errorReroll")}])}finally{N(!1)}},D=U=>{const z=F=>{const q=new RegExp(`<${F}>([\\s\\S]*?)</${F}>`),Z=U.match(q);return Z?Z[1].trim():null},L=z("content")||z("polished"),W=z("title"),se=z("tags"),k=se?se.split(",").map(F=>F.trim()).filter(Boolean):null;return!L&&!W&&!k?null:{content:L,title:W,tags:k}},I=U=>U.replace(/<content>[\s\S]*?<\/content>/g,"").replace(/<polished>[\s\S]*?<\/polished>/g,"").replace(/<title>[\s\S]*?<\/title>/g,"").replace(/<tags>[\s\S]*?<\/tags>/g,"").trim(),P=U=>{const z=U.split(/(\*\*.*?\*\*)/g);return f.jsx("div",{className:"whitespace-pre-wrap",children:z.map((L,W)=>L.startsWith("**")&&L.endsWith("**")?f.jsx("strong",{className:"font-semibold",children:L.slice(2,-2)},W):L)})};return f.jsxs(dt.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"fixed bottom-6 right-6 w-96 h-[600px] max-h-[80vh] bg-white rounded-2xl shadow-2xl border border-cream-200 z-50 flex flex-col overflow-hidden font-sans",children:[f.jsxs("div",{className:"p-4 border-b border-cream-100 flex items-center justify-between bg-cream-50/50",children:[f.jsxs("div",{className:"flex items-center gap-2 text-cream-900 font-semibold",children:[f.jsx(Gp,{size:18,className:"text-amber-500"}),f.jsx("span",{children:m?.name||c("write.polish.defaultName")})]}),f.jsx("button",{onClick:e,className:"p-1 hover:bg-cream-200/50 rounded-full transition-colors text-cream-600",children:f.jsx(Ka,{size:18})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-cream-50/30 custom-scrollbar",children:[i.map((U,z)=>{const L=U.role==="assistant"?D(U.content):null,W=U.role==="assistant"?I(U.content):U.content,se=W.split(/\n\s*\n/).filter(k=>k.trim());return se.length===0&&W.trim()&&se.push(W),f.jsxs("div",{className:Ne("flex flex-col gap-1 max-w-[85%]",U.role==="user"?"ml-auto items-end":"mr-auto items-start"),children:[se.map((k,F)=>f.jsx("div",{className:Ne("p-3 rounded-2xl text-sm leading-relaxed shadow-sm",U.role==="user"?"bg-cream-900 text-white rounded-tr-none":"bg-white text-cream-900 border border-cream-200 rounded-tl-none"),children:f.jsx("div",{className:"whitespace-pre-wrap",children:U.role==="assistant"?P(k):k})},F)),U.role==="assistant"&&L&&f.jsxs("div",{className:"flex flex-col gap-1.5 mt-1 ml-1 mb-1",children:[L.title&&f.jsxs("div",{className:"flex items-start gap-2 text-xs text-cream-700",children:[f.jsx("span",{className:"bg-cream-200/50 px-1.5 py-0.5 rounded text-[10px] uppercase tracking-wider font-semibold text-cream-600 mt-0.5 shrink-0",children:c("write.polish.title")}),f.jsx("span",{className:"font-medium bg-white px-2 py-1 rounded-md border border-cream-100 shadow-sm",children:L.title})]}),L.tags&&f.jsxs("div",{className:"flex items-start gap-2 text-xs text-cream-700",children:[f.jsx("span",{className:"bg-cream-200/50 px-1.5 py-0.5 rounded text-[10px] uppercase tracking-wider font-semibold text-cream-600 mt-0.5 shrink-0",children:c("write.polish.tags")}),f.jsx("div",{className:"flex flex-wrap gap-1",children:L.tags.map(k=>f.jsxs("span",{className:"px-1.5 py-0.5 bg-amber-50 text-amber-700 border border-amber-100 rounded text-[10px]",children:["#",k]},k))})]}),L.content&&f.jsxs("div",{className:"flex items-start gap-2 text-xs text-cream-700",children:[f.jsx("span",{className:"bg-cream-200/50 px-1.5 py-0.5 rounded text-[10px] uppercase tracking-wider font-semibold text-cream-600 mt-0.5 shrink-0",children:c("write.polish.content")}),f.jsx("span",{className:"italic text-cream-500 py-0.5",children:c("write.polish.polishedAvailable")})]})]}),U.role==="assistant"&&U.id!=="init"&&f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[L&&f.jsxs("button",{onClick:()=>s(L),className:"text-xs flex items-center gap-1 text-amber-600 hover:text-amber-700 font-medium px-1 bg-amber-50/50 py-1 rounded-md border border-amber-100/50 hover:bg-amber-100 transition-colors",children:[f.jsx(Dc,{size:10}),c("write.polish.compareApply")]}),z===i.length-1&&!w&&f.jsxs("button",{onClick:E,className:"text-xs flex items-center gap-1 text-cream-500 hover:text-cream-700 font-medium px-1 py-1 rounded-md hover:bg-cream-100 transition-colors",title:c("write.polish.reroll"),children:[f.jsx(hi,{size:10}),c("write.polish.reroll")]})]})]},U.id)}),w&&f.jsx("div",{className:"mr-auto items-start max-w-[85%]",children:f.jsxs("div",{className:"bg-white p-3 rounded-2xl rounded-tl-none border border-cream-200 shadow-sm flex gap-1",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-cream-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),f.jsx("span",{className:"w-1.5 h-1.5 bg-cream-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),f.jsx("span",{className:"w-1.5 h-1.5 bg-cream-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}),f.jsx("div",{ref:x})]}),f.jsxs("div",{className:"p-3 border-t border-cream-100 bg-white",children:[f.jsxs("div",{className:"flex gap-2 mb-2 overflow-x-auto pb-1 scrollbar-hide",children:[f.jsxs("button",{onClick:R,disabled:w,className:"flex items-center gap-1.5 px-3 py-1.5 bg-amber-50 text-amber-700 hover:bg-amber-100 rounded-full text-xs font-medium border border-amber-200 transition-colors whitespace-nowrap disabled:opacity-50",children:[f.jsx(Gp,{size:12}),c("write.polish.oneClick")]}),f.jsx("button",{onClick:()=>C("Make it more emotional"),disabled:w,className:"px-3 py-1.5 bg-cream-50 text-cream-700 hover:bg-cream-100 rounded-full text-xs font-medium border border-cream-200 transition-colors whitespace-nowrap disabled:opacity-50",children:c("write.polish.emotional")}),f.jsx("button",{onClick:()=>C("Fix grammar only"),disabled:w,className:"px-3 py-1.5 bg-cream-50 text-cream-700 hover:bg-cream-100 rounded-full text-xs font-medium border border-cream-200 transition-colors whitespace-nowrap disabled:opacity-50",children:c("write.polish.grammar")})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-cream-50 p-2 rounded-xl border border-cream-200 focus-within:border-cream-400 transition-colors",children:[f.jsx("input",{value:y,onChange:U=>b(U.target.value),onKeyDown:U=>U.key==="Enter"&&C(),placeholder:c("write.polish.placeholder"),disabled:w,className:"flex-1 bg-transparent border-none outline-none text-sm text-cream-900 placeholder:text-cream-400"}),f.jsx("button",{onClick:()=>C(),disabled:!y.trim()||w,className:"p-2 bg-cream-900 text-white rounded-lg hover:bg-cream-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-message-circle","aria-hidden":"true",children:f.jsx("path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"})})})]})]})]})}function p$(){const{i18n:t}=yn(),[e,n]=T.useState("chat"),{setRightSidebarOpen:s}=Wg(),{theme:i,t:l}=_0(),d={en:hn,"en-US":hn,zh:Za,"zh-CN":Za,"zh-TW":Tl}[t.language]||hn,[h]=b4(),m=h.get("date"),y=h.get("mode"),{generateDiary:b,currentPersona:x,messages:w,isTyping:N,sendMessage:_,editMessage:C,deleteMessages:R,triggerAIResponse:E,regenerateLastResponse:D,generateBriefing:I,activeDate:P,setActiveDate:U}=oo();T.useEffect(()=>{m&&m!==P&&U(m)},[m,P,U]),T.useEffect(()=>{y&&["chat","manual"].includes(y)&&n(y)},[y]);const{addDiary:z,diaries:L,customCategories:W,addCategory:se}=io(),k=jr(),[F,q]=T.useState(""),[Z,re]=T.useState(!1),[A,B]=T.useState(!1),[V,le]=T.useState(new Set),[ue,M]=T.useState(null),[Y,X]=T.useState(null),[ie,me]=T.useState(""),ge=()=>{B(!A),le(new Set),X(null)},xe=ye=>{const Oe=new Set(V);Oe.has(ye)?Oe.delete(ye):Oe.add(ye),le(Oe)},Ce=()=>{V.size!==0&&window.confirm(l("write.deleteConfirm",{count:V.size}))&&(R(Array.from(V)),B(!1),le(new Set))},ee=ye=>{X(ye.id),me(ye.text),B(!1)},oe=()=>{Y&&ie.trim()&&(C(Y,ie),X(null),me(""))},pe=()=>{X(null),me("")},ve=ye=>{navigator.clipboard.writeText(ye)},[we,Se]=T.useState(""),[je,be]=T.useState(""),[Ke,Xe]=T.useState("neutral"),[ze,He]=T.useState([]),[ot,zt]=T.useState(""),[Gt,st]=T.useState(""),[Be,Ge]=T.useState(!1),[mt,Ie]=T.useState(!1),[Bt,St]=T.useState([]),[Ja,zn]=T.useState(!1),[Bn,Rt]=T.useState(""),[bn,It]=T.useState(!1),[Ss,es]=T.useState(""),[Cn,pa]=T.useState(""),[Zn,An]=T.useState(null),[xn,jn]=T.useState(null);T.useEffect(()=>{if(!P)return;const ye=`diary_draft_${P}`;try{const Oe=localStorage.getItem(ye);if(Oe){const qe=JSON.parse(Oe);be(qe.content||""),Se(qe.title||""),Xe(qe.mood||"neutral"),He(qe.tags||[]),zt(qe.category||""),St(qe.messages||[]),Ie(qe.isAssistantOpen||!1)}else be(""),Se(""),Xe("neutral"),He([]),zt(""),St([]),Ie(!1)}catch(Oe){console.error("Failed to load draft",Oe),be(""),Se(""),Xe("neutral"),He([]),zt(""),St([]),Ie(!1)}},[P]),T.useEffect(()=>{e==="chat"&&Ie(!1)},[e]),T.useEffect(()=>{if(!P)return;const ye=`diary_draft_${P}`;if(Be)return;const Oe={content:je,title:we,mood:Ke,tags:ze,category:ot,messages:Bt,isAssistantOpen:mt,timestamp:Date.now()};localStorage.setItem(ye,JSON.stringify(Oe))},[je,we,Ke,ze,ot,Bt,mt,Be]);const ga=ye=>{es(je),pa(ye.content||je),An(ye.title||null),jn(ye.tags||null),It(!0)},Gs=ye=>{be(typeof ye=="string"?ye:Cn),Zn&&Se(Zn),xn&&He(xn),It(!1),An(null),jn(null)},ts=()=>{It(!1),An(null),jn(null)},[In,Qn]=T.useState("neutral"),[Jn,Ns]=T.useState([]),[Or,Dr]=T.useState(""),[ns,ea]=T.useState(""),[Ut,Ys]=T.useState(""),[mn,Tt]=T.useState(""),[Xt,ta]=T.useState(null),Et=T.useRef(null),Ks=T.useRef(null),[Ti,Ws]=T.useState(!1),as=async ye=>{const Oe=ye.target.files[0];if(Oe)try{const qe=await rO(Oe);_("",{type:"image",url:qe})}catch(qe){console.error("Image upload failed:",qe),alert(l("write.alerts.uploadFailed"))}finally{Et.current&&(Et.current.value="")}},Ts=T.useRef(null),Lt=()=>{Ts.current?.scrollIntoView({behavior:"smooth"})};T.useEffect(()=>{Lt()},[w,N]);const ya={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],["link","image"],["clean"]]},[na,_n]=T.useState(null),Ct=T.useMemo(()=>W.map(ye=>ye.name),[W]),[Un,aa]=T.useState(!1);T.useEffect(()=>{e==="chat"&&s(!1)},[e,s]),T.useEffect(()=>()=>{s(!1)},[s]);const sa=(ye,Oe)=>ye.id===1||ye.id==="1"?!1:Oe?ye.id-Oe.id>180*1e3:!0,qn=ye=>{const Oe=new Date(ye),qe=new Date;return Oe.toDateString()===qe.toDateString()?ht(Oe,"p",{locale:d}):ht(Oe,"MMM d, p",{locale:d})},$n=()=>{F.trim()&&(_(F),q(""),Ks.current&&(Ks.current.value=""))},Es=async()=>{N||await E()},Xs=async(ye="")=>{aa(!0);try{const Oe=w.filter(kn=>!(kn.id===1||kn.id==="1"||!kn.text&&!kn.attachment));if(Oe.length===0){alert(l("write.alerts.noHistory",{date:P||"today"})),aa(!1);return}const qe=await b(Oe,ye);typeof qe=="object"?(_n(qe.content),Qn(qe.mood?.toLowerCase()||"neutral"),Ns(qe.tags||[]),ea(qe.title||"Generated Entry"),Ys(qe.summary||""),Tt(qe.category||""),ta(qe.ai_briefing||null)):(_n(qe),ea("Generated Entry"),ta(null))}catch(Oe){console.error("Generation failed:",Oe),alert(l("write.alerts.generateFailed",{error:Oe.message}))}finally{aa(!1)}},Ei=()=>{if(na)try{const ye=P||ht(new Date,"yyyy-MM-dd");mn&&!W.some(qe=>qe.name===mn)&&se(mn);const Oe=w.filter(qe=>!(qe.id===1||qe.id==="1"||!qe.text&&!qe.attachment));z({id:Date.now().toString()+Math.random().toString(36).substr(2,9),date:ye,title:ns||"Daily Reflection",content:na,mood:In,tags:Jn,summary:Ut,category:mn,ai_briefing:Xt,chatHistory:Oe.map(qe=>({id:qe.id,text:qe.text,sender:qe.sender,timestamp:qe.timestamp||(typeof qe.id=="number"?qe.id:parseInt(qe.id))}))}),_n(null),Qn("neutral"),Ns([]),ea(""),Ys(""),Tt(""),ta(null),k(`/date/${ye}`)}catch(ye){console.error("Error in handleSaveDiary:",ye),alert(l("write.alerts.saveFailed",{error:ye.message}))}},Cs=async()=>{if(!je.trim()&&!we.trim())return;Ge(!0),ot&&!W.some(Oe=>Oe.name===ot)&&se(ot);let ye=null;try{ye=await I(je,we||"Untitled")}catch(Oe){console.error("Failed to generate briefing for manual entry",Oe)}try{const Oe=P||ht(new Date,"yyyy-MM-dd");z({id:Date.now().toString()+Math.random().toString(36).substr(2,9),date:Oe,title:we||"Untitled Entry",content:je,mood:Ke,tags:ze,category:ot,ai_briefing:ye,chatHistory:[]});const qe=`diary_draft_${P||ht(new Date,"yyyy-MM-dd")}`;localStorage.removeItem(qe),St([]),Ie(!1),k(`/date/${Oe}`)}catch(Oe){console.error("Failed to save diary:",Oe),alert(l("write.alerts.saveFailed",{error:"Please try again"})),Ge(!1)}};return T.useMemo(()=>{if(!P)return!1;const ye=ht(new Date,"yyyy-MM-dd");return P>ye},[P])?f.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-6",children:f.jsxs("div",{className:"max-w-md animate-in fade-in zoom-in duration-300",children:[f.jsx("div",{className:"w-16 h-16 bg-cream-100/50 rounded-full flex items-center justify-center mx-auto mb-6 text-cream-400/80",children:f.jsx(bl,{size:32})}),f.jsx("h2",{className:"text-xl font-serif font-medium text-cream-900 mb-2",children:l("write.futureDate.title")}),f.jsxs("p",{className:"text-cream-600 mb-8 font-light italic",children:['"',l("write.futureDate.quote"),'"']}),f.jsxs("button",{onClick:()=>k("/calendar"),className:"px-6 py-2.5 bg-cream-900 text-white rounded-lg hover:bg-cream-800 transition-colors text-sm font-medium flex items-center gap-2 mx-auto shadow-sm",children:[f.jsx(kS,{size:16}),l("write.futureDate.goBack")]})]})}):f.jsx("div",{className:"flex h-full relative",children:f.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[f.jsxs("div",{className:"h-16 flex items-center justify-between px-6 shrink-0 relative z-30 sticky top-0 bg-[#FDFBF7]/90 backdrop-blur-sm",children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsxs("div",{className:"flex bg-cream-100/50 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>n("chat"),className:Ne("p-2 rounded-md transition-all flex items-center justify-center",e==="chat"?"bg-white text-cream-900 shadow-sm":"text-cream-900/60 hover:text-cream-900 hover:bg-white/50"),title:l("write.chat.mode"),children:f.jsx(dl,{size:18})}),f.jsx("button",{onClick:()=>n("manual"),className:Ne("p-2 rounded-md transition-all flex items-center justify-center",e==="manual"?"bg-white text-cream-900 shadow-sm":"text-cream-900/60 hover:text-cream-900 hover:bg-white/50"),title:l("write.chat.manualMode"),children:f.jsx($c,{size:18})})]})}),f.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none",children:f.jsxs("div",{className:"px-3 py-1 bg-cream-100 rounded-lg border border-cream-200 flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),f.jsxs("span",{className:"text-xs font-semibold text-cream-700 uppercase tracking-wide",children:[l("write.recording"),": ",P?ht(xr(P),"PP",{locale:d}):ht(new Date,"PP",{locale:d})]})]})}),f.jsxs("div",{className:"flex items-center gap-3",children:[e==="chat"&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:ge,className:Ne("p-2 rounded-lg transition-all border border-cream-200 shadow-sm flex items-center justify-center",A?"bg-cream-900 text-white":"bg-white text-cream-900 hover:bg-cream-50"),title:l(A?"write.chat.cancelSelection":"write.chat.selectMessages"),children:f.jsx(ak,{size:18})}),f.jsx(dn,{children:A&&V.size>0&&f.jsxs(dt.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:Ce,className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors flex items-center gap-2 font-medium text-sm border border-red-200",children:[f.jsx(fn,{size:16}),f.jsx("span",{children:l("write.deleteSelected",{count:V.size})})]})}),f.jsxs("button",{onClick:()=>Xs(),disabled:Un,className:Ne("px-3 py-2 rounded-lg transition-all border border-cream-200 shadow-sm flex items-center gap-2 font-medium text-sm",Un?"bg-cream-100 text-cream-400":"bg-white text-cream-900 hover:text-amber-500 hover:bg-cream-50"),title:l("write.generate"),children:[Un?f.jsx("div",{className:"w-4 h-4 border-2 border-cream-400 border-t-cream-900 rounded-full animate-spin"}):f.jsx(ms,{size:16}),f.jsx("span",{className:"hidden sm:inline",children:l(Un?"write.generating":"write.generate")})]})]}),e==="manual"&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>Ie(!mt),className:Ne("flex items-center gap-2 text-sm font-medium px-3 py-2 rounded-lg border transition-colors shadow-sm",mt?"bg-amber-50 text-amber-700 border-amber-200":"bg-white text-cream-900 border-cream-200 hover:bg-cream-50"),children:[f.jsx(Gp,{size:16}),f.jsx("span",{className:"hidden sm:inline",children:l("write.aiAssistant")})]}),f.jsx("button",{onClick:Cs,disabled:Be,className:"flex items-center gap-2 text-sm font-medium bg-cream-900 text-white px-3 py-2 rounded-lg hover:bg-cream-800 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:Be?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),f.jsx("span",{className:"hidden sm:inline",children:l("write.saving")})]}):f.jsxs(f.Fragment,{children:[f.jsx(Ji,{size:16}),f.jsx("span",{className:"hidden sm:inline",children:l("write.save")})]})})]})]})]}),f.jsxs("div",{className:"flex-1 relative overflow-hidden flex flex-col",children:[f.jsx(dn,{mode:"wait",children:e==="chat"?f.jsxs(dt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"h-full flex flex-col rounded-2xl border border-white/60 shadow-inner overflow-hidden relative",style:{backgroundColor:i.chatBgImage?"transparent":"rgba(253, 251, 247, 0.5)",backgroundImage:i.chatBgImage?`url(${i.chatBgImage})`:void 0,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[f.jsx("div",{className:"px-4 py-2 flex justify-center z-10 sticky top-0 pointer-events-none",children:f.jsxs("div",{className:"bg-white/80 backdrop-blur px-3 py-1 rounded-full text-xs text-cream-600 flex items-center gap-1.5 cursor-pointer hover:bg-white transition-colors border border-cream-100/50 shadow-sm pointer-events-auto",onClick:()=>re(!0),children:[f.jsx(ms,{size:12}),f.jsx("span",{className:"font-medium text-cream-900",children:x.name})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden px-4 py-4 space-y-6 custom-scrollbar",children:[w.map((ye,Oe)=>{const qe=Oe>0?w[Oe-1]:null,kn=sa(ye,qe),As=Y===ye.id,js=V.has(ye.id);return f.jsxs(fa.Fragment,{children:[kn&&f.jsx("div",{className:"flex justify-center my-6",children:f.jsx("span",{className:"text-[10px] font-medium text-cream-400 bg-cream-100/60 px-2.5 py-1 rounded-full",children:qn(ye.id)})}),f.jsxs("div",{className:Ne("flex w-full group relative mb-2",ye.sender==="user"?"justify-end":"justify-start"),children:[A&&f.jsx("div",{className:Ne("flex items-center px-2 cursor-pointer transition-all",(ye.sender==="user","order-first")),onClick:()=>xe(ye.id),children:f.jsx("div",{className:Ne("w-5 h-5 rounded-md border flex items-center justify-center transition-all",js?"bg-cream-900 border-cream-900 text-white":"bg-white border-cream-300 hover:border-cream-400"),children:js&&f.jsx(ys,{size:12,strokeWidth:3})})}),As?f.jsxs("div",{className:Ne("w-full max-w-[80%] p-4 rounded-2xl bg-white border border-cream-200 shadow-lg z-10",ye.sender==="user"?"rounded-tr-none":"rounded-tl-none"),children:[f.jsx("textarea",{value:ie,onChange:Ma=>me(Ma.target.value),className:"w-full bg-transparent resize-none outline-none text-lg text-cream-900 min-h-[100px]",autoFocus:!0}),f.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[f.jsx("button",{onClick:pe,className:"px-3 py-1.5 text-sm text-cream-600 hover:bg-cream-50 rounded-lg",children:l("common.cancel")}),f.jsx("button",{onClick:oe,className:"px-3 py-1.5 text-sm bg-cream-900 text-white rounded-lg hover:bg-cream-800",children:l("common.save")})]})]}):f.jsxs("div",{onClick:()=>!A&&M(ue===ye.id?null:ye.id),className:Ne("max-w-[80%] p-4 rounded-2xl text-lg leading-relaxed shadow-sm relative transition-all cursor-pointer",ye.sender==="user"?"bg-cream-900 text-white rounded-tr-none":"bg-white text-cream-900 border border-cream-100 rounded-tl-none"),children:[ye.attachment&&ye.attachment.type==="image"&&f.jsx("div",{className:"mb-2 rounded-lg overflow-hidden",children:f.jsx("img",{src:ye.attachment.url,alt:"Uploaded",className:"max-w-full h-auto max-h-[300px] object-cover"})}),ye.text&&f.jsx("div",{className:"whitespace-pre-wrap",children:ye.text}),!A&&f.jsxs("div",{onClick:Ma=>Ma.stopPropagation(),className:Ne("absolute top-1/2 -translate-y-1/2 flex gap-2 transition-opacity z-10 px-2",ye.sender==="user"?"right-full":"left-full",ue===ye.id?"opacity-100":"opacity-0 group-hover:opacity-100"),children:[f.jsx("button",{onClick:()=>ve(ye.text||""),className:"text-cream-400 hover:text-cream-900 transition-colors",title:l("write.chat.copy"),children:f.jsx(c_,{size:16})}),ye.text&&f.jsx("button",{onClick:()=>ee(ye),className:"text-cream-400 hover:text-cream-900 transition-colors",title:l("write.chat.edit"),children:f.jsx(af,{size:16})}),f.jsx("button",{onClick:()=>R([ye.id]),className:"text-cream-400 hover:text-red-600 transition-colors",title:l("write.chat.delete"),children:f.jsx(fn,{size:16})}),ye.sender==="ai"&&Oe===w.length-1&&!N&&f.jsx("button",{onClick:()=>D(),className:"text-cream-400 hover:text-cream-900 transition-colors",title:l("write.chat.regenerate"),children:f.jsx(hi,{size:16})})]})]})]})]},ye.id)}),N&&f.jsx("div",{className:"flex justify-start",children:f.jsx("div",{className:"bg-white p-4 rounded-2xl rounded-tl-none border border-cream-100 shadow-sm flex items-center min-w-[80px] justify-center",children:f.jsxs("div",{className:"flex gap-1.5",children:[f.jsx("span",{className:"w-2 h-2 bg-cream-400 rounded-full typing-dot"}),f.jsx("span",{className:"w-2 h-2 bg-cream-400 rounded-full typing-dot"}),f.jsx("span",{className:"w-2 h-2 bg-cream-400 rounded-full typing-dot"})]})})}),f.jsx("div",{ref:Ts})]}),f.jsx("div",{className:"p-4 relative shrink-0 bg-white/60 backdrop-blur-md border-t border-white/50",children:f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 flex items-center gap-1 z-10",children:[f.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:Et,onChange:as}),f.jsx("button",{onClick:()=>Et.current?.click(),className:"p-2 text-cream-400 hover:text-cream-900 hover:bg-cream-100 rounded-xl transition-all",title:l("write.chat.uploadImage"),children:f.jsx(qc,{size:24})})]}),f.jsx("input",{ref:Ks,type:"text",value:F,onChange:ye=>q(ye.target.value),onCompositionStart:()=>Ws(!0),onCompositionEnd:()=>Ws(!1),onKeyDown:ye=>{ye.key==="Enter"&&!Ti&&$n()},placeholder:l("write.chat.placeholder"),className:"w-full pl-14 pr-32 py-4 bg-white border border-cream-200 rounded-2xl shadow-sm focus:outline-none focus:ring-2 focus:ring-cream-200 text-lg transition-all",autoFocus:!0}),f.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[f.jsx("button",{onClick:$n,disabled:!F.trim(),className:"p-2 text-cream-400 hover:text-cream-900 hover:bg-cream-100 rounded-xl transition-all disabled:opacity-50",title:l("write.chat.send"),children:f.jsx(OS,{size:24})}),f.jsx("div",{className:"w-px h-6 bg-cream-200 mx-1"}),f.jsxs("button",{onClick:Es,disabled:N||w.length===0||w[w.length-1].sender==="ai",className:"px-3 py-2 bg-cream-900 text-white rounded-xl hover:bg-cream-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-2 text-sm font-medium",title:l("write.chat.reply"),children:[f.jsx("span",{children:l("write.chat.reply")}),f.jsx(dl,{size:16})]})]})]})})]},"chat"):f.jsxs("div",{className:"h-full bg-white rounded-2xl shadow-sm border border-cream-100 p-8 flex flex-col relative",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4 flex-wrap",children:[f.jsx("input",{type:"text",placeholder:l("write.manual.titlePlaceholder"),value:we,onChange:ye=>Se(ye.target.value),className:"flex-1 min-w-[200px] text-3xl font-bold text-cream-900 placeholder:text-cream-900/20 border-none outline-none bg-transparent"}),f.jsx(Rg,{value:Ke,onChange:Xe})]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-xs font-medium text-cream-500 mb-1 uppercase tracking-wide",children:l("write.manual.category")}),f.jsx(Mg,{value:ot,onChange:zt,existingCategories:Ct})]}),f.jsxs("div",{className:"flex-[2]",children:[f.jsx("label",{className:"block text-xs font-medium text-cream-500 mb-1 uppercase tracking-wide",children:l("write.manual.tags")}),f.jsx(Dg,{tags:ze,setTags:He,inputValue:Gt,setInputValue:st})]})]}),f.jsx("div",{className:"flex-1 overflow-hidden relative",children:bn?f.jsx("div",{className:"h-full overflow-y-auto p-1 custom-scrollbar",children:f.jsx(h$,{original:Ss,modified:Cn,originalTitle:we,modifiedTitle:Zn,originalTags:ze,modifiedTags:xn,onAccept:Gs,onReject:ts,onRevert:ts})}):f.jsx(pl,{theme:"snow",value:je,onChange:be,modules:ya,placeholder:l("write.manual.contentPlaceholder"),className:"h-full"})})]})}),f.jsx(dn,{children:mt&&f.jsx(m$,{isOpen:mt,onClose:()=>Ie(!1),currentContent:je,onPreview:ga,messages:Bt,setMessages:St})})]}),f.jsx(dn,{children:(na||Un)&&f.jsxs(dt.div,{initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},className:"absolute inset-0 bg-white/95 backdrop-blur-md z-50 flex flex-col p-6 rounded-t-xl shadow-xl border-t border-cream-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h3",{className:"text-xl font-bold text-cream-900 flex items-center gap-2",children:[f.jsx(ms,{className:"text-amber-400"}),l("write.generated.title")]}),f.jsx("div",{className:"flex gap-2",children:f.jsx("button",{onClick:()=>{_n(null),aa(!1)},className:"p-2 hover:bg-cream-100 rounded-full text-cream-500 transition-colors",children:f.jsx(Ka,{size:20})})})]}),Un?f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4 text-cream-400",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"w-12 h-12 border-4 border-cream-200 border-t-cream-900 rounded-full animate-spin"}),f.jsx(ms,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-amber-400 animate-pulse",size:16})]}),f.jsx("p",{className:"font-medium animate-pulse",children:l("write.generated.crafting")})]}):f.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[f.jsxs("div",{className:"mb-2 shrink-0 border-b border-cream-100 pb-2 space-y-2",children:[f.jsx("input",{type:"text",value:ns,onChange:ye=>ea(ye.target.value),className:"w-full text-2xl font-bold text-cream-900 border-none outline-none placeholder:text-cream-300 bg-transparent",placeholder:l("write.generated.titlePlaceholder")}),f.jsx(Mg,{value:mn,onChange:Tt,existingCategories:Ct})]}),f.jsxs("div",{className:"flex items-center gap-4 mb-4 flex-wrap shrink-0",children:[f.jsx(Rg,{value:In,onChange:Qn}),f.jsx(Dg,{tags:Jn,setTags:Ns,inputValue:Or,setInputValue:Dr})]}),f.jsx("div",{className:"flex-1 overflow-hidden",children:f.jsx(pl,{theme:"snow",value:na,onChange:_n,modules:ya,className:"h-full"})}),f.jsxs("div",{className:"flex gap-3 mt-4 shrink-0",children:[f.jsxs("button",{onClick:()=>zn(!0),disabled:Un,className:"flex-1 py-3 rounded-xl border border-cream-200 text-cream-700 hover:bg-cream-50 transition-colors flex items-center justify-center gap-2 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(hi,{size:18}),l("write.generated.reroll")]}),f.jsxs("button",{onClick:Ei,disabled:Un,className:"flex-1 py-3 rounded-xl bg-cream-900 text-white hover:bg-cream-800 transition-colors flex items-center justify-center gap-2 font-medium shadow-lg shadow-cream-900/20 disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(Ji,{size:18}),l("write.generated.save")]})]})]})]})}),f.jsx(dn,{children:Z&&f.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4",children:f.jsxs(dt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[85vh] flex flex-col overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-cream-100",children:[f.jsxs("h3",{className:"text-lg font-bold text-cream-900 flex items-center gap-2",children:[f.jsx(ms,{size:18,className:"text-cream-400"}),"AI Persona Settings"]}),f.jsx("button",{onClick:()=>re(!1),className:"p-2 text-cream-400 hover:bg-cream-50 rounded-lg transition-colors",children:f.jsx(Ka,{size:20})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",children:f.jsx(j0,{})})]})})}),f.jsx(dn,{children:Ja&&f.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-black/20 backdrop-blur-sm p-4",children:f.jsxs(dt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-md flex flex-col overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-cream-100",children:[f.jsxs("h3",{className:"text-lg font-bold text-cream-900 flex items-center gap-2",children:[f.jsx(hi,{size:18,className:"text-cream-400"}),"Regenerate Diary"]}),f.jsx("button",{onClick:()=>zn(!1),className:"p-2 text-cream-400 hover:bg-cream-50 rounded-lg transition-colors",children:f.jsx(Ka,{size:20})})]}),f.jsxs("div",{className:"p-6",children:[f.jsx("p",{className:"text-sm text-cream-600 mb-3",children:'Optional: Provide specific instructions for this version (e.g., "Make it more poetic", "Focus on the morning").'}),f.jsx("textarea",{value:Bn,onChange:ye=>Rt(ye.target.value),placeholder:"Optional instruction...",className:"w-full h-24 p-3 bg-cream-50 border border-cream-200 rounded-xl resize-none outline-none focus:ring-2 focus:ring-cream-200 text-cream-900 placeholder:text-cream-400",autoFocus:!0}),f.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[f.jsx("button",{onClick:()=>zn(!1),className:"px-4 py-2 text-sm font-medium text-cream-600 hover:bg-cream-50 rounded-lg transition-colors",children:"Cancel"}),f.jsxs("button",{onClick:()=>{Xs(Bn),zn(!1)},className:"px-4 py-2 text-sm font-medium bg-cream-900 text-white rounded-lg hover:bg-cream-800 transition-colors shadow-sm flex items-center gap-2",children:[f.jsx(hi,{size:14}),"Regenerate"]})]})]})]})})})]})})}function g$(){const{theme:t,updateTheme:e,resetTheme:n,t:s}=_0(),i=T.useRef(null),l=h=>{const m=h.target.files[0];if(!m)return;const y=new FileReader;y.onloadend=()=>{e({chatBgImage:y.result})},y.readAsDataURL(m)},c=[{code:"zh-TW",name:""},{code:"zh-CN",name:""},{code:"en-US",name:"English"},{code:"ja-JP",name:""}],d=[{name:"Classic Brown",primary:"#4A453E",bg:"#FDFBF7"},{name:"Midnight Blue",primary:"#1e293b",bg:"#f8fafc"},{name:"Forest Green",primary:"#14532d",bg:"#f0fdf4"},{name:"Rose Gold",primary:"#881337",bg:"#fff1f2"}];return f.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("h2",{className:"text-xl font-bold text-cream-900 flex items-center gap-2",children:[f.jsx(dv,{className:"w-6 h-6 text-cream-900"}),s("settings.interface.title")]}),f.jsxs("button",{onClick:n,className:"text-xs text-cream-500 hover:text-cream-900 flex items-center gap-1 transition-colors px-3 py-1.5 rounded-lg hover:bg-cream-50 border border-transparent hover:border-cream-200",children:[f.jsx(hi,{size:14}),s("settings.interface.reset")]})]}),f.jsxs("div",{className:"space-y-3 mt-6",children:[f.jsxs("h3",{className:"text-sm font-bold text-cream-900 flex items-center gap-2",children:[f.jsx(T_,{size:16}),s("settings.interface.language")]}),f.jsxs("div",{className:"relative",children:[f.jsx("select",{value:t.language,onChange:h=>e({language:h.target.value}),className:"w-full appearance-none bg-white border border-cream-200 text-cream-900 rounded-xl px-4 py-2.5 pr-10 focus:outline-none focus:ring-2 focus:ring-cream-900/10 focus:border-cream-300 cursor-pointer font-medium transition-all",children:c.map(h=>f.jsx("option",{value:h.code,children:h.name},h.code))}),f.jsx(_f,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-cream-400 pointer-events-none",size:16})]})]}),f.jsx("div",{className:"h-px bg-cream-200/50"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h3",{className:"text-sm font-bold text-cream-900 flex items-center gap-2",children:[f.jsx(dv,{size:16}),s("settings.interface.theme")]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-cream-500 mb-2",children:s("settings.interface.presets")}),f.jsx("div",{className:"flex gap-3",children:d.map(h=>f.jsx("button",{onClick:()=>e({primaryColor:h.primary,backgroundColor:h.bg}),className:"group relative w-10 h-10 rounded-full border-2 border-white ring-1 ring-cream-200 shadow-sm hover:scale-110 transition-transform flex-shrink-0",style:{backgroundColor:h.bg},title:h.name,children:f.jsx("div",{className:"absolute inset-0 rounded-full border-[4px]",style:{borderColor:h.primary}})},h.name))})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"block text-xs font-medium text-cream-500",children:s("settings.interface.primaryColor")}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsxs("div",{className:"relative w-full",children:[f.jsx("input",{type:"color",value:t.primaryColor,onChange:h=>e({primaryColor:h.target.value}),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),f.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border border-cream-200 bg-cream-50 hover:border-cream-300 transition-colors",children:[f.jsx("div",{className:"w-6 h-6 rounded-md border border-black/10 shadow-sm",style:{backgroundColor:t.primaryColor}}),f.jsx("span",{className:"font-mono text-xs text-cream-600 uppercase",children:t.primaryColor})]})]})})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"block text-xs font-medium text-cream-500",children:s("settings.interface.backgroundColor")}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsxs("div",{className:"relative w-full",children:[f.jsx("input",{type:"color",value:t.backgroundColor,onChange:h=>e({backgroundColor:h.target.value}),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),f.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border border-cream-200 bg-cream-50 hover:border-cream-300 transition-colors",children:[f.jsx("div",{className:"w-6 h-6 rounded-md border border-black/10 shadow-sm",style:{backgroundColor:t.backgroundColor}}),f.jsx("span",{className:"font-mono text-xs text-cream-600 uppercase",children:t.backgroundColor})]})]})})]})]})]})]}),f.jsx("div",{className:"h-px bg-cream-200/50"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h3",{className:"text-sm font-bold text-cream-900 flex items-center gap-2",children:[f.jsx(qc,{size:16}),s("settings.interface.chatBackground")]}),f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-24 h-36 bg-cream-50 rounded-lg border-2 border-dashed border-cream-200 flex items-center justify-center overflow-hidden relative shrink-0",style:{backgroundImage:t.chatBgImage?`url(${t.chatBgImage})`:void 0,backgroundSize:"cover",backgroundPosition:"center"},children:!t.chatBgImage&&f.jsx(qc,{className:"text-cream-300",size:24})}),f.jsxs("div",{className:"space-y-3 flex-1 py-1",children:[f.jsx("p",{className:"text-sm text-cream-500 leading-relaxed",children:s("settings.interface.uploadDesc")}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsx("input",{type:"file",ref:i,onChange:l,accept:"image/*",className:"hidden"}),f.jsxs("button",{onClick:()=>i.current?.click(),className:"px-3 py-1.5 bg-cream-100 text-cream-900 text-xs font-medium rounded-lg hover:bg-cream-200 transition-colors flex items-center gap-1.5",children:[f.jsx(Gg,{size:14}),s("settings.interface.upload")]}),t.chatBgImage&&f.jsxs("button",{onClick:()=>e({chatBgImage:null}),className:"px-3 py-1.5 bg-red-50 text-red-600 border border-red-100 text-xs font-medium rounded-lg hover:bg-red-100 transition-colors flex items-center gap-1.5",children:[f.jsx(fn,{size:14}),s("settings.interface.remove")]})]})]})]})]}),f.jsx("div",{className:"h-px bg-cream-200/50"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h3",{className:"text-sm font-bold text-cream-900 flex items-center gap-2",children:[f.jsx(r_,{size:16}),s("settings.interface.customCss")]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-xs text-cream-500",children:s("settings.interface.customCssDesc")}),f.jsx("textarea",{value:t.bubbleCss,onChange:h=>e({bubbleCss:h.target.value}),placeholder:`.message-user { 
  border-radius: 16px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}`,className:"w-full h-32 p-3 bg-cream-50 text-cream-900 font-mono text-xs rounded-xl outline-none focus:ring-2 focus:ring-cream-400 resize-none custom-scrollbar border border-cream-200"})]})]})]})}const X2=["chatdairy-entries","user_profile","ai_personas","ai_current_persona_id","ai_api_configs","ai_current_api_config_id","ai_diary_settings","app_theme","i18nextLng"],Z2=["chat_messages_","diary_draft_"],gs={getAllData:()=>{const t={};X2.forEach(e=>{const n=localStorage.getItem(e);if(n!==null)try{t[e]=JSON.parse(n)}catch{t[e]=n}});for(let e=0;e<localStorage.length;e++){const n=localStorage.key(e);if(Z2.some(s=>n.startsWith(s))){const s=localStorage.getItem(n);try{t[n]=JSON.parse(s)}catch{t[n]=s}}}return{version:1,timestamp:new Date().toISOString(),data:t}},restoreData:t=>{if(!t||!t.data)throw new Error("Invalid backup data format");const{data:e}=t;X2.forEach(s=>localStorage.removeItem(s));const n=[];for(let s=0;s<localStorage.length;s++){const i=localStorage.key(s);Z2.some(l=>i.startsWith(l))&&n.push(i)}return n.forEach(s=>localStorage.removeItem(s)),Object.entries(e).forEach(([s,i])=>{typeof i=="object"?localStorage.setItem(s,JSON.stringify(i)):localStorage.setItem(s,i)}),!0},downloadBackup:()=>{const t=gs.getAllData(),e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n=URL.createObjectURL(e),s=document.createElement("a");s.href=n,s.download=`chatdairy-backup-${ht(new Date,"yyyy-MM-dd-HHmm")}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)},syncToGitHubGist:async(t,e=null)=>{const n=gs.getAllData(),s="chatdairy-backup.json",i=JSON.stringify(n,null,2),l={Authorization:`token ${t}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"},c={description:"ChatDairy Backup",public:!1,files:{[s]:{content:i}}};let d="https://api.github.com/gists",h="POST";e&&(d=`https://api.github.com/gists/${e}`,h="PATCH");const m=await fetch(d,{method:h,headers:l,body:JSON.stringify(c)});if(!m.ok){const b=await m.json();throw new Error(b.message||"GitHub Sync Failed")}const y=await m.json();return localStorage.setItem("backup_last_sync",new Date().toISOString()),y},restoreFromGist:async(t,e)=>{if(!t||!e)throw new Error("Token and Gist ID required");const n={Authorization:`token ${t}`,Accept:"application/vnd.github.v3+json"},s=await fetch(`https://api.github.com/gists/${e}`,{headers:n});if(!s.ok){const h=await s.json();throw new Error(h.message||"Failed to fetch Gist")}const i=await s.json(),l=i.files["chatdairy-backup.json"]||Object.values(i.files).find(h=>h.language==="JSON");if(!l)throw new Error("No backup file found in this Gist");let c=l.content;l.truncated&&(c=await(await fetch(l.raw_url)).text());const d=JSON.parse(c);return gs.restoreData(d)},initAutoBackup:()=>{const t=async()=>{if(!(localStorage.getItem("backup_auto_enabled")==="true"))return;const n=localStorage.getItem("backup_github_token"),s=localStorage.getItem("backup_github_gist_id");if(!n)return;const i=localStorage.getItem("backup_last_sync");if(!i||new Date-new Date(i)>3600*1e3){console.log("[AutoBackup] Starting background sync...");try{await gs.syncToGitHubGist(n,s),console.log("[AutoBackup] Sync successful")}catch(d){console.error("[AutoBackup] Sync failed",d)}}};return t(),setInterval(t,1800*1e3)},uploadToGoogleDrive:async t=>{const e=gs.getAllData(),n=JSON.stringify(e,null,2),s=new Blob([n],{type:"application/json"}),i={name:`chatdairy-backup-${ht(new Date,"yyyy-MM-dd")}.json`,mimeType:"application/json"},l=new FormData;l.append("metadata",new Blob([JSON.stringify(i)],{type:"application/json"})),l.append("file",s);const c=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:l});if(!c.ok){const d=await c.json();throw new Error(d.error?.message||"Google Drive Upload Failed")}return await c.json()}},zd=({icon:t,title:e,description:n,isOpen:s,onToggle:i,children:l,isDanger:c=!1,statusBadge:d=null})=>f.jsxs("div",{className:Ne("border rounded-xl overflow-hidden transition-all duration-200",s?"border-cream-300 bg-cream-50/50 shadow-sm":"border-cream-200 hover:border-cream-300 bg-white"),children:[f.jsxs("button",{onClick:i,className:"w-full flex items-center justify-between p-4 text-left",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:Ne("p-2.5 rounded-lg transition-colors",c?"bg-red-50 text-red-500":s?"bg-cream-200 text-cream-900":"bg-cream-100 text-cream-600"),children:f.jsx(t,{size:20})}),f.jsxs("div",{children:[f.jsx("h3",{className:Ne("font-bold text-base",c?"text-red-600":"text-cream-900"),children:e}),n&&f.jsx("p",{className:Ne("text-sm mt-0.5",c?"text-red-400":"text-cream-500"),children:n})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[d,f.jsx("div",{className:Ne("transition-transform duration-200 text-cream-400",s&&"rotate-180"),children:f.jsx(_f,{size:20})})]})]}),f.jsx(dn,{children:s&&f.jsx(dt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:f.jsx("div",{className:Ne("px-4 pb-4 pt-0",c?"text-red-600":"text-cream-900"),children:f.jsx("div",{className:Ne("pt-4 border-t",c?"border-red-100":"border-cream-100"),children:l})})})})]}),y$=()=>{const{t}=yn(),[e,n]=T.useState("local"),s=T.useRef(null),[i,l]=T.useState(()=>localStorage.getItem("backup_github_token")||""),[c,d]=T.useState(()=>localStorage.getItem("backup_github_gist_id")||""),[h,m]=T.useState(()=>localStorage.getItem("backup_auto_enabled")==="true"),[y,b]=T.useState(!1),[x,w]=T.useState(!1),[N,_]=T.useState(null),[C,R]=T.useState(()=>localStorage.getItem("backup_gdrive_token")||""),[E,D]=T.useState(!1),[I,P]=T.useState(null);T.useEffect(()=>{localStorage.setItem("backup_github_token",i)},[i]),T.useEffect(()=>{localStorage.setItem("backup_github_gist_id",c)},[c]),T.useEffect(()=>{localStorage.setItem("backup_auto_enabled",h)},[h]),T.useEffect(()=>{localStorage.setItem("backup_gdrive_token",C)},[C]);const U=()=>{try{gs.downloadBackup()}catch(F){console.error(F),alert(t("settings.backup.local.downloadError"))}},z=async F=>{const q=F.target.files?.[0];if(q)try{const Z=await q.text(),re=JSON.parse(Z);confirm(t("settings.backup.local.restoreConfirm"))&&(gs.restoreData(re),alert(t("settings.backup.local.restoreSuccess")),window.location.reload())}catch(Z){console.error(Z),alert(t("settings.backup.local.restoreError"))}finally{s.current&&(s.current.value="")}},L=async()=>{if(!i){_({type:"error",message:t("settings.backup.github.tokenRequired")});return}b(!0),_(null);try{const F=await gs.syncToGitHubGist(i,c||null);F.id&&d(F.id),_({type:"success",message:t("settings.backup.github.syncSuccess")})}catch(F){console.error(F),_({type:"error",message:F.message})}finally{b(!1)}},W=async()=>{if(!i||!c){_({type:"error",message:t("settings.backup.github.tokenAndGistRequired")});return}if(confirm(t("settings.backup.github.restoreConfirm"))){w(!0),_(null);try{await gs.restoreFromGist(i,c),alert(t("settings.backup.local.restoreSuccess")),window.location.reload()}catch(F){console.error(F),_({type:"error",message:t("settings.backup.github.restoreError",{error:F.message})})}finally{w(!1)}}},se=async()=>{if(!C){P({type:"error",message:t("settings.backup.github.tokenRequired")});return}D(!0),P(null);try{await gs.uploadToGoogleDrive(C),P({type:"success",message:t("settings.backup.gdrive.success")})}catch(F){console.error(F),P({type:"error",message:t("settings.backup.gdrive.error",{error:F.message})})}finally{D(!1)}},k=F=>{n(e===F?null:F)};return f.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 space-y-6",children:[f.jsx("div",{className:"flex items-center justify-between mb-2",children:f.jsxs("h2",{className:"text-xl font-bold text-cream-900 flex items-center gap-2",children:[f.jsx(d_,{className:"text-cream-900"}),t("settings.backup.title")]})}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(zd,{icon:x_,title:t("settings.backup.local.title"),description:t("settings.backup.local.description"),isOpen:e==="local",onToggle:()=>k("local"),children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("p",{className:"text-sm text-cream-600 bg-cream-50 p-3 rounded-lg border border-cream-100 flex gap-2",children:[f.jsx(uv,{size:16,className:"text-cream-400 shrink-0 mt-0.5"}),f.jsx("span",{children:f.jsx(bd,{i18nKey:"settings.backup.local.info",components:{strong:f.jsx("strong",{})}})})]}),f.jsxs("div",{className:"flex flex-wrap gap-3",children:[f.jsxs("button",{onClick:U,className:"flex-1 min-w-[160px] py-3 bg-cream-900 hover:bg-cream-800 text-white rounded-xl transition-colors font-medium flex items-center justify-center gap-2",children:[f.jsx(h_,{size:18}),t("settings.backup.local.download")]}),f.jsxs("div",{className:"relative flex-1 min-w-[160px]",children:[f.jsx("input",{ref:s,type:"file",accept:".json",onChange:z,className:"hidden"}),f.jsxs("button",{onClick:()=>s.current?.click(),className:"w-full py-3 bg-white border border-cream-200 hover:bg-cream-50 text-cream-900 rounded-xl transition-colors font-medium flex items-center justify-center gap-2",children:[f.jsx(Gg,{size:18}),t("settings.backup.local.restore")]})]})]})]})}),f.jsx(zd,{icon:y_,title:t("settings.backup.github.title"),description:t("settings.backup.github.description"),isOpen:e==="github",onToggle:()=>k("github"),statusBadge:c&&f.jsxs("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded-md font-medium flex items-center gap-1",children:[f.jsx(ys,{size:12})," ",t("settings.backup.github.linked")]}),children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-cream-900",children:t("settings.backup.github.pat")}),f.jsx("input",{type:"password",value:i,onChange:F=>l(F.target.value),placeholder:"ghp_...",className:"w-full p-3 bg-cream-50 border border-cream-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cream-300 font-mono text-sm"}),f.jsxs("p",{className:"text-xs text-cream-500",children:[f.jsx(bd,{i18nKey:"settings.backup.github.patHelp",components:{code:f.jsx("code",{})}})," ",f.jsx("a",{href:"https://github.com/settings/tokens",target:"_blank",rel:"noopener noreferrer",className:"text-cream-900 underline hover:text-cream-700",children:t("settings.backup.github.getToken")})]})]}),c&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-cream-900",children:t("settings.backup.github.gistId")}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:c,readOnly:!0,className:"flex-1 p-3 bg-cream-100 border border-cream-200 rounded-xl text-cream-500 font-mono text-sm"}),f.jsx("button",{onClick:()=>d(""),className:"p-3 text-red-500 hover:bg-red-50 rounded-xl transition-colors",title:t("settings.backup.github.unlink"),children:f.jsx(fn,{size:18})})]})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-cream-50 rounded-xl border border-cream-100",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(n_,{className:"text-cream-500",size:20}),f.jsxs("div",{children:[f.jsx("span",{className:"text-sm font-medium text-cream-900 block",children:t("settings.backup.github.autoBackup")}),f.jsx("span",{className:"text-xs text-cream-500",children:t("settings.backup.github.autoBackupHelp")})]})]}),f.jsx("button",{onClick:()=>m(!h),className:Ne("relative inline-flex h-6 w-11 items-center rounded-full transition-colors",h?"bg-cream-900":"bg-cream-200"),children:f.jsx("span",{className:Ne("inline-block h-4 w-4 transform rounded-full bg-white transition-transform",h?"translate-x-6":"translate-x-1")})})]}),f.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[f.jsxs("button",{onClick:L,disabled:y||!i,className:"flex-1 py-3 bg-cream-900 hover:bg-cream-800 disabled:opacity-50 text-white rounded-xl transition-colors font-medium flex items-center justify-center gap-2",children:[y?f.jsx(Dc,{className:"animate-spin",size:18}):f.jsx(Ji,{size:18}),t(c?"settings.backup.github.sync":"settings.backup.github.create")]}),f.jsxs("button",{onClick:W,disabled:x||!i||!c,className:"flex-1 py-3 bg-white border border-cream-200 hover:bg-cream-50 disabled:opacity-50 text-cream-900 rounded-xl transition-colors font-medium flex items-center justify-center gap-2",children:[x?f.jsx(Dc,{className:"animate-spin",size:18}):f.jsx(e_,{size:18}),t("settings.backup.github.import")]})]}),N&&f.jsxs("div",{className:Ne("px-3 py-2 rounded-lg text-sm flex items-center gap-2",N.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-600"),children:[N.type==="success"?f.jsx(ys,{size:16}):f.jsx(lv,{size:16}),N.message]})]})}),f.jsx(zd,{icon:cv,title:t("settings.backup.gdrive.title"),description:t("settings.backup.gdrive.description"),isOpen:e==="gdrive",onToggle:()=>k("gdrive"),children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"p-3 bg-cream-50 text-cream-600 rounded-lg text-sm flex gap-2 border border-cream-100",children:[f.jsx(uv,{size:16,className:"shrink-0 mt-0.5 text-cream-400"}),f.jsx("p",{children:f.jsx(bd,{i18nKey:"settings.backup.gdrive.info",components:{strong:f.jsx("strong",{})}})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-cream-900",children:t("settings.backup.gdrive.token")}),f.jsx("input",{type:"password",value:C,onChange:F=>R(F.target.value),placeholder:"ya29...",className:"w-full p-3 bg-cream-50 border border-cream-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cream-300 font-mono text-sm"})]}),f.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[f.jsxs("button",{onClick:se,disabled:E||!C,className:"flex-1 py-3 bg-cream-900 hover:bg-cream-800 disabled:opacity-50 text-white rounded-xl transition-colors font-medium flex items-center justify-center gap-2",children:[E?f.jsx(Dc,{className:"animate-spin",size:18}):f.jsx(cv,{size:18}),t("settings.backup.gdrive.upload")]}),I&&f.jsxs("div",{className:Ne("px-3 py-2 rounded-lg text-sm flex items-center gap-2",I.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-600"),children:[I.type==="success"?f.jsx(ys,{size:16}):f.jsx(lv,{size:16}),I.message]})]})]})}),f.jsx(zd,{icon:fn,title:t("settings.backup.reset.title"),description:t("settings.backup.reset.description"),isOpen:e==="reset",onToggle:()=>k("reset"),isDanger:!0,children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-red-500 bg-red-50 p-3 rounded-lg border border-red-100",children:f.jsx(bd,{i18nKey:"settings.backup.reset.warning",components:{strong:f.jsx("strong",{})}})}),f.jsxs("button",{onClick:()=>{confirm(t("settings.backup.reset.confirmAlert"))&&(localStorage.clear(),window.location.reload())},className:"w-full py-3 bg-red-50 hover:bg-red-100 text-red-600 border border-red-200 rounded-xl transition-colors font-medium flex items-center justify-center gap-2",children:[f.jsx(fn,{size:18}),t("settings.backup.reset.confirmBtn")]})]})})]})]})},Bp=[{id:"openai",name:"OpenAI",baseUrl:"https://api.openai.com/v1"},{id:"deepseek",name:"DeepSeek",baseUrl:"https://api.deepseek.com"},{id:"google",name:"Google Gemini",baseUrl:"https://generativelanguage.googleapis.com"},{id:"custom",name:"Custom / Local",baseUrl:""}],b$=()=>{const{t}=yn(),{apiConfigs:e,currentApiConfigId:n,setCurrentApiConfigId:s,addApiConfig:i,updateApiConfig:l,deleteApiConfig:c,fetchModels:d}=oo(),[h,m]=T.useState(null),[y,b]=T.useState({name:"",provider:"openai",apiKey:"",baseUrl:"https://api.openai.com/v1",model:"gpt-3.5-turbo"}),[x,w]=T.useState([]),[N,_]=T.useState(!1),[C,R]=T.useState(null),E=z=>{m(z.id),b({name:z.name,provider:z.provider||(z.type==="official"?"openai":"custom"),apiKey:z.apiKey,baseUrl:z.baseUrl,model:z.model||"gpt-3.5-turbo"}),w([])},D=()=>{const z=Bp.find(se=>se.id===y.provider),L=y.provider==="custom"?y.baseUrl:z.baseUrl,W={...y,type:y.provider==="custom"?"custom":"official",baseUrl:L};h==="new"?i(W):l(h,W),m(null)},I=()=>{m("new"),b({name:t("settings.api.addNew"),provider:"openai",apiKey:"",baseUrl:"https://api.openai.com/v1",model:"gpt-3.5-turbo"}),w([])},P=z=>{const L=z.target.value,W=Bp.find(se=>se.id===L);b({...y,provider:L,baseUrl:W.id==="custom"?"":W.baseUrl,name:h==="new"?W.name:y.name})},U=async()=>{if(!y.apiKey){alert(t("settings.api.pleaseEnterApiKey"));return}_(!0);try{const z=await d({baseUrl:y.baseUrl,apiKey:y.apiKey,provider:y.provider});w(z),z.length>0&&b(L=>({...L,model:z[0].id}))}catch(z){alert(t("settings.api.failedToFetchModels",{error:z.message}))}finally{_(!1)}};return f.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 space-y-6",children:[f.jsx("div",{className:"flex items-center justify-between mb-4",children:f.jsxs("h2",{className:"text-xl font-bold text-cream-900 flex items-center gap-2",children:[f.jsx(fv,{className:"text-cream-900"}),t("settings.api.title")]})}),f.jsx(dn,{mode:"wait",children:h?f.jsxs(dt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-6 overflow-hidden",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-cream-900 mb-1",children:t("settings.api.configName")}),f.jsx("input",{value:y.name,onChange:z=>b({...y,name:z.target.value}),className:"w-full p-3 bg-cream-50 border border-cream-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cream-300",placeholder:t("settings.api.myApi")})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-cream-900 mb-1",children:t("settings.api.provider")}),f.jsx("select",{value:y.provider,onChange:P,className:"w-full p-3 bg-cream-50 border border-cream-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cream-300",children:Bp.map(z=>f.jsx("option",{value:z.id,children:z.name},z.id))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-cream-900 mb-1",children:t("settings.api.apiKey")}),f.jsx("input",{type:"password",value:y.apiKey,onChange:z=>b({...y,apiKey:z.target.value}),className:"w-full p-3 bg-cream-50 border border-cream-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cream-300",placeholder:"sk-..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-cream-900 mb-1",children:t("settings.api.baseUrl")}),f.jsx("input",{value:y.baseUrl,onChange:z=>b({...y,baseUrl:z.target.value}),disabled:y.provider!=="custom",className:Ne("w-full p-3 border border-cream-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cream-300",y.provider!=="custom"?"bg-cream-100 text-cream-400 cursor-not-allowed":"bg-cream-50"),placeholder:"https://api.openai.com/v1"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-cream-900 mb-1",children:t("settings.api.model")}),f.jsxs("div",{className:"flex gap-2",children:[x.length>0?f.jsx("select",{value:y.model,onChange:z=>b({...y,model:z.target.value}),className:"flex-1 p-3 bg-cream-50 border border-cream-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cream-300",children:x.map(z=>f.jsx("option",{value:z.id,children:z.id},z.id))}):f.jsx("input",{value:y.model,onChange:z=>b({...y,model:z.target.value}),className:"flex-1 p-3 bg-cream-50 border border-cream-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cream-300",placeholder:t("settings.api.modelPlaceholder")}),f.jsx("button",{onClick:U,disabled:N||!y.apiKey,className:"px-4 py-2 bg-cream-100 text-cream-900 rounded-xl hover:bg-cream-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",title:t("settings.api.fetchModels"),children:f.jsx(Dc,{size:18,className:N?"animate-spin":""})})]})]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsxs("button",{onClick:D,className:"flex-1 px-4 py-3 bg-cream-900 text-white rounded-xl hover:bg-cream-800 transition-colors font-medium flex items-center justify-center gap-2",children:[f.jsx(Ji,{size:18}),t("settings.api.saveConfig")]}),f.jsx("button",{onClick:()=>m(null),className:"px-4 py-3 bg-cream-100 text-cream-900 rounded-xl hover:bg-cream-200 transition-colors font-medium",children:t("settings.api.cancel")})]})]}):f.jsxs(dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[e.map(z=>f.jsxs("div",{onClick:()=>s(z.id),className:Ne("p-4 rounded-xl border cursor-pointer transition-all relative group",z.id===n?"bg-cream-900 text-white border-cream-900 shadow-lg scale-[1.02]":"bg-white border-cream-200 hover:border-cream-300 hover:shadow-md text-cream-900"),children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(fv,{size:18,className:z.id===n?"text-cream-200":"text-cream-400"}),f.jsx("h3",{className:"font-bold",children:z.name})]}),z.id===n&&f.jsx(ys,{size:18,className:"text-green-400"})]}),f.jsxs("div",{className:"mb-3",children:[f.jsx("p",{className:Ne("text-sm font-mono",z.id===n?"text-cream-100":"text-cream-600"),children:z.baseUrl||"https://api.openai.com/v1"}),f.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[f.jsx("span",{className:Ne("text-xs px-2 py-1 rounded-md uppercase tracking-wider font-medium",z.id===n?"bg-white/20":"bg-cream-100 text-cream-700"),children:z.provider}),f.jsx("span",{className:Ne("text-xs px-2 py-1 rounded-md font-mono",z.id===n?"bg-white/10 text-cream-200":"bg-cream-50 text-cream-500 border border-cream-100"),children:z.model})]})]}),f.jsxs("div",{className:"absolute right-2 bottom-2 flex gap-1 transition-opacity opacity-100 sm:opacity-0 sm:group-hover:opacity-100",children:[f.jsx("button",{onClick:L=>{L.stopPropagation(),E(z)},className:Ne("p-1.5 rounded-lg transition-colors",z.id===n?"hover:bg-white/20 text-white":"hover:bg-cream-100 text-cream-600"),children:f.jsx(Fp,{size:14})}),e.length>1&&f.jsx("button",{onClick:L=>{L.stopPropagation(),c(z.id)},className:Ne("p-1.5 rounded-lg transition-colors",z.id===n?"hover:bg-red-500/50 text-white":"hover:bg-red-100 text-red-500"),children:f.jsx(fn,{size:14})})]})]},z.id)),f.jsxs("button",{onClick:I,className:"w-full py-4 border-2 border-dashed border-cream-200 rounded-xl text-cream-400 hover:text-cream-900 hover:border-cream-400 transition-all flex items-center justify-center gap-2 font-medium",children:[f.jsx(Sr,{size:20}),t("settings.api.addNew")]})]})}),f.jsx(Qi,{isOpen:!!C,onClose:()=>R(null),onConfirm:()=>{C&&(c(C),h===C&&m(null))},title:t("settings.api.deleteConfirmTitle"),message:t("settings.api.deleteConfirmMessage"),confirmText:t("settings.api.delete"),isDangerous:!0})]})};function x$(){const{t}=yn();return f.jsxs("div",{className:"p-4 h-full overflow-y-auto custom-scrollbar pb-20",children:[f.jsx("h1",{className:"text-2xl font-bold text-cream-900 mb-6",children:t("settings.title")}),f.jsxs("div",{className:"space-y-8 max-w-3xl",children:[f.jsx(b$,{}),f.jsx(j0,{}),f.jsx(g$,{}),f.jsx(y$,{})]})]})}const Nc=({label:t,icon:e,value:n,name:s,onChange:i,placeholder:l,type:c="text",className:d=""})=>f.jsxs("div",{className:`group flex items-start gap-3 p-2 -mx-2 rounded-lg transition-colors ${d}`,children:[f.jsx("div",{className:"mt-1 text-cream-400 transition-colors",children:f.jsx(e,{size:18})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("label",{className:"block text-xs font-medium text-cream-500 mb-0.5",children:t}),c==="textarea"?f.jsx("textarea",{name:s,value:n,onChange:i,placeholder:l,rows:Math.max(1,(n?.match(/\n/g)||[]).length+1),className:"w-full bg-transparent border-none p-0 text-cream-900 placeholder:text-cream-300 focus:ring-0 resize-none text-sm leading-relaxed"}):f.jsx("input",{type:c,name:s,value:n,onChange:i,placeholder:l,className:"w-full bg-transparent border-none p-0 text-cream-900 placeholder:text-cream-300 focus:ring-0 text-sm font-medium"})]})]}),Tc=({title:t,icon:e,children:n,className:s=""})=>f.jsxs("div",{className:`bg-white rounded-xl border border-cream-200/60 p-5 shadow-sm space-y-4 ${s}`,children:[f.jsxs("div",{className:"flex items-center gap-2 text-cream-900 font-semibold pb-3 border-b border-cream-100",children:[f.jsx(e,{size:18,className:"text-cream-400"}),f.jsx("h3",{children:t})]}),f.jsx("div",{className:"space-y-1",children:n})]}),Bd=()=>f.jsx("div",{className:"h-px bg-cream-200/60 my-2"}),v$=({items:t,onChange:e,placeholderYear:n,placeholderContent:s,addText:i})=>{const l=Array.isArray(t)?t:[],c=()=>{e([...l,{year:"",content:""}])},d=m=>{const y=l.filter((b,x)=>x!==m);e(y)},h=(m,y,b)=>{const x=[...l];x[m]={...x[m],[y]:b},e(x)};return f.jsxs("div",{className:"space-y-3",children:[l.map((m,y)=>f.jsxs("div",{className:"flex gap-3 items-start group relative pl-4 border-l-2 border-cream-200",children:[f.jsx("div",{className:"absolute -left-[5px] top-2 w-2 h-2 rounded-full bg-cream-300 ring-2 ring-white"}),f.jsx("div",{className:"w-24 shrink-0",children:f.jsx("input",{type:"text",value:m.year,onChange:b=>h(y,"year",b.target.value),placeholder:n||"Year/Time",className:"w-full bg-transparent border-none p-0 text-cream-500 placeholder:text-cream-300 focus:ring-0 text-sm font-medium text-right"})}),f.jsx("div",{className:"flex-1",children:f.jsx("textarea",{value:m.content,onChange:b=>h(y,"content",b.target.value),placeholder:s||"What happened?",rows:Math.max(1,(m.content?.match(/\n/g)||[]).length+1),className:"w-full bg-transparent border-none p-0 text-cream-900 placeholder:text-cream-300 focus:ring-0 resize-none text-sm leading-relaxed"})}),f.jsx("button",{onClick:()=>d(y),className:"opacity-0 group-hover:opacity-100 text-cream-300 hover:text-red-400 transition-all",children:f.jsx(fn,{size:14})})]},y)),f.jsxs("button",{onClick:c,className:"flex items-center gap-2 text-xs text-cream-400 hover:text-cream-600 transition-colors pl-4",children:[f.jsx(Sr,{size:14})," ",i||"Add Milestone"]})]})},w$=({items:t,onChange:e,placeholderName:n,placeholderRelation:s,placeholderNote:i,addText:l})=>{const c=()=>{e([...t,{name:"",relation:"",note:""}])},d=m=>{e(t.filter((y,b)=>b!==m))},h=(m,y,b)=>{const x=[...t];x[m]={...x[m],[y]:b},e(x)};return f.jsxs("div",{className:"space-y-4",children:[t.map((m,y)=>f.jsxs("div",{className:"bg-cream-50/50 rounded-lg p-3 space-y-2 group relative",children:[f.jsx("button",{onClick:()=>d(y),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 text-cream-300 hover:text-red-400 transition-all",children:f.jsx(fn,{size:14})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:m.name,onChange:b=>h(y,"name",b.target.value),placeholder:n||"Name",className:"flex-1 bg-transparent border-b border-cream-200 focus:border-cream-400 p-1 text-cream-900 placeholder:text-cream-300 focus:ring-0 text-sm font-semibold"}),f.jsx("input",{type:"text",value:m.relation,onChange:b=>h(y,"relation",b.target.value),placeholder:s||"Relationship",className:"w-1/3 bg-transparent border-b border-cream-200 focus:border-cream-400 p-1 text-cream-600 placeholder:text-cream-300 focus:ring-0 text-xs text-right"})]}),f.jsx("textarea",{value:m.note,onChange:b=>h(y,"note",b.target.value),placeholder:i||"Notes about them...",rows:Math.max(1,(m.note?.match(/\n/g)||[]).length+1),className:"w-full bg-transparent border-none p-0 text-cream-700 placeholder:text-cream-300 focus:ring-0 resize-none text-xs leading-relaxed"})]},y)),f.jsxs("button",{onClick:c,className:"flex items-center gap-2 text-xs text-cream-400 hover:text-cream-600 transition-colors",children:[f.jsx(Sr,{size:14})," ",l||"Add Relationship"]})]})},S$=({tags:t,onChange:e,placeholder:n})=>{const[s,i]=T.useState(""),l=d=>{if(d.key==="Enter"){d.preventDefault();const h=s.trim();h&&!t.includes(h)&&(e([...t,h]),i(""))}},c=d=>{e(t.filter(h=>h!==d))};return f.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.map((d,h)=>f.jsxs("span",{className:"bg-cream-100 text-cream-800 px-2 py-1 rounded-md text-xs font-medium flex items-center gap-1 border border-cream-200 group",children:[d,f.jsx("button",{onClick:()=>c(d),className:"text-cream-400 hover:text-red-500",children:f.jsx(Ka,{size:12})})]},h)),f.jsxs("div",{className:"relative flex items-center min-w-[100px]",children:[f.jsx(Fg,{size:14,className:"absolute left-0 text-cream-400"}),f.jsx("input",{type:"text",value:s,onChange:d=>i(d.target.value),onKeyDown:l,placeholder:n||"Add interest...",className:"w-full pl-5 bg-transparent border-none p-0 text-cream-900 placeholder:text-cream-300 focus:ring-0 text-sm"})]})]})},N$=({items:t,onChange:e,placeholderName:n,placeholderType:s,placeholderNote:i,addText:l})=>{const c=Array.isArray(t)?t:[],d=()=>{e([...c,{name:"",type:"",note:""}])},h=y=>{e(c.filter((b,x)=>x!==y))},m=(y,b,x)=>{const w=[...c];w[y]={...w[y],[b]:x},e(w)};return f.jsxs("div",{className:"space-y-4",children:[c.map((y,b)=>f.jsxs("div",{className:"bg-cream-50/50 rounded-lg p-3 space-y-2 group relative",children:[f.jsx("button",{onClick:()=>h(b),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 text-cream-300 hover:text-red-400 transition-all",children:f.jsx(fn,{size:14})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:y.name,onChange:x=>m(b,"name",x.target.value),placeholder:n||"Pet Name",className:"flex-1 bg-transparent border-b border-cream-200 focus:border-cream-400 p-1 text-cream-900 placeholder:text-cream-300 focus:ring-0 text-sm font-semibold"}),f.jsx("input",{type:"text",value:y.type,onChange:x=>m(b,"type",x.target.value),placeholder:s||"Type (Cat, Dog...)",className:"w-1/3 bg-transparent border-b border-cream-200 focus:border-cream-400 p-1 text-cream-600 placeholder:text-cream-300 focus:ring-0 text-xs text-right"})]}),f.jsx("textarea",{value:y.note,onChange:x=>m(b,"note",x.target.value),placeholder:i||"About them...",rows:Math.max(1,(y.note?.match(/\n/g)||[]).length+1),className:"w-full bg-transparent border-none p-0 text-cream-700 placeholder:text-cream-300 focus:ring-0 resize-none text-xs leading-relaxed"})]},b)),f.jsxs("button",{onClick:d,className:"flex items-center gap-2 text-xs text-cream-400 hover:text-cream-600 transition-colors",children:[f.jsx(Sr,{size:14})," ",l||"Add Pet"]})]})},T$=({items:t,onChange:e,placeholder:n,addText:s})=>{const i=Array.isArray(t)?t:[],l=()=>{e([...i,""])},c=h=>{e(i.filter((m,y)=>y!==h))},d=(h,m)=>{const y=[...i];y[h]=m,e(y)};return f.jsxs("div",{className:"space-y-3",children:[i.map((h,m)=>f.jsxs("div",{className:"flex gap-2 items-center group",children:[f.jsx("div",{className:"flex-1 bg-cream-50/50 rounded-lg px-3 py-2 border border-transparent focus-within:border-cream-300 focus-within:bg-white transition-all",children:f.jsx("input",{type:"text",value:h,onChange:y=>d(m,y.target.value),placeholder:n||"I'm focusing on...",className:"w-full bg-transparent border-none p-0 text-cream-900 placeholder:text-cream-300 focus:ring-0 text-sm"})}),f.jsx("button",{onClick:()=>c(m),className:"opacity-0 group-hover:opacity-100 text-cream-300 hover:text-red-400 transition-all p-2",children:f.jsx(fn,{size:14})})]},m)),f.jsxs("button",{onClick:l,className:"flex items-center gap-2 text-xs text-cream-400 hover:text-cream-600 transition-colors",children:[f.jsx(Sr,{size:14})," ",s||"Add Focus Area"]})]})},E$=()=>{const{profile:t,updateProfile:e}=JS(),{t:n}=yn(),[s,i]=T.useState(t),[l,c]=T.useState(!1),[d,h]=T.useState(!1),[m,y]=T.useState(!1),[b,x]=T.useState(""),w=T.useRef(null),[N,_]=T.useState(!1),C=T.useRef(null);T.useEffect(()=>{const U=z=>{C.current&&!C.current.contains(z.target)&&_(!1)};return document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[]),T.useEffect(()=>{i({...t,lifeExperience:Array.isArray(t.lifeExperience)?t.lifeExperience:[],coreRelationships:Array.isArray(t.coreRelationships)?t.coreRelationships:[],interests:Array.isArray(t.interests)?t.interests:[],pets:Array.isArray(t.pets)?t.pets:[],shortTermGoals:Array.isArray(t.shortTermGoals)?t.shortTermGoals:t.shortTermGoals?[t.shortTermGoals]:[]})},[t]);const R=U=>{const{name:z,value:L}=U.target;i(W=>({...W,[z]:L})),c(!0)},E=(U,z)=>{i(L=>({...L,[U]:z})),c(!0)},D=U=>{const z=U.target.files[0];if(z){if(z.size>5*1024*1024){alert("Image size should be less than 5MB");return}const L=new FileReader;L.onloadend=()=>{i(W=>({...W,avatar:L.result})),c(!0)},L.readAsDataURL(z)}},I=()=>{b&&(i(U=>({...U,avatar:b})),c(!0),y(!1),x(""))},P=U=>{U.preventDefault(),e(s),c(!1),h(!0),setTimeout(()=>h(!1),3e3)};return f.jsxs("div",{className:"h-full overflow-y-auto bg-cream-50/30",children:[f.jsxs("form",{onSubmit:P,className:"max-w-7xl mx-auto p-4 md:p-8 flex flex-col md:flex-row gap-8 pb-32",children:[f.jsx("aside",{className:"w-full md:w-80 shrink-0 space-y-6",children:f.jsxs("div",{className:"md:sticky md:top-8 space-y-6",children:[f.jsxs("div",{className:"text-center space-y-4 relative",children:[f.jsxs("div",{className:"relative group w-24 h-24 mx-auto",children:[f.jsx("div",{onClick:()=>w.current?.click(),className:"w-full h-full bg-cream-200 rounded-full flex items-center justify-center overflow-hidden cursor-pointer hover:opacity-90 transition-opacity border-2 border-transparent hover:border-cream-300 relative",children:s.avatar?f.jsx("img",{src:s.avatar,alt:"Profile",className:"w-full h-full object-cover"}):f.jsx("div",{className:"text-4xl text-cream-400",children:s.username?.[0]?.toUpperCase()||f.jsx(eo,{size:40})})}),f.jsxs("div",{className:"absolute -bottom-1 -right-1 z-20",ref:C,children:[f.jsx("button",{type:"button",onClick:U=>{U.stopPropagation(),_(!N)},className:"p-2 bg-white rounded-full shadow-md border border-cream-200 text-cream-500 hover:text-cream-700 hover:border-cream-300 transition-all",title:"Change Avatar",children:f.jsx(qc,{size:14})}),N&&f.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 w-36 bg-white rounded-lg shadow-xl border border-cream-100 py-1 overflow-hidden z-30 flex flex-col",children:[f.jsxs("button",{type:"button",className:"w-full px-4 py-2 text-left text-xs font-medium text-cream-700 hover:bg-cream-50 flex items-center gap-2 transition-colors",onClick:()=>{w.current?.click(),_(!1),y(!1)},children:[f.jsx(Gg,{size:12}),n("profile.avatar.upload")]}),f.jsxs("button",{type:"button",className:"w-full px-4 py-2 text-left text-xs font-medium text-cream-700 hover:bg-cream-50 flex items-center gap-2 transition-colors",onClick:()=>{y(!0),_(!1)},children:[f.jsx(A_,{size:12}),n("profile.avatar.link")]})]})]}),f.jsx("input",{type:"file",ref:w,className:"hidden",accept:"image/*",onChange:D})]}),f.jsx(dn,{children:m&&f.jsxs(dt.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute z-50 top-[108px] left-0 right-0 mx-auto w-64 bg-white rounded-xl shadow-xl border border-cream-200 p-4",children:[f.jsx("h3",{className:"text-sm font-semibold text-cream-900 mb-2 text-left",children:n("profile.avatar.linkTitle")}),f.jsx("input",{type:"text",placeholder:"https://example.com/image.png",className:"w-full bg-cream-50 border border-cream-200 rounded-lg px-3 py-2 text-sm text-cream-900 placeholder:text-cream-400 focus:outline-none focus:ring-2 focus:ring-cream-300 mb-3",value:b,onChange:U=>x(U.target.value),autoFocus:!0}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{type:"button",onClick:()=>{y(!1),x("")},className:"px-3 py-1.5 text-xs font-medium text-cream-600 hover:text-cream-800 transition-colors",children:n("profile.common.cancel")}),f.jsx("button",{type:"button",onClick:I,className:"px-3 py-1.5 text-xs font-medium bg-cream-900 text-white rounded-lg hover:bg-cream-800 transition-colors",children:n("profile.common.confirm")})]}),f.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-white border-t border-l border-cream-200 transform rotate-45"})]})}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("input",{type:"text",name:"username",value:s.username,onChange:R,placeholder:n("profile.basicInfo.yourName"),className:"w-full bg-transparent border-none p-0 text-3xl font-bold text-cream-900 placeholder:text-cream-300 focus:ring-0 text-center"}),f.jsx("input",{type:"text",name:"nickname",value:s.nickname,onChange:R,placeholder:n("profile.basicInfo.nickname"),className:"w-full bg-transparent border-none p-0 text-lg text-cream-500 placeholder:text-cream-300 focus:ring-0 text-center"})]})]}),f.jsxs("div",{className:"space-y-2 px-2",children:[f.jsx(Nc,{label:n("profile.basicInfo.identity"),icon:eo,name:"identity",value:s.identity,onChange:R,placeholder:n("profile.basicInfo.identityPlaceholder")}),f.jsx(Bd,{}),f.jsx(Nc,{label:n("profile.basicInfo.birthday"),icon:bl,name:"birthday",type:"date",value:s.birthday,onChange:R}),f.jsx(Bd,{}),f.jsx(Nc,{label:n("profile.basicInfo.residence"),icon:__,name:"residence",value:s.residence,onChange:R,placeholder:n("profile.basicInfo.residencePlaceholder")}),f.jsx(Bd,{}),f.jsx(Nc,{label:n("profile.basicInfo.schoolWork"),icon:U4,name:"schoolWork",value:s.schoolWork,onChange:R,placeholder:n("profile.basicInfo.schoolWorkPlaceholder")}),f.jsx(Bd,{}),f.jsx(Nc,{label:n("profile.basicInfo.location"),icon:O_,name:"schoolWorkLocation",value:s.schoolWorkLocation,onChange:R,placeholder:n("profile.basicInfo.locationPlaceholder")})]}),f.jsxs("button",{type:"submit",disabled:!l,className:`
                w-full flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-medium transition-all
                ${l?"bg-cream-900 text-white hover:bg-cream-800 shadow-md transform hover:-translate-y-0.5":"bg-cream-200 text-cream-400 cursor-not-allowed"}
              `,children:[f.jsx(Ji,{size:18}),n(l?"profile.save.button":"profile.save.saved")]})]})}),f.jsxs("main",{className:"flex-1 space-y-6",children:[f.jsxs("header",{className:"mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-cream-900",children:n("profile.title")}),f.jsx("p",{className:"text-cream-600 mt-1",children:n("profile.subtitle")})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsx(Tc,{title:n("profile.sections.coreSelf"),icon:Yg,className:"lg:col-span-2",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("h4",{className:"text-sm font-semibold text-cream-800 flex items-center gap-2",children:[f.jsx(sf,{size:14})," ",n("profile.fields.personality")]}),f.jsx("textarea",{name:"personality",value:s.personality,onChange:R,placeholder:n("profile.fields.personalityPlaceholder"),rows:4,className:"w-full bg-cream-50/50 rounded-lg border-none p-3 text-cream-900 placeholder:text-cream-300 focus:ring-1 focus:ring-cream-300 resize-none text-sm"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("h4",{className:"text-sm font-semibold text-cream-800 flex items-center gap-2",children:[f.jsx(zS,{size:14})," ",n("profile.fields.values")]}),f.jsx("textarea",{name:"valuesPositive",value:s.valuesPositive,onChange:R,placeholder:n("profile.fields.valuesPlaceholder"),rows:4,className:"w-full bg-cream-50/50 rounded-lg border-none p-3 text-cream-900 placeholder:text-cream-300 focus:ring-1 focus:ring-cream-300 resize-none text-sm"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("h4",{className:"text-sm font-semibold text-cream-800 flex items-center gap-2",children:[f.jsx(J_,{size:14})," ",n("profile.fields.dislikes")]}),f.jsx("textarea",{name:"valuesNegative",value:s.valuesNegative,onChange:R,placeholder:n("profile.fields.dislikesPlaceholder"),rows:4,className:"w-full bg-cream-50/50 rounded-lg border-none p-3 text-cream-900 placeholder:text-cream-300 focus:ring-1 focus:ring-cream-300 resize-none text-sm"})]})]})}),f.jsx(Tc,{title:n("profile.sections.lifeExperience"),icon:jf,className:"lg:col-span-2",children:f.jsx(v$,{items:s.lifeExperience,onChange:U=>E("lifeExperience",U),placeholderYear:n("profile.timeline.yearPlaceholder"),placeholderContent:n("profile.timeline.contentPlaceholder"),addText:n("profile.timeline.add")})}),f.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsx(Tc,{title:n("profile.sections.currentFocus"),icon:ok,children:f.jsx(T$,{items:s.shortTermGoals,onChange:U=>E("shortTermGoals",U),placeholder:n("profile.focus.placeholder"),addText:n("profile.focus.add")})}),f.jsx(Tc,{title:n("profile.sections.interests"),icon:sf,children:f.jsx(S$,{tags:s.interests,onChange:U=>E("interests",U),placeholder:n("profile.interests.add")})})]}),f.jsx("div",{className:"h-full",children:f.jsxs(Tc,{title:n("profile.sections.connections"),icon:kf,className:"h-full",children:[f.jsx(w$,{items:s.coreRelationships,onChange:U=>E("coreRelationships",U),placeholderName:n("profile.connections.namePlaceholder"),placeholderRelation:n("profile.connections.relationPlaceholder"),placeholderNote:n("profile.connections.notePlaceholder"),addText:n("profile.connections.add")}),f.jsxs("div",{className:"mt-4 pt-4 border-t border-cream-100",children:[f.jsxs("div",{className:"flex items-center gap-2 text-cream-900 font-semibold mb-2",children:[f.jsx(DS,{size:18,className:"text-cream-400"}),f.jsx("h4",{className:"text-sm",children:n("profile.pets.title")})]}),f.jsx(N$,{items:s.pets,onChange:U=>E("pets",U),placeholderName:n("profile.pets.namePlaceholder"),placeholderType:n("profile.pets.typePlaceholder"),placeholderNote:n("profile.pets.notePlaceholder"),addText:n("profile.pets.add")})]})]})})]})]})]})]}),f.jsx(dn,{children:d&&f.jsxs(dt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed bottom-8 right-8 z-50 bg-green-50 text-green-800 px-4 py-3 rounded-xl shadow-lg border border-green-200 flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n("profile.save.success")]})})]})};function C$(){return T.useEffect(()=>{const t=gs.initAutoBackup();return()=>clearInterval(t)},[]),f.jsx(S8,{children:f.jsx(zD,{children:f.jsx(oO,{children:f.jsx(BD,{children:f.jsx(m4,{children:f.jsx(V5,{children:f.jsxs(Bs,{path:"/",element:f.jsx(aP,{}),children:[f.jsx(Bs,{index:!0,element:f.jsx(q5,{to:"/write",replace:!0})}),f.jsx(Bs,{path:"calendar",element:f.jsx(sP,{})}),f.jsx(Bs,{path:"date/:date",element:f.jsx(K2,{})}),f.jsx(Bs,{path:"diary/:id",element:f.jsx(K2,{})}),f.jsx(Bs,{path:"categories",element:f.jsx(l$,{})}),f.jsx(Bs,{path:"write",element:f.jsx(p$,{})}),f.jsx(Bs,{path:"profile",element:f.jsx(E$,{})}),f.jsx(Bs,{path:"settings",element:f.jsx(x$,{})})]})})})})})})})}aj.createRoot(document.getElementById("root")).render(f.jsx(T.StrictMode,{children:f.jsx(C$,{})}))});export default A$();
